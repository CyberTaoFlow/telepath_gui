!function(a,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,c){function d(a){var b=a.length,e=k.type(a);return"function"===e||k.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===e||0===b||"number"==typeof b&&0<b&&b-1 in a}function b(a,b,e){if(k.isFunction(b))return k.grep(a,function(a,c){return!!b.call(a,c,
a)!==e});if(b.nodeType)return k.grep(a,function(a){return a===b!==e});if("string"==typeof b){if(ha.test(b))return k.filter(b,a,e);b=k.filter(b,a)}return k.grep(a,function(a){return 0<=k.inArray(a,b)!==e})}function f(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function g(a){var b=aa[a]={};return k.each(a.match(R)||[],function(a,e){b[e]=!0}),b}function e(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(y.detachEvent("onreadystatechange",
h),a.detachEvent("onload",h))}function h(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(e(),k.ready())}function l(a,b,e){if(void 0===e&&1===a.nodeType){var c="data-"+b.replace($a,"-$1").toLowerCase();if(e=a.getAttribute(c),"string"==typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:ab.test(e)?k.parseJSON(e):e}catch(f){}k.data(a,b,e)}else e=void 0}return e}function m(a){for(var b in a)if(("data"!==b||!k.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}
function p(a,b,e,c){if(k.acceptData(a)){var f,d,g=k.expando,h=a.nodeType,l=h?k.cache:a,m=h?a[g]:a[g]&&g;if(m&&l[m]&&(c||l[m].data)||void 0!==e||"string"!=typeof b)return m||(m=h?a[g]=u.pop()||k.guid++:g),l[m]||(l[m]=h?{}:{toJSON:k.noop}),("object"==typeof b||"function"==typeof b)&&(c?l[m]=k.extend(l[m],b):l[m].data=k.extend(l[m].data,b)),d=l[m],c||(d.data||(d.data={}),d=d.data),void 0!==e&&(d[k.camelCase(b)]=e),"string"==typeof b?(f=d[b],null==f&&(f=d[k.camelCase(b)])):f=d,f}}function n(a,b,e){if(k.acceptData(a)){var c,
f,d=a.nodeType,g=d?k.cache:a,h=d?a[k.expando]:k.expando;if(g[h]){if(b&&(c=e?g[h]:g[h].data)){k.isArray(b)?b=b.concat(k.map(b,k.camelCase)):b in c?b=[b]:(b=k.camelCase(b),b=b in c?[b]:b.split(" "));for(f=b.length;f--;)delete c[b[f]];if(e?!m(c):!k.isEmptyObject(c))return}(e||(delete g[h].data,m(g[h])))&&(d?k.cleanData([a],!0):B.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function r(){return!0}function q(){return!1}function v(){try{return y.activeElement}catch(a){}}function G(a){var b=lb.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function t(a,b){var e,c,f=0,d="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!d)for(d=[],e=a.childNodes||a;null!=(c=e[f]);f++)!b||k.nodeName(c,b)?d.push(c):k.merge(d,t(c,b));return void 0===b||b&&k.nodeName(a,b)?k.merge([a],d):d}function C(a){Da.test(a.type)&&(a.defaultChecked=a.checked)}function z(a,
b){return k.nodeName(a,"table")&&k.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function D(a){return a.type=(null!==k.find.attr(a,"type"))+"/"+a.type,a}function E(a){var b=Hb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function I(a,b){for(var e,c=0;null!=(e=a[c]);c++)k._data(e,"globalEval",!b||k._data(b[c],"globalEval"))}function V(a,b){if(1===b.nodeType&&k.hasData(a)){var e,c,f;c=k._data(a);
var d=k._data(b,c),g=c.events;if(g)for(e in delete d.handle,d.events={},g)for(c=0,f=g[e].length;f>c;c++)k.event.add(b,e,g[e][c]);d.data&&(d.data=k.extend({},d.data))}}function S(b,e){var c=k(e.createElement(b)).appendTo(e.body),f=a.getDefaultComputedStyle?a.getDefaultComputedStyle(c[0]).display:k.css(c[0],"display");return c.detach(),f}function N(a){var b=y,e=mb[a];return e||(e=S(a,b),"none"!==e&&e||(Qa=(Qa||k("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Qa[0].contentWindow||
Qa[0].contentDocument).document,b.write(),b.close(),e=S(a,b),Qa.detach()),mb[a]=e),e}function T(a,b){return{get:function(){var e=a();if(null!=e)return e?void delete this.get:(this.get=b).apply(this,arguments)}}}function W(a,b){if(b in a)return b;for(var e=b.charAt(0).toUpperCase()+b.slice(1),c=b,f=nb.length;f--;)if(b=nb[f]+e,b in a)return b;return c}function H(a,b){for(var e,c,f,d=[],g=0,h=a.length;h>g;g++)c=a[g],c.style&&(d[g]=k._data(c,"olddisplay"),e=c.style.display,b?(d[g]||"none"!==e||(c.style.display=
""),""===c.style.display&&Ca(c)&&(d[g]=k._data(c,"olddisplay",N(c.nodeName)))):d[g]||(f=Ca(c),(e&&"none"!==e||!f)&&k._data(c,"olddisplay",f?e:k.css(c,"display"))));for(g=0;h>g;g++)c=a[g],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?d[g]||"":"none"));return a}function J(a,b,e){return(a=Ib.exec(b))?Math.max(0,a[1]-(e||0))+(a[2]||"px"):b}function Y(a,b,e,c,f){b=e===(c?"border":"content")?4:"width"===b?1:0;for(var d=0;4>b;b+=2)"margin"===e&&(d+=k.css(a,e+ka[b],!0,f)),
c?("content"===e&&(d-=k.css(a,"padding"+ka[b],!0,f)),"margin"!==e&&(d-=k.css(a,"border"+ka[b]+"Width",!0,f))):(d+=k.css(a,"padding"+ka[b],!0,f),"padding"!==e&&(d+=k.css(a,"border"+ka[b]+"Width",!0,f)));return d}function ra(a,b,e){var c=!0,f="width"===b?a.offsetWidth:a.offsetHeight,d=Ga(a),g=B.boxSizing()&&"border-box"===k.css(a,"boxSizing",!1,d);if(0>=f||null==f){if(f=Ha(a,b,d),(0>f||null==f)&&(f=a.style[b]),Ta.test(f))return f;c=g&&(B.boxSizingReliable()||f===a.style[b]);f=parseFloat(f)||0}return f+
Y(a,b,e||(g?"border":"content"),c,d)+"px"}function P(a,b,e,c,f){return new P.prototype.init(a,b,e,c,f)}function ua(){return setTimeout(function(){Ma=void 0}),Ma=k.now()}function ia(a,b){var e,c={height:a},f=0;for(b=b?1:0;4>f;f+=2-b)e=ka[f],c["margin"+e]=c["padding"+e]=a;return b&&(c.opacity=c.width=a),c}function ma(a,b,e){for(var c,f=(Ra[b]||[]).concat(Ra["*"]),d=0,g=f.length;g>d;d++)if(c=f[d].call(e,b,a))return c}function M(a,b){var e,c,f,d,g;for(e in a)if(c=k.camelCase(e),f=b[c],d=a[e],k.isArray(d)&&
(f=d[1],d=a[e]=d[0]),e!==c&&(a[c]=d,delete a[e]),g=k.cssHooks[c],g&&"expand"in g)for(e in d=g.expand(d),delete a[c],d)e in a||(a[e]=d[e],b[e]=f);else b[c]=f}function ba(a,b,e){var c,f=0,d=Ua.length,g=k.Deferred().always(function(){delete h.elem}),h=function(){if(c)return!1;for(var b=Ma||ua(),b=Math.max(0,l.startTime+l.duration-b),e=1-(b/l.duration||0),f=0,d=l.tweens.length;d>f;f++)l.tweens[f].run(e);return g.notifyWith(a,[l,e,b]),1>e&&d?b:(g.resolveWith(a,[l]),!1)},l=g.promise({elem:a,props:k.extend({},
b),opts:k.extend(!0,{specialEasing:{}},e),originalProperties:b,originalOptions:e,startTime:Ma||ua(),duration:e.duration,tweens:[],createTween:function(b,e){var c=k.Tween(a,l.opts,b,e,l.opts.specialEasing[b]||l.opts.easing);return l.tweens.push(c),c},stop:function(b){var e=0,f=b?l.tweens.length:0;if(c)return this;for(c=!0;f>e;e++)l.tweens[e].run(1);return b?g.resolveWith(a,[l,b]):g.rejectWith(a,[l,b]),this}});e=l.props;for(M(e,l.opts.specialEasing);d>f;f++)if(b=Ua[f].call(l,a,e,l.opts))return b;return k.map(e,
ma,l),k.isFunction(l.opts.start)&&l.opts.start.call(a,l),k.fx.timer(k.extend(h,{elem:a,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Q(a){return function(b,e){"string"!=typeof b&&(e=b,b="*");var c,f=0,d=b.toLowerCase().match(R)||[];if(k.isFunction(e))for(;c=d[f++];)"+"===c.charAt(0)?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function za(a,b,e,c){function f(h){var l;return d[h]=
!0,k.each(a[h]||[],function(a,h){var K=h(b,e,c);return"string"!=typeof K||g||d[K]?g?!(l=K):void 0:(b.dataTypes.unshift(K),f(K),!1)}),l}var d={},g=a===bb;return f(b.dataTypes[0])||!d["*"]&&f("*")}function va(a,b){var e,c,f=k.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((f[c]?a:e||(e={}))[c]=b[c]);return e&&k.extend(!0,a,e),a}function ja(a,b,e,c){var f;if(k.isArray(b))k.each(b,function(b,f){e||Jb.test(a)?c(a,f):ja(a+"["+("object"==typeof f?b:"")+"]",f,e,c)});else if(e||"object"!==k.type(b))c(a,
b);else for(f in b)ja(a+"["+f+"]",b[f],e,c)}function ca(){try{return new a.XMLHttpRequest}catch(b){}}function L(a){return k.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var u=[],U=u.slice,Aa=u.concat,qa=u.push,w=u.indexOf,da={},na=da.toString,ea=da.hasOwnProperty,F="".trim,B={},k=function(a,b){return new k.fn.init(a,b)},oa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,O=/^-ms-/,wa=/-([\da-z])/gi,Ia=function(a,b){return b.toUpperCase()};k.fn=k.prototype={jquery:"1.11.0",constructor:k,selector:"",
length:0,toArray:function(){return U.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:U.call(this)},pushStack:function(a){a=k.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return k.each(this,a,b)},map:function(a){return this.pushStack(k.map(this,function(b,e){return a.call(b,e,b)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=
this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:qa,sort:u.sort,splice:u.splice};k.extend=k.fn.extend=function(){var a,b,e,c,f,d,g=arguments[0]||{},h=1,l=arguments.length,m=!1;"boolean"==typeof g&&(m=g,g=arguments[h]||{},h++);"object"==typeof g||k.isFunction(g)||(g={});for(h===l&&(g=this,h--);l>h;h++)if(null!=(f=arguments[h]))for(c in f)a=g[c],e=f[c],g!==e&&(m&&e&&(k.isPlainObject(e)||(b=k.isArray(e)))?(b?
(b=!1,d=a&&k.isArray(a)?a:[]):d=a&&k.isPlainObject(a)?a:{},g[c]=k.extend(m,d,e)):void 0!==e&&(g[c]=e));return g};k.extend({expando:"jQuery"+("1.11.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===k.type(a)},isArray:Array.isArray||function(a){return"array"===k.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return 0<=a-parseFloat(a)},isEmptyObject:function(a){for(var b in a)return!1;
return!0},isPlainObject:function(a){var b;if(!a||"object"!==k.type(a)||a.nodeType||k.isWindow(a))return!1;try{if(a.constructor&&!ea.call(a,"constructor")&&!ea.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(B.ownLast)for(b in a)return ea.call(a,b);for(b in a);return void 0===b||ea.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?da[na.call(a)]||"object":typeof a},globalEval:function(b){b&&k.trim(b)&&(a.execScript||function(b){a.eval.call(a,
b)})(b)},camelCase:function(a){return a.replace(O,"ms-").replace(wa,Ia)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,e){var c,f=0,g=a.length,h=d(a);if(e)if(h)for(;g>f&&(c=b.apply(a[f],e),!1!==c);f++);else for(f in a){if(c=b.apply(a[f],e),!1===c)break}else if(h)for(;g>f&&(c=b.call(a[f],f,a[f]),!1!==c);f++);else for(f in a)if(c=b.call(a[f],f,a[f]),!1===c)break;return a},trim:F&&!F.call("\ufeff\u00a0")?function(a){return null==a?"":F.call(a)}:
function(a){return null==a?"":(a+"").replace(oa,"")},makeArray:function(a,b){var e=b||[];return null!=a&&(d(Object(a))?k.merge(e,"string"==typeof a?[a]:a):qa.call(e,a)),e},inArray:function(a,b,e){var c;if(b){if(w)return w.call(b,a,e);c=b.length;for(e=e?0>e?Math.max(0,c+e):e:0;c>e;e++)if(e in b&&b[e]===a)return e}return-1},merge:function(a,b){for(var e=+b.length,c=0,f=a.length;e>c;)a[f++]=b[c++];if(e!==e)for(;void 0!==b[c];)a[f++]=b[c++];return a.length=f,a},grep:function(a,b,e){for(var c=[],f=0,d=
a.length,g=!e;d>f;f++)e=!b(a[f],f),e!==g&&c.push(a[f]);return c},map:function(a,b,e){var c,f=0,g=a.length,h=[];if(d(a))for(;g>f;f++)c=b(a[f],f,e),null!=c&&h.push(c);else for(f in a)c=b(a[f],f,e),null!=c&&h.push(c);return Aa.apply([],h)},guid:1,proxy:function(a,b){var e,c,f;return"string"==typeof b&&(f=a[b],b=a,a=f),k.isFunction(a)?(e=U.call(arguments,2),c=function(){return a.apply(b||this,e.concat(U.call(arguments)))},c.guid=a.guid=a.guid||k.guid++,c):void 0},now:function(){return+new Date},support:B});
k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){da["[object "+b+"]"]=b.toLowerCase()});var A=function(a){function b(a,e,c,f){var d,g,h,l,K;if((e?e.ownerDocument||e:ka)!==X&&E(e),e=e||X,c=c||[],!a||"string"!=typeof a)return c;if(1!==(l=e.nodeType)&&9!==l)return[];if(u&&!f){if(d=za.exec(a))if(h=d[1])if(9===l){if(g=e.getElementById(h),!g||!g.parentNode)return c;if(g.id===h)return c.push(g),c}else{if(e.ownerDocument&&(g=e.ownerDocument.getElementById(h))&&
H(e,g)&&g.id===h)return c.push(g),c}else{if(d[2])return F.apply(c,e.getElementsByTagName(a)),c;if((h=d[3])&&z.getElementsByClassName&&e.getElementsByClassName)return F.apply(c,e.getElementsByClassName(h)),c}if(z.qsa&&(!J||!J.test(a))){if(g=d=aa,h=e,K=9===l&&a,1===l&&"object"!==e.nodeName.toLowerCase()){l=n(a);(d=e.getAttribute("id"))?g=d.replace(U,"\\$&"):e.setAttribute("id",g);g="[id='"+g+"'] ";for(h=l.length;h--;)l[h]=g+A(l[h]);h=va.test(a)&&k(e.parentNode)||e;K=l.join(",")}if(K)try{return F.apply(c,
h.querySelectorAll(K)),c}catch(m){}finally{d||e.removeAttribute("id")}}}var Z;a:{a=a.replace(P,"$1");var ga,p;g=n(a);if(!f&&1===g.length){if(Z=g[0]=g[0].slice(0),2<Z.length&&"ID"===(ga=Z[0]).type&&z.getById&&9===e.nodeType&&u&&y.relative[Z[1].type]){if(e=(y.find.ID(ga.matches[0].replace(ca,O),e)||[])[0],!e){Z=c;break a}a=a.slice(Z.shift().value.length)}for(l=Da.needsContext.test(a)?0:Z.length;l--&&(ga=Z[l],!y.relative[d=ga.type]);)if((p=y.find[d])&&(f=p(ga.matches[0].replace(ca,O),va.test(Z[0].type)&&
k(e.parentNode)||e))){if(Z.splice(l,1),a=f.length&&A(Z),!a){Z=(F.apply(c,f),c);break a}break}}Z=(D(a,g)(f,e,!u,c,va.test(a)&&k(e.parentNode)||e),c)}return Z}function e(){function a(e,c){return b.push(e+" ")>y.cacheLength&&delete a[b.shift()],a[e+" "]=c}var b=[];return a}function c(a){return a[aa]=!0,a}function f(a){var b=X.createElement("div");try{return!!a(b)}catch(e){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function d(a,b){for(var e=a.split("|"),c=a.length;c--;)y.attrHandle[e[c]]=
b}function g(a,b){var e=b&&a,c=e&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(c)return c;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function l(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function m(a){return c(function(b){return b=+b,c(function(e,c){for(var f,d=a([],e.length,b),g=d.length;g--;)e[f=
d[g]]&&(e[f]=!(c[f]=e[f]))})})}function k(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function p(){}function n(a,e){var c,f,d,g,h,l,K;if(h=V[a+" "])return e?0:h.slice(0);h=a;l=[];for(K=y.preFilter;h;){c&&!(f=L.exec(h))||(f&&(h=h.slice(f[0].length)||h),l.push(d=[]));c=!1;(f=ab.exec(h))&&(c=f.shift(),d.push({value:c,type:f[0].replace(P," ")}),h=h.slice(c.length));for(g in y.filter)!(f=Da[g].exec(h))||K[g]&&!(f=K[g](f))||(c=f.shift(),d.push({value:c,type:g,matches:f}),h=h.slice(c.length));
if(!c)break}return e?h.length:h?b.error(a):V(a,l).slice(0)}function A(a){for(var b=0,e=a.length,c="";e>b;b++)c+=a[b].value;return c}function q(a,b,e){var c=b.dir,f=e&&"parentNode"===c,d=Na++;return b.first?function(b,e,d){for(;b=b[c];)if(1===b.nodeType||f)return a(b,e,d)}:function(b,e,g){var h,l,K=[B,d];if(g)for(;b=b[c];){if((1===b.nodeType||f)&&a(b,e,g))return!0}else for(;b=b[c];)if(1===b.nodeType||f){if(l=b[aa]||(b[aa]={}),(h=l[c])&&h[0]===B&&h[1]===d)return K[2]=h[2];if(l[c]=K,K[2]=a(b,e,g))return!0}}}
function v(a){return 1<a.length?function(b,e,c){for(var f=a.length;f--;)if(!a[f](b,e,c))return!1;return!0}:a[0]}function r(a,b,e,c,f){for(var d,g=[],h=0,l=a.length,K=null!=b;l>h;h++)(d=a[h])&&(!e||e(d,c,f))&&(g.push(d),K&&b.push(h));return g}function pa(a,e,f,d,g,h){return d&&!d[aa]&&(d=pa(d)),g&&!g[aa]&&(g=pa(g,h)),c(function(c,h,l,K){var m,k,ga=[],p=[],n=h.length,la;if(!(la=c)){la=e||"*";for(var A=l.nodeType?[l]:l,Pa=[],q=0,Sa=A.length;Sa>q;q++)b(la,A[q],Pa);la=Pa}la=!a||!c&&e?la:r(la,ga,a,l,K);
A=f?g||(c?a:n||d)?[]:h:la;if(f&&f(la,A,l,K),d)for(m=r(A,p),d(m,[],l,K),l=m.length;l--;)(k=m[l])&&(A[p[l]]=!(la[p[l]]=k));if(c){if(g||a){if(g){m=[];for(l=A.length;l--;)(k=A[l])&&m.push(la[l]=k);g(null,A=[],m,K)}for(l=A.length;l--;)(k=A[l])&&-1<(m=g?ja.call(c,k):ga[l])&&(c[m]=!(h[m]=k))}}else A=r(A===h?A.splice(n,A.length):A),g?g(null,h,A,K):F.apply(h,A)})}function sa(a){var b,e,c,f=a.length,d=y.relative[a[0].type];e=d||y.relative[" "];for(var g=d?1:0,h=q(function(a){return a===b},e,!0),l=q(function(a){return-1<
ja.call(b,a)},e,!0),K=[function(a,e,c){return!d&&(c||e!==C)||((b=e).nodeType?h(a,e,c):l(a,e,c))}];f>g;g++)if(e=y.relative[a[g].type])K=[q(v(K),e)];else{if(e=y.filter[a[g].type].apply(null,a[g].matches),e[aa]){for(c=++g;f>c&&!y.relative[a[c].type];c++);return pa(1<g&&v(K),1<g&&A(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":""})).replace(P,"$1"),e,c>g&&sa(a.slice(g,c)),f>c&&sa(a=a.slice(c)),f>c&&A(a))}K.push(e)}return v(K)}function G(a,e){var f=0<e.length,d=0<a.length,g=function(c,g,h,l,K){var m,
k,ga,p=0,n="0",la=c&&[],A=[],Pa=C,q=c||d&&y.find.TAG("*",K),Sa=B+=null==Pa?1:Math.random()||.1,v=q.length;for(K&&(C=g!==X&&g);n!==v&&null!=(m=q[n]);n++){if(d&&m){for(k=0;ga=a[k++];)if(ga(m,g,h)){l.push(m);break}K&&(B=Sa)}f&&((m=!ga&&m)&&p--,c&&la.push(m))}if(p+=n,f&&n!==p){for(k=0;ga=e[k++];)ga(la,A,g,h);if(c){if(0<p)for(;n--;)la[n]||A[n]||(A[n]=Y.call(l));A=r(A)}F.apply(l,A);K&&!c&&0<A.length&&1<p+e.length&&b.uniqueSort(l)}return K&&(B=Sa,C=Pa),la};return f?c(g):g}var t,z,y,ha,ta,D,C,fa,xa,E,X,R,
u,J,w,I,H,aa="sizzle"+-new Date,ka=a.document,B=0,Na=0,N=e(),V=e(),S=e(),Ca=function(a,b){return a===b&&(xa=!0),0},M={}.hasOwnProperty,T=[],Y=T.pop,ba=T.push,F=T.push,Ba=T.slice,ja=T.indexOf||function(a){for(var b=0,e=this.length;e>b;b++)if(this[b]===a)return b;return-1},Ja="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Va="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Ja+")|)|)[\\x20\\t\\r\\n\\f]*\\]",
Q=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Va.replace(3,8)+")*)|.*)\\)|)",P=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),L=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ab=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,W=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),$a=new RegExp(Q),ra=new RegExp("^"+Ja+"$"),Da={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+Va),PSEUDO:new RegExp("^"+Q),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
ma=/^(?:input|select|textarea|button)$/i,ua=/^h\d$/i,ia=/^[^{]+\{\s*\[native \w/,za=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,va=/[+~]/,U=/'|\\/g,ca=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),O=function(a,b,e){a="0x"+b-65536;return a!==a||e?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{F.apply(T=Ba.call(ka.childNodes),ka.childNodes),T[ka.childNodes.length].nodeType}catch(mc){F={apply:T.length?function(a,b){ba.apply(a,Ba.call(b))}:
function(a,b){for(var e=a.length,c=0;a[e++]=b[c++];);a.length=e-1}}}z=b.support={};ta=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};E=b.setDocument=function(a){var b,e=a?a.ownerDocument||a:ka;a=e.defaultView;return e!==X&&9===e.nodeType&&e.documentElement?(X=e,R=e.documentElement,u=!ta(e),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){E()},!1):a.attachEvent&&a.attachEvent("onunload",function(){E()})),z.attributes=f(function(a){return a.className=
"i",!a.getAttribute("className")}),z.getElementsByTagName=f(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),z.getElementsByClassName=ia.test(e.getElementsByClassName)&&f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),z.getById=f(function(a){return R.appendChild(a).id=aa,!e.getElementsByName||!e.getElementsByName(aa).length}),z.getById?(y.find.ID=function(a,
b){if("undefined"!==typeof b.getElementById&&u){var e=b.getElementById(a);return e&&e.parentNode?[e]:[]}},y.filter.ID=function(a){var b=a.replace(ca,O);return function(a){return a.getAttribute("id")===b}}):(delete y.find.ID,y.filter.ID=function(a){var b=a.replace(ca,O);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}}),y.find.TAG=z.getElementsByTagName?function(a,b){return"undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName(a):
void 0}:function(a,b){var e,c=[],f=0,d=b.getElementsByTagName(a);if("*"===a){for(;e=d[f++];)1===e.nodeType&&c.push(e);return c}return d},y.find.CLASS=z.getElementsByClassName&&function(a,b){return"undefined"!==typeof b.getElementsByClassName&&u?b.getElementsByClassName(a):void 0},w=[],J=[],(z.qsa=ia.test(e.querySelectorAll))&&(f(function(a){a.innerHTML="<select t=''><option selected=''></option></select>";a.querySelectorAll("[t^='']").length&&J.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||
J.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var b=e.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&J.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled");a.querySelectorAll("*,:x");
J.push(",.*:")})),(z.matchesSelector=ia.test(I=R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&f(function(a){z.disconnectedMatch=I.call(a,"div");I.call(a,"[s!='']:x");w.push("!=",Q)}),J=J.length&&new RegExp(J.join("|")),w=w.length&&new RegExp(w.join("|")),b=ia.test(R.compareDocumentPosition),H=b||ia.test(R.contains)?function(a,b){var e=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!(!c||1!==c.nodeType||!(e.contains?e.contains(c):a.compareDocumentPosition&&
16&a.compareDocumentPosition(c)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},Ca=b?function(a,b){if(a===b)return xa=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!z.sortDetached&&b.compareDocumentPosition(a)===c?a===e||a.ownerDocument===ka&&H(ka,a)?-1:b===e||b.ownerDocument===ka&&H(ka,b)?1:fa?ja.call(fa,a)-ja.call(fa,b):0:4&c?-1:1)}:function(a,b){if(a===b)return xa=
!0,0;var c,f=0;c=a.parentNode;var d=b.parentNode,h=[a],l=[b];if(!c||!d)return a===e?-1:b===e?1:c?-1:d?1:fa?ja.call(fa,a)-ja.call(fa,b):0;if(c===d)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)l.unshift(c);for(;h[f]===l[f];)f++;return f?g(h[f],l[f]):h[f]===ka?-1:l[f]===ka?1:0},e):X};b.matches=function(a,e){return b(a,null,null,e)};b.matchesSelector=function(a,e){if((a.ownerDocument||a)!==X&&E(a),e=e.replace(W,"='$1']"),!(!z.matchesSelector||!u||w&&w.test(e)||J&&J.test(e)))try{var c=
I.call(a,e);if(c||z.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(f){}return 0<b(e,X,null,[a]).length};b.contains=function(a,b){return(a.ownerDocument||a)!==X&&E(a),H(a,b)};b.attr=function(a,b){(a.ownerDocument||a)!==X&&E(a);var e=y.attrHandle[b.toLowerCase()],e=e&&M.call(y.attrHandle,b.toLowerCase())?e(a,b,!u):void 0;return void 0!==e?e:z.attributes||!u?a.getAttribute(b):(e=a.getAttributeNode(b))&&e.specified?e.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};b.uniqueSort=function(a){var b,e=[],c=0,f=0;if(xa=!z.detectDuplicates,fa=!z.sortStable&&a.slice(0),a.sort(Ca),xa){for(;b=a[f++];)b===a[f]&&(c=e.push(f));for(;c--;)a.splice(e[c],1)}return fa=null,a};ha=b.getText=function(a){var b,e="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)e+=ha(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c++];)e+=ha(b);return e};y=b.selectors={cacheLength:50,createPseudo:c,
match:Da,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,O),a[3]=(a[4]||a[5]||"").replace(ca,O),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),
a},PSEUDO:function(a){var b,e=!a[5]&&a[2];return Da.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:e&&$a.test(e)&&(b=n(e,!0))&&(b=e.indexOf(")",e.length-b)-e.length)&&(a[0]=a[0].slice(0,b),a[2]=e.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,O).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=N[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),N(a,
function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,e,c){return function(f){f=b.attr(f,a);return null==f?"!="===e:e?(f+="","="===e?f===c:"!="===e?f!==c:"^="===e?c&&0===f.indexOf(c):"*="===e?c&&-1<f.indexOf(c):"$="===e?c&&f.slice(-c.length)===c:"~="===e?-1<(" "+f+" ").indexOf(c):"|="===e?f===c||f.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,e,c,f){var d="nth"!==a.slice(0,3),g="last"!==
a.slice(-4),h="of-type"===b;return 1===c&&0===f?function(a){return!!a.parentNode}:function(b,e,l){var K,m,k,Z,ga;e=d!==g?"nextSibling":"previousSibling";var p=b.parentNode,n=h&&b.nodeName.toLowerCase();l=!l&&!h;if(p){if(d){for(;e;){for(m=b;m=m[e];)if(h?m.nodeName.toLowerCase()===n:1===m.nodeType)return!1;ga=e="only"===a&&!ga&&"nextSibling"}return!0}if(ga=[g?p.firstChild:p.lastChild],g&&l)for(l=p[aa]||(p[aa]={}),K=l[a]||[],Z=K[0]===B&&K[1],k=K[0]===B&&K[2],m=Z&&p.childNodes[Z];m=++Z&&m&&m[e]||(k=Z=
0)||ga.pop();){if(1===m.nodeType&&++k&&m===b){l[a]=[B,Z,k];break}}else if(l&&(K=(b[aa]||(b[aa]={}))[a])&&K[0]===B)k=K[1];else for(;(m=++Z&&m&&m[e]||(k=Z=0)||ga.pop())&&((h?m.nodeName.toLowerCase()!==n:1!==m.nodeType)||!++k||(l&&((m[aa]||(m[aa]={}))[a]=[B,k]),m!==b)););return k-=f,k===c||0===k%c&&0<=k/c}}},PSEUDO:function(a,e){var f,d=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return d[aa]?d(e):1<d.length?(f=[a,a,"",e],y.setFilters.hasOwnProperty(a.toLowerCase())?
c(function(a,b){for(var c,f=d(a,e),g=f.length;g--;)c=ja.call(a,f[g]),a[c]=!(b[c]=f[g])}):function(a){return d(a,0,f)}):d}},pseudos:{not:c(function(a){var b=[],e=[],f=D(a.replace(P,"$1"));return f[aa]?c(function(a,b,e,c){var d;e=f(a,null,c,[]);for(c=a.length;c--;)(d=e[c])&&(a[c]=!(b[c]=d))}):function(a,c,d){return b[0]=a,f(b,null,d,e),!e.pop()}}),has:c(function(a){return function(e){return 0<b(a,e).length}}),contains:c(function(a){return function(b){return-1<(b.textContent||b.innerText||ha(b)).indexOf(a)}}),
lang:c(function(a){return ra.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ca,O).toLowerCase(),function(b){var e;do if(e=u?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===a||0===e.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=a.location&&a.location.hash;return e&&e.slice(1)===b.id},root:function(a){return a===R},focus:function(a){return a===X.activeElement&&(!X.hasFocus||X.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return ua.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,e){return[0>e?e+b:e]}),even:m(function(a,b){for(var e=0;b>e;e+=2)a.push(e);return a}),odd:m(function(a,b){for(var e=1;b>e;e+=2)a.push(e);return a}),lt:m(function(a,b,e){for(b=
0>e?e+b:e;0<=--b;)a.push(b);return a}),gt:m(function(a,b,e){for(e=0>e?e+b:e;++e<b;)a.push(e);return a})}};y.pseudos.nth=y.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[t]=h(t);for(t in{submit:!0,reset:!0})y.pseudos[t]=l(t);p.prototype=y.filters=y.pseudos;y.setFilters=new p;D=b.compile=function(a,b){var e,c=[],f=[],d=S[a+" "];if(!d){b||(b=n(a));for(e=b.length;e--;)d=sa(b[e]),d[aa]?c.push(d):f.push(d);d=S(a,G(f,c))}return d};return z.sortStable=aa.split("").sort(Ca).join("")===
aa,z.detectDuplicates=!!xa,E(),z.sortDetached=f(function(a){return 1&a.compareDocumentPosition(X.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,b,e){return e?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),z.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||d("value",function(a,b,e){return e||"input"!==
a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,e){var c;return e?void 0:!0===a[b]?b.toLowerCase():(c=a.getAttributeNode(b))&&c.specified?c.value:null}),b}(a);k.find=A;k.expr=A.selectors;k.expr[":"]=k.expr.pseudos;k.unique=A.uniqueSort;k.text=A.getText;k.isXMLDoc=A.isXML;k.contains=A.contains;var sa=k.expr.match.needsContext,
pa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;k.filter=function(a,b,e){var c=b[0];return e&&(a=":not("+a+")"),1===b.length&&1===c.nodeType?k.find.matchesSelector(c,a)?[c]:[]:k.find.matches(a,k.grep(b,function(a){return 1===a.nodeType}))};k.fn.extend({find:function(a){var b,e=[],c=this,f=c.length;if("string"!=typeof a)return this.pushStack(k(a).filter(function(){for(b=0;f>b;b++)if(k.contains(c[b],this))return!0}));for(b=0;f>b;b++)k.find(a,c[b],e);return e=this.pushStack(1<f?k.unique(e):e),e.selector=
this.selector?this.selector+" "+a:a,e},filter:function(a){return this.pushStack(b(this,a||[],!1))},not:function(a){return this.pushStack(b(this,a||[],!0))},is:function(a){return!!b(this,"string"==typeof a&&sa.test(a)?k(a):a||[],!1).length}});var ta,y=a.document,fa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(a,b){var e,c;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:fa.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||
ta).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),pa.test(e[1])&&k.isPlainObject(b))for(e in b)k.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(c=y.getElementById(e[2]),c&&c.parentNode){if(c.id!==e[2])return ta.find(a);this.length=1;this[0]=c}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):k.isFunction(a)?"undefined"!=typeof ta.ready?
ta.ready(a):a(k):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),k.makeArray(a,this))}).prototype=k.fn;ta=k(y);var X=/^(?:parents|prev(?:Until|All))/,xa={children:!0,contents:!0,next:!0,prev:!0};k.extend({dir:function(a,b,e){var c=[];for(a=a[b];a&&9!==a.nodeType&&(void 0===e||1!==a.nodeType||!k(a).is(e));)1===a.nodeType&&c.push(a),a=a[b];return c},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e}});k.fn.extend({has:function(a){var b,
e=k(a,this),c=e.length;return this.filter(function(){for(b=0;c>b;b++)if(k.contains(this,e[b]))return!0})},closest:function(a,b){for(var e,c=0,f=this.length,d=[],g=sa.test(a)||"string"!=typeof a?k(a,b||this.context):0;f>c;c++)for(e=this[c];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(g?-1<g.index(e):1===e.nodeType&&k.find.matchesSelector(e,a))){d.push(e);break}return this.pushStack(1<d.length?k.unique(d):d)},index:function(a){return a?"string"==typeof a?k.inArray(this[0],k(a)):k.inArray(a.jquery?a[0]:
a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(k.unique(k.merge(this.get(),k(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,"parentNode")},parentsUntil:function(a,b,e){return k.dir(a,"parentNode",e)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},
nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,e){return k.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return k.dir(a,"previousSibling",e)},siblings:function(a){return k.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},contents:function(a){return k.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(e,
c){var f=k.map(this,b,e);return"Until"!==a.slice(-5)&&(c=e),c&&"string"==typeof c&&(f=k.filter(c,f)),1<this.length&&(xa[a]||(f=k.unique(f)),X.test(a)&&(f=f.reverse())),this.pushStack(f)}});var R=/\S+/g,aa={};k.Callbacks=function(a){a="string"==typeof a?aa[a]||g(a):k.extend({},a);var b,e,c,f,d,h,l=[],m=!a.once&&[],p=function(g){e=a.memory&&g;c=!0;d=h||0;h=0;f=l.length;for(b=!0;l&&f>d;d++)if(!1===l[d].apply(g[0],g[1])&&a.stopOnFalse){e=!1;break}b=!1;l&&(m?m.length&&p(m.shift()):e?l=[]:n.disable())},
n={add:function(){if(l){var c=l.length;!function Kb(b){k.each(b,function(b,e){var c=k.type(e);"function"===c?a.unique&&n.has(e)||l.push(e):e&&e.length&&"string"!==c&&Kb(e)})}(arguments);b?f=l.length:e&&(h=c,p(e))}return this},remove:function(){return l&&k.each(arguments,function(a,e){for(var c;-1<(c=k.inArray(e,l,c));)l.splice(c,1),b&&(f>=c&&f--,d>=c&&d--)}),this},has:function(a){return a?-1<k.inArray(a,l):!(!l||!l.length)},empty:function(){return l=[],f=0,this},disable:function(){return l=m=e=void 0,
this},disabled:function(){return!l},lock:function(){return m=void 0,e||n.disable(),this},locked:function(){return!m},fireWith:function(a,e){return!l||c&&!m||(e=e||[],e=[a,e.slice?e.slice():e],b?m.push(e):p(e)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!c}};return n};k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],
e="pending",c={state:function(){return e},always:function(){return f.done(arguments).fail(arguments),this},then:function(){var a=arguments;return k.Deferred(function(e){k.each(b,function(b,d){var g=k.isFunction(a[b])&&a[b];f[d[1]](function(){var a=g&&g.apply(this,arguments);a&&k.isFunction(a.promise)?a.promise().done(e.resolve).fail(e.reject).progress(e.notify):e[d[0]+"With"](this===c?e.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?k.extend(a,c):c}},f=
{};return c.pipe=c.then,k.each(b,function(a,d){var g=d[2],h=d[3];c[d[1]]=g.add;h&&g.add(function(){e=h},b[1^a][2].disable,b[2][2].lock);f[d[0]]=function(){return f[d[0]+"With"](this===f?c:this,arguments),this};f[d[0]+"With"]=g.fireWith}),c.promise(f),a&&a.call(f,f),f},when:function(a){var b=0,e=U.call(arguments),c=e.length,f=1!==c||a&&k.isFunction(a.promise)?c:0,d=1===f?a:k.Deferred(),g=function(a,b,e){return function(c){b[a]=this;e[a]=1<arguments.length?U.call(arguments):c;e===h?d.notifyWith(b,e):
--f||d.resolveWith(b,e)}},h,l,m;if(1<c)for(h=Array(c),l=Array(c),m=Array(c);c>b;b++)e[b]&&k.isFunction(e[b].promise)?e[b].promise().done(g(b,m,e)).fail(d.reject).progress(g(b,l,h)):--f;return f||d.resolveWith(m,e),d.promise()}});var Na;k.fn.ready=function(a){return k.ready.promise().done(a),this};k.extend({isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){if(!0===a?!--k.readyWait:!k.isReady){if(!y.body)return setTimeout(k.ready);k.isReady=!0;!0!==a&&0<--k.readyWait||
(Na.resolveWith(y,[k]),k.fn.trigger&&k(y).trigger("ready").off("ready"))}}});k.ready.promise=function(b){if(!Na)if(Na=k.Deferred(),"complete"===y.readyState)setTimeout(k.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{y.attachEvent("onreadystatechange",h);a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(f){}c&&c.doScroll&&!function la(){if(!k.isReady){try{c.doScroll("left")}catch(a){return setTimeout(la,
50)}e();k.ready()}}()}return Na.promise(b)};for(var Va in k(B))break;B.ownLast="0"!==Va;B.inlineBlockNeedsLayout=!1;k(function(){var a,b,e=y.getElementsByTagName("body")[0];e&&(a=y.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=y.createElement("div"),e.appendChild(a).appendChild(b),"undefined"!==typeof b.style.zoom&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(B.inlineBlockNeedsLayout=3===
b.offsetWidth)&&(e.style.zoom=1)),e.removeChild(a))});(function(){var a=y.createElement("div");if(null==B.deleteExpando){B.deleteExpando=!0;try{delete a.test}catch(b){B.deleteExpando=!1}}})();k.acceptData=function(a){var b=k.noData[(a.nodeName+" ").toLowerCase()],e=+a.nodeType||1;return 1!==e&&9!==e?!1:!b||!0!==b&&a.getAttribute("classid")===b};var ab=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$a=/([A-Z])/g;k.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},
hasData:function(a){return a=a.nodeType?k.cache[a[k.expando]]:a[k.expando],!!a&&!m(a)},data:function(a,b,e){return p(a,b,e)},removeData:function(a,b){return n(a,b)},_data:function(a,b,e){return p(a,b,e,!0)},_removeData:function(a,b){return n(a,b,!0)}});k.fn.extend({data:function(a,b){var e,c,f,d=this[0],g=d&&d.attributes;if(void 0===a){if(this.length&&(f=k.data(d),1===d.nodeType&&!k._data(d,"parsedAttrs"))){for(e=g.length;e--;)c=g[e].name,0===c.indexOf("data-")&&(c=k.camelCase(c.slice(5)),l(d,c,f[c]));
k._data(d,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){k.data(this,a)}):1<arguments.length?this.each(function(){k.data(this,a,b)}):d?l(d,a,k.data(d,a)):void 0},removeData:function(a){return this.each(function(){k.removeData(this,a)})}});k.extend({queue:function(a,b,e){var c;return a?(b=(b||"fx")+"queue",c=k._data(a,b),e&&(!c||k.isArray(e)?c=k._data(a,b,k.makeArray(e)):c.push(e)),c||[]):void 0},dequeue:function(a,b){b=b||"fx";var e=k.queue(a,b),c=e.length,f=e.shift(),d=
k._queueHooks(a,b),g=function(){k.dequeue(a,b)};"inprogress"===f&&(f=e.shift(),c--);f&&("fx"===b&&e.unshift("inprogress"),delete d.stop,f.call(a,g,d));!c&&d&&d.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return k._data(a,e)||k._data(a,e,{empty:k.Callbacks("once memory").add(function(){k._removeData(a,b+"queue");k._removeData(a,e)})})}});k.fn.extend({queue:function(a,b){var e=2;return"string"!=typeof a&&(b=a,a="fx",e--),arguments.length<e?k.queue(this[0],a):void 0===b?this:this.each(function(){var e=
k.queue(this,a,b);k._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var e,c=1,f=k.Deferred(),d=this,g=this.length,h=function(){--c||f.resolveWith(d,[d])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";g--;)(e=k._data(d[g],a+"queueHooks"))&&e.empty&&(c++,e.empty.add(h));return h(),f.promise(b)}});var Ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
ka=["Top","Right","Bottom","Left"],Ca=function(a,b){return a=b||a,"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)},Ba=k.access=function(a,b,e,c,f,d,g){var h=0,l=a.length,m=null==e;if("object"===k.type(e))for(h in f=!0,e)k.access(a,b,h,e[h],!0,d,g);else if(void 0!==c&&(f=!0,k.isFunction(c)||(g=!0),m&&(g?(b.call(a,c),b=null):(m=b,b=function(a,b,e){return m.call(k(a),e)})),b))for(;l>h;h++)b(a[h],e,g?c:c.call(a[h],h,b(a[h],e)));return f?a:m?b.call(a):l?b(a[0],e):d},Da=/^(?:checkbox|radio)$/i;
!function(){var a=y.createDocumentFragment(),b=y.createElement("div"),e=y.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",B.leadingWhitespace=3===b.firstChild.nodeType,B.tbody=!b.getElementsByTagName("tbody").length,B.htmlSerialize=!!b.getElementsByTagName("link").length,B.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,a.appendChild(e),B.appendChecked=e.checked,b.innerHTML=
"<textarea>x</textarea>",B.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",B.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,B.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){B.noCloneEvent=!1}),b.cloneNode(!0).click()),null==B.deleteExpando){B.deleteExpando=!0;try{delete b.test}catch(c){B.deleteExpando=!1}}a=b=e=null}();(function(){var b,e,c=y.createElement("div");for(b in{submit:!0,
change:!0,focusin:!0})e="on"+b,(B[b+"Bubbles"]=e in a)||(c.setAttribute(e,"t"),B[b+"Bubbles"]=!1===c.attributes[e].expando)})();var cb=/^(?:input|select|textarea)$/i,Lb=/^key/,Mb=/^(?:mouse|contextmenu)|click/,ob=/^(?:focusinfocus|focusoutblur)$/,pb=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},add:function(a,b,e,c,f){var d,g,h,l,m,p,n,A,q,v;if(h=k._data(a)){e.handler&&(l=e,e=l.handler,f=l.selector);e.guid||(e.guid=k.guid++);(g=h.events)||(g=h.events={});(p=h.handle)||(p=h.handle=function(a){return"undefined"===
typeof k||a&&k.event.triggered===a.type?void 0:k.event.dispatch.apply(p.elem,arguments)},p.elem=a);b=(b||"").match(R)||[""];for(h=b.length;h--;)d=pb.exec(b[h])||[],q=v=d[1],d=(d[2]||"").split(".").sort(),q&&(m=k.event.special[q]||{},q=(f?m.delegateType:m.bindType)||q,m=k.event.special[q]||{},n=k.extend({type:q,origType:v,data:c,handler:e,guid:e.guid,selector:f,needsContext:f&&k.expr.match.needsContext.test(f),namespace:d.join(".")},l),(A=g[q])||(A=g[q]=[],A.delegateCount=0,m.setup&&!1!==m.setup.call(a,
c,d,p)||(a.addEventListener?a.addEventListener(q,p,!1):a.attachEvent&&a.attachEvent("on"+q,p))),m.add&&(m.add.call(a,n),n.handler.guid||(n.handler.guid=e.guid)),f?A.splice(A.delegateCount++,0,n):A.push(n),k.event.global[q]=!0);a=null}},remove:function(a,b,e,c,f){var d,g,h,l,m,p,n,A,q,v,r,pa=k.hasData(a)&&k._data(a);if(pa&&(p=pa.events)){b=(b||"").match(R)||[""];for(m=b.length;m--;)if(h=pb.exec(b[m])||[],q=r=h[1],v=(h[2]||"").split(".").sort(),q){n=k.event.special[q]||{};q=(c?n.delegateType:n.bindType)||
q;A=p[q]||[];h=h[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=d=A.length;d--;)g=A[d],!f&&r!==g.origType||e&&e.guid!==g.guid||h&&!h.test(g.namespace)||c&&c!==g.selector&&("**"!==c||!g.selector)||(A.splice(d,1),g.selector&&A.delegateCount--,n.remove&&n.remove.call(a,g));l&&!A.length&&(n.teardown&&!1!==n.teardown.call(a,v,pa.handle)||k.removeEvent(a,q,pa.handle),delete p[q])}else for(q in p)k.event.remove(a,q+b[m],e,c,!0);k.isEmptyObject(p)&&(delete pa.handle,k._removeData(a,"events"))}},
trigger:function(b,e,c,f){var d,g,h,l,m,p,n=[c||y],A=ea.call(b,"type")?b.type:b;p=ea.call(b,"namespace")?b.namespace.split("."):[];if(h=d=c=c||y,3!==c.nodeType&&8!==c.nodeType&&!ob.test(A+k.event.triggered)&&(0<=A.indexOf(".")&&(p=A.split("."),A=p.shift(),p.sort()),g=0>A.indexOf(":")&&"on"+A,b=b[k.expando]?b:new k.Event(A,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=p.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||
(b.target=c),e=null==e?[b]:k.makeArray(e,[b]),m=k.event.special[A]||{},f||!m.trigger||!1!==m.trigger.apply(c,e))){if(!f&&!m.noBubble&&!k.isWindow(c)){l=m.delegateType||A;for(ob.test(l+A)||(h=h.parentNode);h;h=h.parentNode)n.push(h),d=h;d===(c.ownerDocument||y)&&n.push(d.defaultView||d.parentWindow||a)}for(p=0;(h=n[p++])&&!b.isPropagationStopped();)b.type=1<p?l:m.bindType||A,(d=(k._data(h,"events")||{})[b.type]&&k._data(h,"handle"))&&d.apply(h,e),(d=g&&h[g])&&d.apply&&k.acceptData(h)&&(b.result=d.apply(h,
e),!1===b.result&&b.preventDefault());if(b.type=A,!(f||b.isDefaultPrevented()||m._default&&!1!==m._default.apply(n.pop(),e))&&k.acceptData(c)&&g&&c[A]&&!k.isWindow(c)){(d=c[g])&&(c[g]=null);k.event.triggered=A;try{c[A]()}catch(q){}k.event.triggered=void 0;d&&(c[g]=d)}return b.result}},dispatch:function(a){a=k.event.fix(a);var b,e,c,f,d,g,h=U.call(arguments);b=(k._data(this,"events")||{})[a.type]||[];var l=k.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,
a)){g=k.event.handlers.call(this,a,b);for(b=0;(f=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,d=0;(c=f.handlers[d++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(c.namespace)||(a.handleObj=c,a.data=c.data,e=((k.event.special[c.origType]||{}).handle||c.handler).apply(f.elem,h),void 0===e||!1!==(a.result=e)||(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(a,b){var e,c,f,d,g=[],h=
b.delegateCount,l=a.target;if(h&&l.nodeType&&(!a.button||"click"!==a.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==a.type)){f=[];for(d=0;h>d;d++)c=b[d],e=c.selector+" ",void 0===f[e]&&(f[e]=c.needsContext?0<=k(e,this).index(l):k.find(e,this,null,[l]).length),f[e]&&f.push(c);f.length&&g.push({elem:l,handlers:f})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[k.expando])return a;var b,e,c;b=a.type;var f=a,d=this.fixHooks[b];
d||(this.fixHooks[b]=d=Mb.test(b)?this.mouseHooks:Lb.test(b)?this.keyHooks:{});c=d.props?this.props.concat(d.props):this.props;a=new k.Event(f);for(b=c.length;b--;)e=c[b],a[e]=f[e];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,d.filter?d.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode",
"key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,c,f,d=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||y,f=c.documentElement,e=c.body,a.pageX=b.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+
(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===d||(a.which=1&d?1:2&d?3:4&d?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==v()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===v()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return k.nodeName(this,"input")&&"checkbox"===
this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,e,c){a=k.extend(new k.Event,e,{type:a,isSimulated:!0,originalEvent:{}});c?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&e.preventDefault()}};k.removeEvent=y.removeEventListener?function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e,!1)}:
function(a,b,e){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,e))};k.Event=function(a,b){return this instanceof k.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault())?r:q):this.type=a,b&&k.extend(this,b),this.timeStamp=a&&a.timeStamp||k.now(),void(this[k.expando]=!0)):new k.Event(a,b)};k.Event.prototype={isDefaultPrevented:q,
isPropagationStopped:q,isImmediatePropagationStopped:q,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=r;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=r;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r;this.stopPropagation()}};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){k.event.special[a]=
{delegateType:b,bindType:b,handle:function(a){var e,c=a.relatedTarget,f=a.handleObj;return(!c||c!==this&&!k.contains(this,c))&&(a.type=f.origType,e=f.handler.apply(this,arguments),a.type=b),e}}});B.submitBubbles||(k.event.special.submit={setup:function(){return k.nodeName(this,"form")?!1:void k.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=k.nodeName(a,"input")||k.nodeName(a,"button")?a.form:void 0)&&!k._data(a,"submitBubbles")&&(k.event.add(a,"submit._submit",function(a){a._submit_bubble=
!0}),k._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&k.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return k.nodeName(this,"form")?!1:void k.event.remove(this,"._submit")}});B.changeBubbles||(k.event.special.change={setup:function(){return cb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(k.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&
(this._just_changed=!0)}),k.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);k.event.simulate("change",this,a,!0)})),!1):void k.event.add(this,"beforeactivate._change",function(a){a=a.target;cb.test(a.nodeName)&&!k._data(a,"changeBubbles")&&(k.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||k.event.simulate("change",this.parentNode,a,!0)}),k._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;
return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return k.event.remove(this,"._change"),!cb.test(this.nodeName)}});B.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(a,b){var e=function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){var c=this.ownerDocument||this,f=k._data(c,b);f||c.addEventListener(a,e,!0);k._data(c,b,(f||0)+1)},teardown:function(){var c=
this.ownerDocument||this,f=k._data(c,b)-1;f?k._data(c,b,f):(c.removeEventListener(a,e,!0),k._removeData(c,b))}}});k.fn.extend({on:function(a,b,e,c,f){var d,g;if("object"==typeof a){"string"!=typeof b&&(e=e||b,b=void 0);for(d in a)this.on(d,b,e,a[d],f);return this}if(null==e&&null==c?(c=b,e=b=void 0):null==c&&("string"==typeof b?(c=e,e=void 0):(c=e,e=b,b=void 0)),!1===c)c=q;else if(!c)return this;return 1===f&&(g=c,c=function(a){return k().off(a),g.apply(this,arguments)},c.guid=g.guid||(g.guid=k.guid++)),
this.each(function(){k.event.add(this,a,c,e,b)})},one:function(a,b,e,c){return this.on(a,b,e,c,1)},off:function(a,b,e){var c,f;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,k(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return(!1===b||"function"==typeof b)&&(e=b,b=void 0),!1===e&&(e=q),this.each(function(){k.event.remove(this,a,e,b)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,
b,this)})},triggerHandler:function(a,b){var e=this[0];return e?k.event.trigger(a,b,e,!0):void 0}});var lb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Nb=/ jQuery\d+="(?:null|\d+)"/g,qb=new RegExp("<(?:"+lb+")[\\s/>]","i"),db=/^\s+/,rb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,sb=/<([\w:]+)/,tb=/<tbody/i,Ob=/<|&#?\w+;/,Pb=/<(?:script|style|link)/i,Qb=/checked\s*(?:[^=]|=\s*.checked.)/i,
ub=/^$|\/(?:java|ecma)script/i,Hb=/^true\/(.*)/,Rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ya={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:B.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},eb=
G(y).appendChild(y.createElement("div"));ya.optgroup=ya.option;ya.tbody=ya.tfoot=ya.colgroup=ya.caption=ya.thead;ya.th=ya.td;k.extend({clone:function(a,b,e){var c,f,d,g,h,l=k.contains(a.ownerDocument,a);if(B.html5Clone||k.isXMLDoc(a)||!qb.test("<"+a.nodeName+">")?d=a.cloneNode(!0):(eb.innerHTML=a.outerHTML,eb.removeChild(d=eb.firstChild)),!(B.noCloneEvent&&B.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||k.isXMLDoc(a)))for(c=t(d),h=t(a),g=0;null!=(f=h[g]);++g)if(c[g]){var m=c[g],p,n=void 0,A;if(1===
m.nodeType){if(p=m.nodeName.toLowerCase(),!B.noCloneEvent&&m[k.expando]){A=k._data(m);for(n in A.events)k.removeEvent(m,n,A.handle);m.removeAttribute(k.expando)}"script"===p&&m.text!==f.text?(D(m).text=f.text,E(m)):"object"===p?(m.parentNode&&(m.outerHTML=f.outerHTML),B.html5Clone&&f.innerHTML&&!k.trim(m.innerHTML)&&(m.innerHTML=f.innerHTML)):"input"===p&&Da.test(f.type)?(m.defaultChecked=m.checked=f.checked,m.value!==f.value&&(m.value=f.value)):"option"===p?m.defaultSelected=m.selected=f.defaultSelected:
("input"===p||"textarea"===p)&&(m.defaultValue=f.defaultValue)}}if(b)if(e)for(h=h||t(a),c=c||t(d),g=0;null!=(f=h[g]);g++)V(f,c[g]);else V(a,d);return c=t(d,"script"),0<c.length&&I(c,!l&&t(a,"script")),d},buildFragment:function(a,b,e,c){for(var f,d,g,h,l,m,p,n=a.length,A=G(b),q=[],v=0;n>v;v++)if(d=a[v],d||0===d)if("object"===k.type(d))k.merge(q,d.nodeType?[d]:d);else if(Ob.test(d)){h=h||A.appendChild(b.createElement("div"));l=(sb.exec(d)||["",""])[1].toLowerCase();p=ya[l]||ya._default;h.innerHTML=
p[1]+d.replace(rb,"<$1></$2>")+p[2];for(f=p[0];f--;)h=h.lastChild;if(!B.leadingWhitespace&&db.test(d)&&q.push(b.createTextNode(db.exec(d)[0])),!B.tbody)for(f=(d="table"!==l||tb.test(d)?"<table>"!==p[1]||tb.test(d)?0:h:h.firstChild)&&d.childNodes.length;f--;)k.nodeName(m=d.childNodes[f],"tbody")&&!m.childNodes.length&&d.removeChild(m);k.merge(q,h.childNodes);for(h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=A.lastChild}else q.push(b.createTextNode(d));h&&A.removeChild(h);B.appendChecked||
k.grep(t(q,"input"),C);for(v=0;d=q[v++];)if((!c||-1===k.inArray(d,c))&&(g=k.contains(d.ownerDocument,d),h=t(A.appendChild(d),"script"),g&&I(h),e))for(f=0;d=h[f++];)ub.test(d.type||"")&&e.push(d);return A},cleanData:function(a,b){for(var e,c,f,d,g=0,h=k.expando,l=k.cache,m=B.deleteExpando,p=k.event.special;null!=(e=a[g]);g++)if((b||k.acceptData(e))&&(f=e[h],d=f&&l[f])){if(d.events)for(c in d.events)p[c]?k.event.remove(e,c):k.removeEvent(e,c,d.handle);l[f]&&(delete l[f],m?delete e[h]:"undefined"!==
typeof e.removeAttribute?e.removeAttribute(h):e[h]=null,u.push(f))}}});k.fn.extend({text:function(a){return Ba(this,function(a){return void 0===a?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||z(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||
9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var e,c=a?k.filter(a,this):this,f=0;null!=(e=c[f]);f++)b||1!==e.nodeType||k.cleanData(t(e)),e.parentNode&&(b&&k.contains(e.ownerDocument,e)&&I(t(e,"script")),e.parentNode.removeChild(e));
return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&k.cleanData(t(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&k.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return k.clone(this,a,b)})},html:function(a){return Ba(this,function(a){var b=this[0]||{},e=0,c=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Nb,""):void 0;if(!("string"!=typeof a||Pb.test(a)||
!B.htmlSerialize&&qb.test(a)||!B.leadingWhitespace&&db.test(a)||ya[(sb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(rb,"<$1></$2>");try{for(;c>e;e++)b=this[e]||{},1===b.nodeType&&(k.cleanData(t(b,!1)),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode;k.cleanData(t(this));a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,
!0)},domManip:function(a,b){a=Aa.apply([],a);var e,c,f,d,g=0,h=this.length,l=this,m=h-1,p=a[0],n=k.isFunction(p);if(n||1<h&&"string"==typeof p&&!B.checkClone&&Qb.test(p))return this.each(function(e){var c=l.eq(e);n&&(a[0]=p.call(this,e,c.html()));c.domManip(a,b)});if(h&&(d=k.buildFragment(a,this[0].ownerDocument,!1,this),e=d.firstChild,1===d.childNodes.length&&(d=e),e)){f=k.map(t(d,"script"),D);for(c=f.length;h>g;g++)e=d,g!==m&&(e=k.clone(e,!0,!0),c&&k.merge(f,t(e,"script"))),b.call(this[g],e,g);
if(c)for(d=f[f.length-1].ownerDocument,k.map(f,E),g=0;c>g;g++)e=f[g],ub.test(e.type||"")&&!k._data(e,"globalEval")&&k.contains(d,e)&&(e.src?k._evalUrl&&k._evalUrl(e.src):k.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Rb,"")));d=e=null}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var e=0,c=[],f=k(a),d=f.length-1;d>=e;e++)a=e===d?this:this.clone(!0),k(f[e])[b](a),
qa.apply(c,a.get());return this.pushStack(c)}});var Qa,mb={};!function(){var a,b,e=y.createElement("div");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=e.getElementsByTagName("a")[0];a.style.cssText="float:left;opacity:.5";B.opacity=/^0.5/.test(a.style.opacity);B.cssFloat=!!a.style.cssFloat;e.style.backgroundClip="content-box";e.cloneNode(!0).style.backgroundClip="";B.clearCloneStyle="content-box"===e.style.backgroundClip;a=e=null;B.shrinkWrapBlocks=function(){var a,
e,c;if(null==b){if(a=y.getElementsByTagName("body")[0],!a)return;e=y.createElement("div");c=y.createElement("div");a.appendChild(e).appendChild(c);b=!1;"undefined"!==typeof c.style.zoom&&(c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",c.innerHTML="<div></div>",c.firstChild.style.width="5px",b=3!==c.offsetWidth);a.removeChild(e)}return b}}();var vb=/^margin/,Ta=new RegExp("^("+
Ja+")(?!px)[a-z%]+$","i"),Ga,Ha,Sb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ga=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Ha=function(a,b,e){var c,f,d,g,h=a.style;return e=e||Ga(a),g=e?e.getPropertyValue(b)||e[b]:void 0,e&&(""!==g||k.contains(a.ownerDocument,a)||(g=k.style(a,b)),Ta.test(g)&&vb.test(b)&&(c=h.width,f=h.minWidth,d=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=e.width,h.width=c,h.minWidth=f,h.maxWidth=d)),void 0===g?g:g+""}):y.documentElement.currentStyle&&
(Ga=function(a){return a.currentStyle},Ha=function(a,b,e){var c,f,d,g,h=a.style;return e=e||Ga(a),g=e?e[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ta.test(g)&&!Sb.test(b)&&(c=h.left,f=a.runtimeStyle,d=f&&f.left,d&&(f.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=c,d&&(f.left=d)),void 0===g?g:g+""||"auto"});!function(){function b(){var e,c,l=y.getElementsByTagName("body")[0];l&&(e=y.createElement("div"),c=y.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",
l.appendChild(e).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",k.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){f=4===c.offsetWidth}),d=!0,g=!1,h=!0,a.getComputedStyle&&(g="1%"!==(a.getComputedStyle(c,null)||{}).top,d="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),l.removeChild(e),c=l=null)}var e,c,f,d,g,h,l=y.createElement("div");l.innerHTML=
"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";e=l.getElementsByTagName("a")[0];e.style.cssText="float:left;opacity:.5";B.opacity=/^0.5/.test(e.style.opacity);B.cssFloat=!!e.style.cssFloat;l.style.backgroundClip="content-box";l.cloneNode(!0).style.backgroundClip="";B.clearCloneStyle="content-box"===l.style.backgroundClip;e=l=null;k.extend(B,{reliableHiddenOffsets:function(){if(null!=c)return c;var a,b,e,f=y.createElement("div"),d=y.getElementsByTagName("body")[0];if(d)return f.setAttribute("className",
"t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=y.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",d.appendChild(a).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=f.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",e=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=e&&0===b[0].offsetHeight,d.removeChild(a),c},boxSizing:function(){return null==
f&&b(),f},boxSizingReliable:function(){return null==d&&b(),d},pixelPosition:function(){return null==g&&b(),g},reliableMarginRight:function(){var b,e,c,f;if(null==h&&a.getComputedStyle){if(b=y.getElementsByTagName("body")[0],!b)return;e=y.createElement("div");c=y.createElement("div");e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";b.appendChild(e).appendChild(c);f=c.appendChild(y.createElement("div"));f.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";
f.style.marginRight=f.style.width="0";c.style.width="1px";h=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight);b.removeChild(e)}return h}})}();k.swap=function(a,b,e,c){var f,d={};for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=e.apply(a,c||[]);for(f in b)a.style[f]=d[f];return e};var fb=/alpha\([^)]*\)/i,Tb=/opacity\s*=\s*([^)]*)/,Ub=/^(none|table(?!-c[ea]).+)/,Ib=new RegExp("^("+Ja+")(.*)$","i"),Vb=new RegExp("^([+-])=("+Ja+")","i"),Wb={position:"absolute",visibility:"hidden",display:"block"},
wb={letterSpacing:0,fontWeight:400},nb=["Webkit","O","Moz","ms"];k.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=Ha(a,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":B.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,e,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,d,g,h=k.camelCase(b),l=a.style;if(b=k.cssProps[h]||(k.cssProps[h]=W(l,h)),g=k.cssHooks[b]||
k.cssHooks[h],void 0===e)return g&&"get"in g&&void 0!==(f=g.get(a,!1,c))?f:l[b];if(d=typeof e,"string"===d&&(f=Vb.exec(e))&&(e=(f[1]+1)*f[2]+parseFloat(k.css(a,b)),d="number"),null!=e&&e===e&&("number"!==d||k.cssNumber[h]||(e+="px"),B.clearCloneStyle||""!==e||0!==b.indexOf("background")||(l[b]="inherit"),!(g&&"set"in g&&void 0===(e=g.set(a,e,c)))))try{l[b]="",l[b]=e}catch(m){}}},css:function(a,b,e,c){var f,d,g,h=k.camelCase(b);return b=k.cssProps[h]||(k.cssProps[h]=W(a.style,h)),g=k.cssHooks[b]||
k.cssHooks[h],g&&"get"in g&&(d=g.get(a,!0,e)),void 0===d&&(d=Ha(a,b,c)),"normal"===d&&b in wb&&(d=wb[b]),""===e||e?(f=parseFloat(d),!0===e||k.isNumeric(f)?f||0:d):d}});k.each(["height","width"],function(a,b){k.cssHooks[b]={get:function(a,e,c){return e?0===a.offsetWidth&&Ub.test(k.css(a,"display"))?k.swap(a,Wb,function(){return ra(a,b,c)}):ra(a,b,c):void 0},set:function(a,e,c){var f=c&&Ga(a);return J(a,e,c?Y(a,b,c,B.boxSizing()&&"border-box"===k.css(a,"boxSizing",!1,f),f):0)}}});B.opacity||(k.cssHooks.opacity=
{get:function(a,b){return Tb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var e=a.style,c=a.currentStyle,f=k.isNumeric(b)?"alpha(opacity="+100*b+")":"",d=c&&c.filter||e.filter||"";e.zoom=1;(1<=b||""===b)&&""===k.trim(d.replace(fb,""))&&e.removeAttribute&&(e.removeAttribute("filter"),""===b||c&&!c.filter)||(e.filter=fb.test(d)?d.replace(fb,f):d+" "+f)}});k.cssHooks.marginRight=T(B.reliableMarginRight,function(a,b){return b?
k.swap(a,{display:"inline-block"},Ha,[a,"marginRight"]):void 0});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(e){var c=0,f={};for(e="string"==typeof e?e.split(" "):[e];4>c;c++)f[a+ka[c]+b]=e[c]||e[c-2]||e[0];return f}};vb.test(a)||(k.cssHooks[a+b].set=J)});k.fn.extend({css:function(a,b){return Ba(this,function(a,b,e){var c,f={},d=0;if(k.isArray(b)){e=Ga(a);for(c=b.length;c>d;d++)f[b[d]]=k.css(a,b[d],!1,e);return f}return void 0!==e?k.style(a,b,e):k.css(a,
b)},a,b,1<arguments.length)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ca(this)?k(this).show():k(this).hide()})}});k.Tween=P;P.prototype={constructor:P,init:function(a,b,e,c,f,d){this.elem=a;this.prop=e;this.easing=f||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=d||(k.cssNumber[e]?"":"px")},cur:function(){var a=P.propHooks[this.prop];return a&&a.get?a.get(this):
P.propHooks._default.get(this)},run:function(a){var b,e=P.propHooks[this.prop];return this.pos=b=this.options.duration?k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):P.propHooks._default.set(this),this}};P.prototype.init.prototype=P.prototype;P.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?
(b=k.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){k.fx.step[a.prop]?k.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};k.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};k.fx=P.prototype.init;k.fx.step={};var Ma,
Wa,Xb=/^(?:toggle|show|hide)$/,xb=new RegExp("^(?:([+-])=|)("+Ja+")([a-z%]*)$","i"),Yb=/queueHooks$/,Ua=[function(a,b,e){var c,f,d,g,h,l,m,p=this,n={},A=a.style,q=a.nodeType&&Ca(a),v=k._data(a,"fxshow");e.queue||(g=k._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,p.always(function(){p.always(function(){g.unqueued--;k.queue(a,"fx").length||g.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(e.overflow=[A.overflow,
A.overflowX,A.overflowY],l=k.css(a,"display"),m=N(a.nodeName),"none"===l&&(l=m),"inline"===l&&"none"===k.css(a,"float")&&(B.inlineBlockNeedsLayout&&"inline"!==m?A.zoom=1:A.display="inline-block"));e.overflow&&(A.overflow="hidden",B.shrinkWrapBlocks()||p.always(function(){A.overflow=e.overflow[0];A.overflowX=e.overflow[1];A.overflowY=e.overflow[2]}));for(c in b)if(f=b[c],Xb.exec(f)){if(delete b[c],d=d||"toggle"===f,f===(q?"hide":"show")){if("show"!==f||!v||void 0===v[c])continue;q=!0}n[c]=v&&v[c]||
k.style(a,c)}if(!k.isEmptyObject(n))for(c in v?"hidden"in v&&(q=v.hidden):v=k._data(a,"fxshow",{}),d&&(v.hidden=!q),q?k(a).show():p.done(function(){k(a).hide()}),p.done(function(){var b;k._removeData(a,"fxshow");for(b in n)k.style(a,b,n[b])}),n)b=ma(q?v[c]:0,c,p),c in v||(v[c]=b.start,q&&(b.end=b.start,b.start="width"===c||"height"===c?1:0))}],Ra={"*":[function(a,b){var e=this.createTween(a,b),c=e.cur(),f=xb.exec(b),d=f&&f[3]||(k.cssNumber[a]?"":"px"),g=(k.cssNumber[a]||"px"!==d&&+c)&&xb.exec(k.css(e.elem,
a)),h=1,l=20;if(g&&g[3]!==d){d=d||g[3];f=f||[];g=+c||1;do h=h||".5",g/=h,k.style(e.elem,a,g+d);while(h!==(h=e.cur()/c)&&1!==h&&--l)}return f&&(g=e.start=+g||+c||0,e.unit=d,e.end=f[1]?g+(f[1]+1)*f[2]:+f[2]),e}]};k.Animation=k.extend(ba,{tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var e,c=0,f=a.length;f>c;c++)e=a[c],Ra[e]=Ra[e]||[],Ra[e].unshift(b)},prefilter:function(a,b){b?Ua.unshift(a):Ua.push(a)}});k.speed=function(a,b,e){var c=a&&"object"==typeof a?k.extend({},a):{complete:e||
!e&&b||k.isFunction(a)&&a,duration:a,easing:e&&b||b&&!k.isFunction(b)&&b};return c.duration=k.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in k.fx.speeds?k.fx.speeds[c.duration]:k.fx.speeds._default,(null==c.queue||!0===c.queue)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){k.isFunction(c.old)&&c.old.call(this);c.queue&&k.dequeue(this,c.queue)},c};k.fn.extend({fadeTo:function(a,b,e,c){return this.filter(Ca).css("opacity",0).show().end().animate({opacity:b},a,e,c)},animate:function(a,
b,e,c){var f=k.isEmptyObject(a),d=k.speed(b,e,c);b=function(){var b=ba(this,k.extend({},a),d);(f||k._data(this,"finish"))&&b.stop(!0)};return b.finish=b,f||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,e){var c=function(a){var b=a.stop;delete a.stop;b(e)};return"string"!=typeof a&&(e=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,f=null!=a&&a+"queueHooks",d=k.timers,g=k._data(this);if(f)g[f]&&g[f].stop&&c(g[f]);else for(f in g)g[f]&&g[f].stop&&
Yb.test(f)&&c(g[f]);for(f=d.length;f--;)d[f].elem!==this||null!=a&&d[f].queue!==a||(d[f].anim.stop(e),b=!1,d.splice(f,1));!b&&e||k.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,e=k._data(this),c=e[a+"queue"];b=e[a+"queueHooks"];var f=k.timers,d=c?c.length:0;e.finish=!0;k.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;d>b;b++)c[b]&&c[b].finish&&c[b].finish.call(this);
delete e.finish})}});k.each(["toggle","show","hide"],function(a,b){var e=k.fn[b];k.fn[b]=function(a,c,f){return null==a||"boolean"==typeof a?e.apply(this,arguments):this.animate(ia(b,!0),a,c,f)}});k.each({slideDown:ia("show"),slideUp:ia("hide"),slideToggle:ia("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){k.fn[a]=function(a,e,c){return this.animate(b,a,e,c)}});k.timers=[];k.fx.tick=function(){var a,b=k.timers,e=0;for(Ma=k.now();e<b.length;e++)a=
b[e],a()||b[e]!==a||b.splice(e--,1);b.length||k.fx.stop();Ma=void 0};k.fx.timer=function(a){k.timers.push(a);a()?k.fx.start():k.timers.pop()};k.fx.interval=13;k.fx.start=function(){Wa||(Wa=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(Wa);Wa=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fn.delay=function(a,b){return a=k.fx?k.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,e){var c=setTimeout(b,a);e.stop=function(){clearTimeout(c)}})};(function(){var a,b,e,c,
f=y.createElement("div");f.setAttribute("className","t");f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=f.getElementsByTagName("a")[0];e=y.createElement("select");c=e.appendChild(y.createElement("option"));b=f.getElementsByTagName("input")[0];a.style.cssText="top:1px";B.getSetAttribute="t"!==f.className;B.style=/top/.test(a.getAttribute("style"));B.hrefNormalized="/a"===a.getAttribute("href");B.checkOn=!!b.value;B.optSelected=c.selected;B.enctype=!!y.createElement("form").enctype;
e.disabled=!0;B.optDisabled=!c.disabled;b=y.createElement("input");b.setAttribute("value","");B.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");B.radioValue="t"===b.value})();var Zb=/\r/g;k.fn.extend({val:function(a){var b,e,c,f=this[0];if(arguments.length)return c=k.isFunction(a),this.each(function(e){var f;1===this.nodeType&&(f=c?a.call(this,e,k(this).val()):a,null==f?f="":"number"==typeof f?f+="":k.isArray(f)&&(f=k.map(f,function(a){return null==a?"":a+""})),b=k.valHooks[this.type]||
k.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,f,"value")||(this.value=f))});if(f)return b=k.valHooks[f.type]||k.valHooks[f.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(e=b.get(f,"value"))?e:(e=f.value,"string"==typeof e?e.replace(Zb,""):null==e?"":e)}});k.extend({valHooks:{option:{get:function(a){var b=k.find.attr(a,"value");return null!=b?b:k.text(a)}},select:{get:function(a){for(var b,e=a.options,c=a.selectedIndex,f="select-one"===a.type||0>c,d=f?null:[],g=f?c+1:e.length,
h=0>c?g:f?c:0;g>h;h++)if(b=e[h],!(!b.selected&&h!==c||(B.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){if(a=k(b).val(),f)return a;d.push(a)}return d},set:function(a,b){for(var e,c,f=a.options,d=k.makeArray(b),g=f.length;g--;)if(c=f[g],0<=k.inArray(k.valHooks.option.get(c),d))try{c.selected=e=!0}catch(h){c.scrollHeight}else c.selected=!1;return e||(a.selectedIndex=-1),f}}}});k.each(["radio","checkbox"],function(){k.valHooks[this]=
{set:function(a,b){return k.isArray(b)?a.checked=0<=k.inArray(k(a).val(),b):void 0}};B.checkOn||(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Oa,yb,Ea=k.expr.attrHandle,gb=/^(?:checked|selected)$/i,Ka=B.getSetAttribute,Xa=B.input;k.fn.extend({attr:function(a,b){return Ba(this,k.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})}});k.extend({attr:function(a,b,e){var c,f,d=a.nodeType;if(a&&3!==d&&8!==
d&&2!==d)return"undefined"===typeof a.getAttribute?k.prop(a,b,e):(1===d&&k.isXMLDoc(a)||(b=b.toLowerCase(),c=k.attrHooks[b]||(k.expr.match.bool.test(b)?yb:Oa)),void 0===e?c&&"get"in c&&null!==(f=c.get(a,b))?f:(f=k.find.attr(a,b),null==f?void 0:f):null!==e?c&&"set"in c&&void 0!==(f=c.set(a,e,b))?f:(a.setAttribute(b,e+""),e):void k.removeAttr(a,b))},removeAttr:function(a,b){var e,c,f=0,d=b&&b.match(R);if(d&&1===a.nodeType)for(;e=d[f++];)c=k.propFix[e]||e,k.expr.match.bool.test(e)?Xa&&Ka||!gb.test(e)?
a[c]=!1:a[k.camelCase("default-"+e)]=a[c]=!1:k.attr(a,e,""),a.removeAttribute(Ka?e:c)},attrHooks:{type:{set:function(a,b){if(!B.radioValue&&"radio"===b&&k.nodeName(a,"input")){var e=a.value;return a.setAttribute("type",b),e&&(a.value=e),b}}}}});yb={set:function(a,b,e){return!1===b?k.removeAttr(a,e):Xa&&Ka||!gb.test(e)?a.setAttribute(!Ka&&k.propFix[e]||e,e):a[k.camelCase("default-"+e)]=a[e]=!0,e}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,b){var e=Ea[b]||k.find.attr;Ea[b]=Xa&&Ka||!gb.test(b)?
function(a,b,c){var f,d;return c||(d=Ea[b],Ea[b]=f,f=null!=e(a,b,c)?b.toLowerCase():null,Ea[b]=d),f}:function(a,b,e){return e?void 0:a[k.camelCase("default-"+b)]?b.toLowerCase():null}});Xa&&Ka||(k.attrHooks.value={set:function(a,b,e){return k.nodeName(a,"input")?void(a.defaultValue=b):Oa&&Oa.set(a,b,e)}});Ka||(Oa={set:function(a,b,e){var c=a.getAttributeNode(e);return c||a.setAttributeNode(c=a.ownerDocument.createAttribute(e)),c.value=b+="","value"===e||b===a.getAttribute(e)?b:void 0}},Ea.id=Ea.name=
Ea.coords=function(a,b,e){var c;return e?void 0:(c=a.getAttributeNode(b))&&""!==c.value?c.value:null},k.valHooks.button={get:function(a,b){var e=a.getAttributeNode(b);return e&&e.specified?e.value:void 0},set:Oa.set},k.attrHooks.contenteditable={set:function(a,b,e){Oa.set(a,""===b?!1:b,e)}},k.each(["width","height"],function(a,b){k.attrHooks[b]={set:function(a,e){return""===e?(a.setAttribute(b,"auto"),e):void 0}}}));B.style||(k.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,
b){return a.style.cssText=b+""}});var $b=/^(?:input|select|textarea|button|object)$/i,ac=/^(?:a|area)$/i;k.fn.extend({prop:function(a,b){return Ba(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){return a=k.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}});k.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,e){var c,f,d,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return d=1!==g||!k.isXMLDoc(a),d&&(b=k.propFix[b]||b,f=k.propHooks[b]),void 0!==
e?f&&"set"in f&&void 0!==(c=f.set(a,e,b))?c:a[b]=e:f&&"get"in f&&null!==(c=f.get(a,b))?c:a[b]},propHooks:{tabIndex:{get:function(a){var b=k.find.attr(a,"tabindex");return b?parseInt(b,10):$b.test(a.nodeName)||ac.test(a.nodeName)&&a.href?0:-1}}}});B.hrefNormalized||k.each(["href","src"],function(a,b){k.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});B.optSelected||(k.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),
null}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){k.propFix[this.toLowerCase()]=this});B.enctype||(k.propFix.enctype="encoding");var hb=/[\t\r\n\f]/g;k.fn.extend({addClass:function(a){var b,e,c,f,d,g=0,h=this.length;b="string"==typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(R)||[];h>g;g++)if(e=this[g],c=1===e.nodeType&&
(e.className?(" "+e.className+" ").replace(hb," "):" ")){for(d=0;f=b[d++];)0>c.indexOf(" "+f+" ")&&(c+=f+" ");c=k.trim(c);e.className!==c&&(e.className=c)}return this},removeClass:function(a){var b,e,c,f,d,g=0,h=this.length;b=0===arguments.length||"string"==typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(R)||[];h>g;g++)if(e=this[g],c=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(hb," "):"")){for(d=
0;f=b[d++];)for(;0<=c.indexOf(" "+f+" ");)c=c.replace(" "+f+" "," ");c=a?k.trim(c):"";e.className!==c&&(e.className=c)}return this},toggleClass:function(a,b){var e=typeof a;return"boolean"==typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):this.each(k.isFunction(a)?function(e){k(this).toggleClass(a.call(this,e,this.className,b),b)}:function(){if("string"===e)for(var b,c=0,f=k(this),d=a.match(R)||[];b=d[c++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else("undefined"===e||"boolean"===
e)&&(this.className&&k._data(this,"__className__",this.className),this.className=this.className||!1===a?"":k._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;e>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(hb," ").indexOf(a))return!0;return!1}});k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){k.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,c){return this.on(b,a,e,c)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)}});var ib=k.now(),jb=/\?/,bc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
k.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var e,c=null,f=k.trim(b+"");return f&&!k.trim(f.replace(bc,function(a,b,f,d){return e&&b&&(c=0),0===c?a:(e=f||b,c+=!d-!f,"")}))?Function("return "+f)():k.error("Invalid JSON: "+b)};k.parseXML=function(b){var e,c;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(c=new DOMParser,e=c.parseFromString(b,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(b))}catch(f){e=void 0}return e&&e.documentElement&&
!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+b),e};var La,Fa,cc=/#.*$/,zb=/([?&])_=[^&]*/,dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,Ab=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bb={},bb={},Cb="*/".concat("*");try{Fa=location.href}catch(K){Fa=y.createElement("a"),Fa.href="",Fa=Fa.href}La=Ab.exec(Fa.toLowerCase())||[];k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(La[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?va(va(a,
k.ajaxSettings),b):va(k.ajaxSettings,a)},ajaxPrefilter:Q(Bb),ajaxTransport:Q(bb),ajax:function(a,b){function e(a,b,c,f){var p,sa,y,G,ha=b;if(2!==z){z=2;h&&clearTimeout(h);m=void 0;g=f||"";t.readyState=0<a?4:0;f=200<=a&&300>a||304===a;if(c){y=n;for(var ta=t,K,D,fa,C,xa=y.contents,X=y.dataTypes;"*"===X[0];)X.shift(),void 0===D&&(D=y.mimeType||ta.getResponseHeader("Content-Type"));if(D)for(C in xa)if(xa[C]&&xa[C].test(D)){X.unshift(C);break}if(X[0]in c)fa=X[0];else{for(C in c){if(!X[0]||y.converters[C+
" "+X[0]]){fa=C;break}K||(K=C)}fa=fa||K}y=fa?(fa!==X[0]&&X.unshift(fa),c[fa]):void 0}var E;a:{c=n;K=y;D=t;fa=f;var R,u,J;y={};ta=c.dataTypes.slice();if(ta[1])for(R in c.converters)y[R.toLowerCase()]=c.converters[R];for(C=ta.shift();C;)if(c.responseFields[C]&&(D[c.responseFields[C]]=K),!J&&fa&&c.dataFilter&&(K=c.dataFilter(K,c.dataType)),J=C,C=ta.shift())if("*"===C)C=J;else if("*"!==J&&J!==C){if(R=y[J+" "+C]||y["* "+C],!R)for(E in y)if(u=E.split(" "),u[1]===C&&(R=y[J+" "+u[0]]||y["* "+u[0]])){!0===
R?R=y[E]:!0!==y[E]&&(C=u[0],ta.unshift(u[1]));break}if(!0!==R)if(R&&c["throws"])K=R(K);else try{K=R(K)}catch(Z){E={state:"parsererror",error:R?Z:"No conversion from "+J+" to "+C};break a}}E={state:"success",data:K}}y=E;f?(n.ifModified&&(G=t.getResponseHeader("Last-Modified"),G&&(k.lastModified[d]=G),G=t.getResponseHeader("etag"),G&&(k.etag[d]=G)),204===a||"HEAD"===n.type?ha="nocontent":304===a?ha="notmodified":(ha=y.state,p=y.data,sa=y.error,f=!sa)):(sa=ha,(a||!ha)&&(ha="error",0>a&&(a=0)));t.status=
a;t.statusText=(b||ha)+"";f?v.resolveWith(A,[p,ha,t]):v.rejectWith(A,[t,ha,sa]);t.statusCode(pa);pa=void 0;l&&q.trigger(f?"ajaxSuccess":"ajaxError",[t,n,f?p:sa]);r.fireWith(A,[t,ha]);l&&(q.trigger("ajaxComplete",[t,n]),--k.active||k.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=void 0);b=b||{};var c,f,d,g,h,l,m,p,n=k.ajaxSetup({},b),A=n.context||n,q=n.context&&(A.nodeType||A.jquery)?k(A):k.event,v=k.Deferred(),r=k.Callbacks("once memory"),pa=n.statusCode||{},sa={},y={},z=0,G="canceled",t=
{readyState:0,getResponseHeader:function(a){var b;if(2===z){if(!p)for(p={};b=dc.exec(g);)p[b[1].toLowerCase()]=b[2];b=p[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===z?g:null},setRequestHeader:function(a,b){var e=a.toLowerCase();return z||(a=y[e]=y[e]||a,sa[a]=b),this},overrideMimeType:function(a){return z||(n.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>z)for(b in a)pa[b]=[pa[b],a[b]];else t.always(a[t.status]);return this},abort:function(a){a=a||
G;return m&&m.abort(a),e(0,a),this}};if(v.promise(t).complete=r.add,t.success=t.done,t.error=t.fail,n.url=((a||n.url||Fa)+"").replace(cc,"").replace(fc,La[1]+"//"),n.type=b.method||b.type||n.method||n.type,n.dataTypes=k.trim(n.dataType||"*").toLowerCase().match(R)||[""],null==n.crossDomain&&(c=Ab.exec(n.url.toLowerCase()),n.crossDomain=!(!c||c[1]===La[1]&&c[2]===La[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(La[3]||("http:"===La[1]?"80":"443")))),n.data&&n.processData&&"string"!=typeof n.data&&(n.data=
k.param(n.data,n.traditional)),za(Bb,n,b,t),2===z)return t;(l=n.global)&&0===k.active++&&k.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!ec.test(n.type);d=n.url;n.hasContent||(n.data&&(d=n.url+=(jb.test(d)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=zb.test(d)?d.replace(zb,"$1_="+ib++):d+(jb.test(d)?"&":"?")+"_="+ib++));n.ifModified&&(k.lastModified[d]&&t.setRequestHeader("If-Modified-Since",k.lastModified[d]),k.etag[d]&&t.setRequestHeader("If-None-Match",k.etag[d]));
(n.data&&n.hasContent&&!1!==n.contentType||b.contentType)&&t.setRequestHeader("Content-Type",n.contentType);t.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+Cb+"; q=0.01":""):n.accepts["*"]);for(f in n.headers)t.setRequestHeader(f,n.headers[f]);if(n.beforeSend&&(!1===n.beforeSend.call(A,t,n)||2===z))return t.abort();G="abort";for(f in{success:1,error:1,complete:1})t[f](n[f]);if(m=za(bb,n,b,t)){t.readyState=1;l&&q.trigger("ajaxSend",
[t,n]);n.async&&0<n.timeout&&(h=setTimeout(function(){t.abort("timeout")},n.timeout));try{z=1,m.send(sa,e)}catch(ha){if(!(2>z))throw ha;e(-1,ha)}}else e(-1,"No Transport");return t},getJSON:function(a,b,e){return k.get(a,b,e,"json")},getScript:function(a,b){return k.get(a,void 0,b,"script")}});k.each(["get","post"],function(a,b){k[b]=function(a,e,c,f){return k.isFunction(e)&&(f=f||c,c=e,e=void 0),k.ajax({url:a,type:b,dataType:f,data:e,success:c})}});k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){k.fn[b]=function(a){return this.on(b,a)}});k._evalUrl=function(a){return k.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};k.fn.extend({wrapAll:function(a){if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,b))});if(this[0]){var b=k(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){return this.each(k.isFunction(a)?function(b){k(this).wrapInner(a.call(this,b))}:function(){var b=k(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(e){k(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});k.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!B.reliableHiddenOffsets()&&
"none"===(a.style&&a.style.display||k.css(a,"display"))};k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)};var gc=/%20/g,Jb=/\[\]$/,Db=/\r?\n/g,hc=/^(?:submit|button|image|reset|file)$/i,ic=/^(?:input|select|textarea|keygen)/i;k.param=function(a,b){var e,c=[],f=function(a,b){b=k.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,
function(){f(this.name,this.value)});else for(e in a)ja(e,a[e],b,f);return c.join("&").replace(gc,"+")};k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&ic.test(this.nodeName)&&!hc.test(a)&&(this.checked||!Da.test(a))}).map(function(a,b){var e=k(this).val();return null==e?null:k.isArray(e)?
k.map(e,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:e.replace(Db,"\r\n")}}).get()}});k.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ca()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(e){}b=void 0}return b}:ca;var jc=0,Ya={},Za=k.ajaxSettings.xhr();a.ActiveXObject&&k(a).on("unload",function(){for(var a in Ya)Ya[a](void 0,!0)});B.cors=!!Za&&"withCredentials"in
Za;(Za=B.ajax=!!Za)&&k.ajaxTransport(function(a){if(!a.crossDomain||B.cors){var b;return{send:function(e,c){var f,d=a.xhr(),g=++jc;if(d.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)d[f]=a.xhrFields[f];a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(f in e)void 0!==e[f]&&d.setRequestHeader(f,e[f]+"");d.send(a.hasContent&&a.data||null);b=function(e,f){var h,l,m;if(b&&
(f||4===d.readyState))if(delete Ya[g],b=void 0,d.onreadystatechange=k.noop,f)4!==d.readyState&&d.abort();else{m={};h=d.status;"string"==typeof d.responseText&&(m.text=d.responseText);try{l=d.statusText}catch(p){l=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=m.text?200:404}m&&c(h,l,m,d.getAllResponseHeaders())};a.async?4===d.readyState?setTimeout(b):d.onreadystatechange=Ya[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return k.globalEval(a),a}}});k.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,e=y.head||k("head")[0]||y.documentElement;return{send:function(c,f){b=y.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,e){(e||!b.readyState||
/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,e||f(200,"success"))};e.insertBefore(b,e.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var Eb=[],kb=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Eb.pop()||k.expando+"_"+ib++;return this[a]=!0,a}});k.ajaxPrefilter("json jsonp",function(b,e,c){var f,d,g,h=!1!==b.jsonp&&(kb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||
"").indexOf("application/x-www-form-urlencoded")&&kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(f=b.jsonpCallback=k.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kb,"$1"+f):!1!==b.jsonp&&(b.url+=(jb.test(b.url)?"&":"?")+b.jsonp+"="+f),b.converters["script json"]=function(){return g||k.error(f+" was not called"),g[0]},b.dataTypes[0]="json",d=a[f],a[f]=function(){g=arguments},c.always(function(){a[f]=d;b[f]&&(b.jsonpCallback=e.jsonpCallback,Eb.push(f));
g&&k.isFunction(d)&&d(g[0]);g=d=void 0}),"script"):void 0});k.parseHTML=function(a,b,e){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(e=b,b=!1);b=b||y;var c=pa.exec(a);e=!e&&[];return c?[b.createElement(c[1])]:(c=k.buildFragment([a],b,e),e&&e.length&&k(e).remove(),k.merge([],c.childNodes))};var Fb=k.fn.load;k.fn.load=function(a,b,e){if("string"!=typeof a&&Fb)return Fb.apply(this,arguments);var c,f,d,g=this,h=a.indexOf(" ");return 0<=h&&(c=a.slice(h,a.length),a=a.slice(0,h)),k.isFunction(b)?
(e=b,b=void 0):b&&"object"==typeof b&&(d="POST"),0<g.length&&k.ajax({url:a,type:d,dataType:"html",data:b}).done(function(a){f=arguments;g.html(c?k("<div>").append(k.parseHTML(a)).find(c):a)}).complete(e&&function(a,b){g.each(e,f||[a.responseText,b,a])}),this};k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length};var Gb=a.document.documentElement;k.offset={setOffset:function(a,b,e){var c,f,d,g,h,l,m=k.css(a,"position"),p=k(a),n={};"static"===m&&(a.style.position=
"relative");h=p.offset();d=k.css(a,"top");l=k.css(a,"left");("absolute"===m||"fixed"===m)&&-1<k.inArray("auto",[d,l])?(c=p.position(),g=c.top,f=c.left):(g=parseFloat(d)||0,f=parseFloat(l)||0);k.isFunction(b)&&(b=b.call(a,e,h));null!=b.top&&(n.top=b.top-h.top+g);null!=b.left&&(n.left=b.left-h.left+f);"using"in b?b.using.call(a,n):p.css(n)}};k.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,e,c={top:0,left:0},f=this[0],
d=f&&f.ownerDocument;if(d)return b=d.documentElement,k.contains(b,f)?("undefined"!==typeof f.getBoundingClientRect&&(c=f.getBoundingClientRect()),e=L(d),{top:c.top+(e.pageYOffset||b.scrollTop)-(b.clientTop||0),left:c.left+(e.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):c},position:function(){if(this[0]){var a,b,e={top:0,left:0},c=this[0];return"fixed"===k.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(e=a.offset()),e.top+=k.css(a[0],
"borderTopWidth",!0),e.left+=k.css(a[0],"borderLeftWidth",!0)),{top:b.top-e.top-k.css(c,"marginTop",!0),left:b.left-e.left-k.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Gb;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||Gb})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e=/Y/.test(b);k.fn[a]=function(c){return Ba(this,function(a,c,f){var d=L(a);return void 0===f?d?b in
d?d[b]:d.document.documentElement[c]:a[c]:void(d?d.scrollTo(e?k(d).scrollLeft():f,e?f:k(d).scrollTop()):a[c]=f)},a,c,arguments.length,null)}});k.each(["top","left"],function(a,b){k.cssHooks[b]=T(B.pixelPosition,function(a,e){return e?(e=Ha(a,b),Ta.test(e)?k(a).position()[b]+"px":e):void 0})});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,c){k.fn[c]=function(c,f){var d=arguments.length&&(e||"boolean"!=typeof c),g=e||(!0===c||!0===
f?"margin":"border");return Ba(this,function(b,e,c){var f;return k.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===c?k.css(b,e,g):k.style(b,e,c,g)},b,d?c:void 0,d,null)}})});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var kc=a.jQuery,lc=a.$;return k.noConflict=
function(b){return a.$===k&&(a.$=lc),b&&a.jQuery===k&&(a.jQuery=kc),k},"undefined"===typeof c&&(a.jQuery=a.$=k),k});
(function(a,c){function d(e,c){var f,d,g,n=e.nodeName.toLowerCase();return"area"===n?(f=e.parentNode,d=f.name,e.href&&d&&"map"===f.nodeName.toLowerCase()?(g=a("img[usemap=#"+d+"]")[0],!!g&&b(g)):!1):(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||c:c)&&b(e)}function b(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,f){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();f&&f.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(b){if(b!==c)return this.css("zIndex",b);if(this.length){var f,
d;for(b=a(this[0]);b.length&&b[0]!==document;){if(f=b.css("position"),("absolute"===f||"relative"===f||"fixed"===f)&&(d=parseInt(b.css("zIndex"),10),!isNaN(d)&&0!==d))return d;b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):
function(b,c,f){return!!a.data(b,f[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),f=isNaN(c);return(f||0<=c)&&d(b,!f)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,f){function d(b,e,c,f){return a.each(g,function(){e-=parseFloat(a.css(b,"padding"+this))||0;c&&(e-=parseFloat(a.css(b,"border"+this+"Width"))||0);f&&(e-=parseFloat(a.css(b,"margin"+this))||0)}),e}var g="Width"===f?["Left","Right"]:["Top","Bottom"],
p=f.toLowerCase(),n={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+f]=function(b){return b===c?n["inner"+f].call(this):this.each(function(){a(this).css(p,d(this,b)+"px")})};a.fn["outer"+f]=function(b,e){return"number"!=typeof b?n["outer"+f].call(this,b):this.each(function(){a(this).css(p,d(this,b,!0,e)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
a.extend(a.ui,{plugin:{add:function(b,c,f){var d;b=a.ui[b].prototype;for(d in f)b.plugins[d]=b.plugins[d]||[],b.plugins[d].push([c,f[d]])},call:function(a,b,c){var f=a.plugins[b];if(f&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;f.length>b;b++)a.options[f[b][0]]&&f[b][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var f=c&&"left"===c?"scrollLeft":"scrollTop",d=!1;return 0<b[f]?!0:(b[f]=1,d=0<b[f],b[f]=0,d)}})})(jQuery);
(function(a,c){var d=0,b=Array.prototype.slice,f=a.cleanData;a.cleanData=function(b){for(var e,c=0;null!=(e=b[c]);c++)try{a(e).triggerHandler("remove")}catch(d){}f(b)};a.widget=function(b,e,f){var d,m,p,n,r={},q=b.split(".")[0];b=b.split(".")[1];d=q+"-"+b;f||(f=e,e=a.Widget);a.expr[":"][d.toLowerCase()]=function(b){return!!a.data(b,d)};a[q]=a[q]||{};m=a[q][b];p=a[q][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),c):new p(a,b)};a.extend(p,m,{version:f.version,
_proto:a.extend({},f),_childConstructors:[]});n=new e;n.options=a.widget.extend({},n.options);a.each(f,function(b,f){return a.isFunction(f)?(r[b]=function(){var a=function(){return e.prototype[b].apply(this,arguments)},c=function(a){return e.prototype[b].apply(this,a)};return function(){var b,e=this._super,d=this._superApply;return this._super=a,this._superApply=c,b=f.apply(this,arguments),this._super=e,this._superApply=d,b}}(),c):(r[b]=f,c)});p.prototype=a.widget.extend(n,{widgetEventPrefix:m?n.widgetEventPrefix||
b:b},r,{constructor:p,namespace:q,widgetName:b,widgetFullName:d});m?(a.each(m._childConstructors,function(b,e){var c=e.prototype;a.widget(c.namespace+"."+c.widgetName,p,e._proto)}),delete m._childConstructors):e._childConstructors.push(p);a.widget.bridge(b,p)};a.widget.extend=function(f){for(var e,d,l=b.call(arguments,1),m=0,p=l.length;p>m;m++)for(e in l[m])d=l[m][e],l[m].hasOwnProperty(e)&&d!==c&&(f[e]=a.isPlainObject(d)?a.isPlainObject(f[e])?a.widget.extend({},f[e],d):a.widget.extend({},d):d);return f};
a.widget.bridge=function(f,e){var d=e.prototype.widgetFullName||f;a.fn[f]=function(l){var m="string"==typeof l,p=b.call(arguments,1),n=this;return l=!m&&p.length?a.widget.extend.apply(null,[l].concat(p)):l,m?this.each(function(){var b,e=a.data(this,d);return e?a.isFunction(e[l])&&"_"!==l.charAt(0)?(b=e[l].apply(e,p),b!==e&&b!==c?(n=b&&b.jquery?n.pushStack(b.get()):b,!1):c):a.error("no such method '"+l+"' for "+f+" widget instance"):a.error("cannot call methods on "+f+" prior to initialization; attempted to call method '"+
l+"'")}):this.each(function(){var b=a.data(this,d);b?b.option(l||{})._init():a.data(this,d,new e(l,this))}),n}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,e){e=a(e||this.defaultElement||this)[0];this.element=a(e);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);
this.bindings=a();this.hoverable=a();this.focusable=a();e!==this&&(a.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===e&&this.destroy()}}),this.document=a(e.style?e.ownerDocument:e.document||e),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,e){var f,d,m,p=b;
if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(p={},f=b.split("."),b=f.shift(),f.length){d=p[b]=a.widget.extend({},this.options[b]);for(m=0;f.length-1>m;m++)d[f[m]]=d[f[m]]||{},d=d[f[m]];if(b=f.pop(),1===arguments.length)return d[b]===c?null:d[b];d[b]=e}else{if(1===arguments.length)return this.options[b]===c?null:this.options[b];p[b]=e}return this._setOptions(p),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,e,f){var d,m=this;"boolean"!=typeof b&&(f=e,e=b,b=!1);f?(e=d=a(e),this.bindings=this.bindings.add(e)):(f=e,e=this.element,d=
this.widget());a.each(f,function(f,h){function r(){return b||!0!==m.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?m[h]:h).apply(m,arguments):c}"string"!=typeof h&&(r.guid=h.guid=h.guid||r.guid||a.guid++);var q=f.match(/^(\w+)\s*(.*)$/),v=q[1]+m.eventNamespace;(q=q[2])?d.delegate(q,v,r):e.bind(v,r)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==
typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,e,c){var f,
d=this.options[b];if(c=c||{},e=a.Event(e),e.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),e.target=this.element[0],b=e.originalEvent)for(f in b)f in e||(e[f]=b[f]);return this.element.trigger(e,c),!(a.isFunction(d)&&!1===d.apply(this.element[0],[e].concat(c))||e.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,e){a.Widget.prototype["_"+b]=function(c,f,d){"string"==typeof f&&(f={effect:f});var p,n=f?!0===f||"number"==typeof f?e:f.effect||e:b;f=f||
{};"number"==typeof f&&(f={duration:f});p=!a.isEmptyObject(f);f.complete=d;f.delay&&c.delay(f.delay);p&&a.effects&&a.effects.effect[n]?c[b](f):n!==b&&c[n]?c[n](f.duration,f.easing,d):c.queue(function(e){a(this)[b]();d&&d.call(c[0]);e()})}})})(jQuery);
(function(a){var c=!1;a(document).mouseup(function(){c=!1});a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(b){return!0===a.data(b.target,c.widgetName+".preventClickEvent")?(a.removeData(b.target,c.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!c){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var b=this,f=1===d.which,g="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return f&&!g&&this._mouseCapture(d)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=!1!==this._mouseStart(d),!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return b._mouseMove(a)},this._mouseUpDelegate=function(a){return b._mouseUp(a)},
a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(c){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),
!this._mouseStarted)},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,c){function d(a,b,e){return[parseFloat(a[0])*(r.test(a[0])?b/100:1),parseFloat(a[1])*(r.test(a[1])?e/100:1)]}function b(b){var e=b[0];return 9===e.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(e)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,e=Math.abs,h=
Math.round,l=/left|center|right/,m=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,n=/^\w+/,r=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(f!==c)return f;var b,e,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=d.children()[0];return a("body").append(d),b=g.offsetWidth,d.css("overflow","scroll"),e=g.offsetWidth,b===e&&(e=d[0].clientWidth),d.remove(),f=b-e},getScrollInfo:function(b){var e=
b.isWindow||b.isDocument?"":b.element.css("overflow-x"),c=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===e||"auto"===e&&b.width<b.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var e=a.isWindow(b[0]);return{element:b,isWindow:e,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),
scrollTop:b.scrollTop(),width:e?b.width():b.outerWidth(),height:e?b.height():b.outerHeight()}}};a.fn.position=function(c){if(!c||!c.of)return q.apply(this,arguments);c=a.extend({},c);var f,r,C,z,D,E,I=a(c.of),V=a.position.getWithinInfo(c.within),S=a.position.getScrollInfo(V),N=(c.collision||"flip").split(" "),T={};return E=b(I),I[0].preventDefault&&(c.at="left top"),r=E.width,C=E.height,z=E.offset,D=a.extend({},z),a.each(["my","at"],function(){var a,b,e=(c[this]||"").split(" ");1===e.length&&(e=l.test(e[0])?
e.concat(["center"]):m.test(e[0])?["center"].concat(e):["center","center"]);e[0]=l.test(e[0])?e[0]:"center";e[1]=m.test(e[1])?e[1]:"center";a=p.exec(e[0]);b=p.exec(e[1]);T[this]=[a?a[0]:0,b?b[0]:0];c[this]=[n.exec(e[0])[0],n.exec(e[1])[0]]}),1===N.length&&(N[1]=N[0]),"right"===c.at[0]?D.left+=r:"center"===c.at[0]&&(D.left+=r/2),"bottom"===c.at[1]?D.top+=C:"center"===c.at[1]&&(D.top+=C/2),f=d(T.at,r,C),D.left+=f[0],D.top+=f[1],this.each(function(){var b,l,m=a(this),p=m.outerWidth(),n=m.outerHeight(),
q=parseInt(a.css(this,"marginLeft"),10)||0,E=parseInt(a.css(this,"marginTop"),10)||0,ia=p+q+(parseInt(a.css(this,"marginRight"),10)||0)+S.width,ma=n+E+(parseInt(a.css(this,"marginBottom"),10)||0)+S.height,M=a.extend({},D),ba=d(T.my,m.outerWidth(),m.outerHeight());"right"===c.my[0]?M.left-=p:"center"===c.my[0]&&(M.left-=p/2);"bottom"===c.my[1]?M.top-=n:"center"===c.my[1]&&(M.top-=n/2);M.left+=ba[0];M.top+=ba[1];a.support.offsetFractions||(M.left=h(M.left),M.top=h(M.top));b={marginLeft:q,marginTop:E};
a.each(["left","top"],function(e,d){a.ui.position[N[e]]&&a.ui.position[N[e]][d](M,{targetWidth:r,targetHeight:C,elemWidth:p,elemHeight:n,collisionPosition:b,collisionWidth:ia,collisionHeight:ma,offset:[f[0]+ba[0],f[1]+ba[1]],my:c.my,at:c.at,within:V,elem:m})});c.using&&(l=function(a){var b=z.left-M.left,f=b+r-p,d=z.top-M.top,h=d+C-n,l={target:{element:I,left:z.left,top:z.top,width:r,height:C},element:{element:m,left:M.left,top:M.top,width:p,height:n},horizontal:0>f?"left":0<b?"right":"center",vertical:0>
h?"top":0<d?"bottom":"middle"};p>r&&r>e(b+f)&&(l.horizontal="center");n>C&&C>e(d+h)&&(l.vertical="middle");l.important=g(e(b),e(f))>g(e(d),e(h))?"horizontal":"vertical";c.using.call(this,a,l)});m.offset(a.extend(M,{using:l}))})};a.ui.position={fit:{left:function(a,b){var e,c=b.within,f=c.isWindow?c.scrollLeft:c.offset.left,c=c.width,d=a.left-b.collisionPosition.marginLeft,h=f-d,l=d+b.collisionWidth-c-f;b.collisionWidth>c?0<h&&0>=l?(e=a.left+h+b.collisionWidth-c-f,a.left+=h-e):a.left=0<l&&0>=h?f:h>
l?f+c-b.collisionWidth:f:0<h?a.left+=h:0<l?a.left-=l:a.left=g(a.left-d,a.left)},top:function(a,b){var e,c=b.within,c=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,d=a.top-b.collisionPosition.marginTop,h=c-d,l=d+b.collisionHeight-f-c;b.collisionHeight>f?0<h&&0>=l?(e=a.top+h+b.collisionHeight-f-c,a.top+=h-e):a.top=0<l&&0>=h?c:h>l?c+f-b.collisionHeight:c:0<h?a.top+=h:0<l?a.top-=l:a.top=g(a.top-d,a.top)}},flip:{left:function(a,b){var c,f,d=b.within,g=d.offset.left+d.scrollLeft,h=d.width,d=d.isWindow?
d.scrollLeft:d.offset.left,l=a.left-b.collisionPosition.marginLeft,m=l-d,l=l+b.collisionWidth-h-d,p="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,q=-2*b.offset[0];0>m?(c=a.left+p+n+q+b.collisionWidth-h-g,(0>c||e(m)>c)&&(a.left+=p+n+q)):0<l&&(f=a.left-b.collisionPosition.marginLeft+p+n+q-d,(0<f||l>e(f))&&(a.left+=p+n+q))},top:function(a,b){var c,f,d=b.within,g=d.offset.top+d.scrollTop,h=d.height,d=d.isWindow?d.scrollTop:
d.offset.top,l=a.top-b.collisionPosition.marginTop,m=l-d,l=l+b.collisionHeight-h-d,p="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,n="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,q=-2*b.offset[1];0>m?(f=a.top+p+n+q+b.collisionHeight-h-g,a.top+p+n+q>m&&(0>f||e(m)>f)&&(a.top+=p+n+q)):0<l&&(c=a.top-b.collisionPosition.marginTop+p+n+q-d,a.top+p+n+q>l&&(0<c||l>e(c))&&(a.top+=p+n+q))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,e,c,f,d=document.getElementsByTagName("body")[0];c=document.createElement("div");b=document.createElement(d?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};d&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in e)b.style[f]=e[f];b.appendChild(c);e=d||document.documentElement;e.insertBefore(b,e.firstChild);
c.style.cssText="position: absolute; left: 10.7432222px;";c=a(c).offset().left;a.support.offsetFractions=10<c&&11>c;b.innerHTML="";e.removeChild(b)})()})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;return this.helper||d.disabled||0<a(c.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(c),this.handle?(a(!0===d.iframeFix?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var d=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(c,
d){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c),this.positionAbs=this._convertPositionTo("absolute"),!d){var b=this._uiHash();if(!1===this._trigger("drag",c,b))return this._mouseUp({}),!1;this.position=b.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&
a.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var d=this,b=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(b=a.ui.ddmanager.drop(this,c)),this.dropped&&(b=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?a(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",c)&&d._clear()}):!1!==this._trigger("stop",c)&&this._clear(),!1):!1},_mouseUp:function(c){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,c),a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){return this.options.handle?
!!a(c.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var d=this.options;c=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_adjustOffsetFromHelper:function(c){"string"==
typeof c&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
a.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,d,b,f=this.options;return f.containment?"window"===f.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===f.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):f.containment.constructor===Array?(this.containment=f.containment,void 0):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),d=a(f.containment),b=d[0],b&&(c="hidden"!==d.css("overflow"),this.containment=[(parseInt(d.css("borderLeftWidth"),
10)||0)+(parseInt(d.css("paddingLeft"),10)||0),(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("paddingTop"),10)||0),(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d.css("borderRightWidth"),10)||0)-(parseInt(d.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d.css("borderBottomWidth"),10)||0)-(parseInt(d.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=d),void 0):(this.containment=null,void 0)},_convertPositionTo:function(c,d){d||(d=this.position);var b="absolute"===c?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:f.scrollTop(),left:f.scrollLeft()}),{top:d.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*b,left:d.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*b}},_generatePosition:function(c){var d,b,f,g,e=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=c.pageX,m=c.pageY;return this.offset.scroll||(this.offset.scroll=
{top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(b=this.relative_container.offset(),d=[this.containment[0]+b.left,this.containment[1]+b.top,this.containment[2]+b.left,this.containment[3]+b.top]):d=this.containment,c.pageX-this.offset.click.left<d[0]&&(l=d[0]+this.offset.click.left),c.pageY-this.offset.click.top<d[1]&&(m=d[1]+this.offset.click.top),c.pageX-this.offset.click.left>d[2]&&(l=d[2]+this.offset.click.left),c.pageY-this.offset.click.top>
d[3]&&(m=d[3]+this.offset.click.top)),e.grid&&(f=e.grid[1]?this.originalPageY+Math.round((m-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY,m=d?f-this.offset.click.top>=d[1]||f-this.offset.click.top>d[3]?f:f-this.offset.click.top>=d[1]?f-e.grid[1]:f+e.grid[1]:f,g=e.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX,l=d?g-this.offset.click.left>=d[0]||g-this.offset.click.left>d[2]?g:g-this.offset.click.left>=d[0]?g-e.grid[0]:g+e.grid[0]:
g)),{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(c,d,b){return b=b||this._uiHash(),a.ui.plugin.call(this,c,[d,b]),"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,c,d,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,d){var b=a(this).data("ui-draggable"),f=b.options,g=a.extend({},d,{item:b.element});b.sortables=
[];a(f.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(b.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",c,g))})},stop:function(c,d){var b=a(this).data("ui-draggable"),f=a.extend({},d,{item:b.element});a.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,f))})},drag:function(c,d){var b=a(this).data("ui-draggable"),f=this;a.each(b.sortables,function(){var g=!1,e=this;this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(g=!0,a.each(b.sortables,function(){return this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(e.instance.element[0],this.instance.element[0])&&(g=!1),g}));g?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",c),b.dropped=
this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
b._trigger("fromSortable",c),b.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;c.css("cursor")&&(d._cursor=c.css("cursor"));c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;c._cursor&&a("body").css("cursor",c._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(c,d){var b=a(d.helper),f=a(this).data("ui-draggable").options;b.css("opacity")&&(f._opacity=b.css("opacity"));b.css("opacity",
f.opacity)},stop:function(c,d){var b=a(this).data("ui-draggable").options;b._opacity&&a(d.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var d=a(this).data("ui-draggable"),b=d.options,f=!1;d.scrollParent[0]!==document&&"HTML"!==d.scrollParent[0].tagName?(b.axis&&"x"===b.axis||(d.overflowOffset.top+
d.scrollParent[0].offsetHeight-c.pageY<b.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+b.scrollSpeed:c.pageY-d.overflowOffset.top<b.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-b.scrollSpeed)),b.axis&&"y"===b.axis||(d.overflowOffset.left+d.scrollParent[0].offsetWidth-c.pageX<b.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+b.scrollSpeed:c.pageX-d.overflowOffset.left<b.scrollSensitivity&&(d.scrollParent[0].scrollLeft=
f=d.scrollParent[0].scrollLeft-b.scrollSpeed))):(b.axis&&"x"===b.axis||(c.pageY-a(document).scrollTop()<b.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<b.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed))),b.axis&&"y"===b.axis||(c.pageX-a(document).scrollLeft()<b.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<
b.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed))));!1!==f&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,c)}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var b=a(this),f=b.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
top:f.top,left:f.left})})},drag:function(c,d){var b,f,g,e,h,l,m,p,n,r,q=a(this).data("ui-draggable"),v=q.options,G=v.snapTolerance,t=d.offset.left,C=t+q.helperProportions.width,z=d.offset.top,D=z+q.helperProportions.height;for(n=q.snapElements.length-1;0<=n;n--)h=q.snapElements[n].left,l=h+q.snapElements[n].width,m=q.snapElements[n].top,p=m+q.snapElements[n].height,h-G>C||t>l+G||m-G>D||z>p+G||!a.contains(q.snapElements[n].item.ownerDocument,q.snapElements[n].item)?(q.snapElements[n].snapping&&q.options.snap.release&&
q.options.snap.release.call(q.element,c,a.extend(q._uiHash(),{snapItem:q.snapElements[n].item})),q.snapElements[n].snapping=!1):("inner"!==v.snapMode&&(b=G>=Math.abs(m-D),f=G>=Math.abs(p-z),g=G>=Math.abs(h-C),e=G>=Math.abs(l-t),b&&(d.position.top=q._convertPositionTo("relative",{top:m-q.helperProportions.height,left:0}).top-q.margins.top),f&&(d.position.top=q._convertPositionTo("relative",{top:p,left:0}).top-q.margins.top),g&&(d.position.left=q._convertPositionTo("relative",{top:0,left:h-q.helperProportions.width}).left-
q.margins.left),e&&(d.position.left=q._convertPositionTo("relative",{top:0,left:l}).left-q.margins.left)),r=b||f||g||e,"outer"!==v.snapMode&&(b=G>=Math.abs(m-z),f=G>=Math.abs(p-D),g=G>=Math.abs(h-t),e=G>=Math.abs(l-C),b&&(d.position.top=q._convertPositionTo("relative",{top:m,left:0}).top-q.margins.top),f&&(d.position.top=q._convertPositionTo("relative",{top:p-q.helperProportions.height,left:0}).top-q.margins.top),g&&(d.position.left=q._convertPositionTo("relative",{top:0,left:h}).left-q.margins.left),
e&&(d.position.left=q._convertPositionTo("relative",{top:0,left:l-q.helperProportions.width}).left-q.margins.left)),!q.snapElements[n].snapping&&(b||f||g||e||r)&&q.options.snap.snap&&q.options.snap.snap.call(q.element,c,a.extend(q._uiHash(),{snapItem:q.snapElements[n].item})),q.snapElements[n].snapping=b||f||g||e||r)}});a.ui.plugin.add("draggable","stack",{start:function(){var c,d=this.data("ui-draggable").options,d=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||
0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(c=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(b){a(this).css("zIndex",c+b)}),this.css("zIndex",c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(c,d){var b=a(d.helper),f=a(this).data("ui-draggable").options;b.css("zIndex")&&(f._zIndex=b.css("zIndex"));b.css("zIndex",f.zIndex)},stop:function(c,d){var b=a(this).data("ui-draggable").options;b._zIndex&&a(d.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,d=this.options,b=d.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(b)?b:function(a){return a.is(b)};this.proportions=function(){return arguments.length?(c=arguments[0],void 0):c?c:c={width:this.element[0].offsetWidth,
height:this.element[0].offsetHeight}};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=0,d=a.ui.ddmanager.droppables[this.options.scope];d.length>c;c++)d[c]===this&&d.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,d){"accept"===c&&(this.accept=a.isFunction(d)?d:function(a){return a.is(d)});a.Widget.prototype._setOption.apply(this,
arguments)},_activate:function(c){var d=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);d&&this._trigger("activate",c,this.ui(d))},_deactivate:function(c){var d=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);d&&this._trigger("deactivate",c,this.ui(d))},_over:function(c){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||
d.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(d)))},_out:function(c){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(d)))},_drop:function(c,d){var b=d||a.ui.ddmanager.current,f=!1;return b&&(b.currentItem||b.element)[0]!==this.element[0]?
(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=a.data(this,"ui-droppable");return c.options.greedy&&!c.options.disabled&&c.options.scope===b.options.scope&&c.accept.call(c.element[0],b.currentItem||b.element)&&a.ui.intersect(b,a.extend(c,{offset:c.element.offset()}),c.options.tolerance)?(f=!0,!1):void 0}),f?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&
this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(b)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,d,b){if(!d.offset)return!1;var f=(a.positionAbs||a.position.absolute).left,g=(a.positionAbs||a.position.absolute).top,e=f+a.helperProportions.width,h=g+a.helperProportions.height,l=d.offset.left,m=d.offset.top,p=l+d.proportions().width,n=m+d.proportions().height;
switch(b){case "fit":return f>=l&&p>=e&&g>=m&&n>=h;case "intersect":return f+a.helperProportions.width/2>l&&p>e-a.helperProportions.width/2&&g+a.helperProportions.height/2>m&&n>h-a.helperProportions.height/2;case "pointer":b=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left;a=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top;f=d.proportions().height;if(m=a>m&&m+f>a)d=d.proportions().width,m=b>l&&l+d>b;return m;case "touch":return(g>=m&&n>=g||
h>=m&&n>=h||m>g&&h>n)&&(f>=l&&p>=f||e>=l&&p>=e||l>f&&e>p);default:return!1}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,d){var b,f,g=a.ui.ddmanager.droppables[c.options.scope]||[],e=d?d.type:null,h=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();b=0;a:for(;g.length>b;b++)if(!(g[b].options.disabled||c&&!g[b].accept.call(g[b].element[0],c.currentItem||c.element))){for(f=0;h.length>f;f++)if(h[f]===g[b].element[0]){g[b].proportions().height=0;continue a}g[b].visible=
"none"!==g[b].element.css("display");g[b].visible&&("mousedown"===e&&g[b]._activate.call(g[b],d),g[b].offset=g[b].element.offset(),g[b].proportions({width:g[b].element[0].offsetWidth,height:g[b].element[0].offsetHeight}))}},drop:function(c,d){var b=!1;return a.each((a.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)&&(b=this._drop.call(this,d)||b),!this.options.disabled&&this.visible&&
this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,d)))}),b},dragStart:function(c,d){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,d)})},drag:function(c,d){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,d);a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var b,f,g,e=
a.ui.intersect(c,this,this.options.tolerance);(e=!e&&this.isover?"isout":e&&!this.isover?"isover":null)&&(this.options.greedy&&(f=this.options.scope,g=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===f}),g.length&&(b=a.data(g[0],"ui-droppable"),b.greedyChild="isover"===e)),b&&"isover"===e&&(b.isover=!1,b.isout=!0,b._out.call(b,d)),this[e]=!0,this["isout"===e?"isover":"isout"]=!1,this["isover"===e?"_over":"_out"].call(this,d),b&&"isout"===
e&&(b.isout=!1,b.isover=!0,b._over.call(b,d)))}})},dragStop:function(c,d){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||a.ui.ddmanager.prepareOffsets(c,d)}}})(jQuery);
(function(a){function c(a){return parseInt(a,10)||0}function d(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,h,l=this,m=this.options;if(this.element.addClass("ui-resizable"),
a.extend(this,{_aspectRatio:!!m.aspectRatio,aspectRatio:m.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:m.helper||m.ghost||m.animate?m.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=m.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;b.length>c;c++)d=a.trim(b[c]),h="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+h+"'></div>"),e.css({zIndex:m.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var e,c,f,d;b=b||this.element;for(e in this.handles)this.handles[e].constructor===
String&&(this.handles[e]=a(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(c=a(this.handles[e],this.element),d=/sw|ne|nw|se|n|s/.test(e)?c.outerHeight():c.outerWidth(),f=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),b.css(f,d),this._proportionallyResize()),a(this.handles[e]).length};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){l.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=e&&e[1]?e[1]:"se")});m.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){m.disabled||(a(this).removeClass("ui-resizable-autohide"),l._handles.show())}).mouseleave(function(){m.disabled||l.resizing||(a(this).addClass("ui-resizable-autohide"),l._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),
this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(b){var f,d,e,h=this.options,l=this.element.position(),m=this.element;return this.resizing=!0,/absolute/.test(m.css("position"))?m.css({position:"absolute",top:m.css("top"),left:m.css("left")}):m.is(".ui-draggable")&&m.css({position:"absolute",top:l.top,left:l.left}),this._renderProxy(),f=c(this.helper.css("left")),
d=c(this.helper.css("top")),h.containment&&(f+=a(h.containment).scrollLeft()||0,d+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:d},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:m.width(),height:m.height()},this.originalSize=this._helper?{width:m.outerWidth(),height:m.outerHeight()}:{width:m.width(),height:m.height()},this.originalPosition={left:f,top:d},this.sizeDiff={width:m.outerWidth()-m.width(),height:m.outerHeight()-
m.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===e?this.axis+"-resize":e),m.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c,d=this.helper,e={},h=this.originalMousePosition,l=this.position.top,m=this.position.left,p=this.size.width,n=this.size.height,
r=b.pageX-h.left||0,h=b.pageY-h.top||0,q=this._change[this.axis];return q?(c=q.apply(this,[b,r,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==l&&(e.top=this.position.top+"px"),this.position.left!==m&&(e.left=this.position.left+"px"),this.size.width!==p&&(e.width=this.size.width+"px"),this.size.height!==n&&(e.height=this.size.height+"px"),d.css(e),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,e,h,l,m,p,n=this.options;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,h=d?0:this.sizeDiff.width,l={width:this.helper.width()-h,height:this.helper.height()-e},m=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,p=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,n.animate||this.element.css(a.extend(l,{top:p,left:m})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!n.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var c,
g,e,h,l;l=this.options;l={minWidth:d(l.minWidth)?l.minWidth:0,maxWidth:d(l.maxWidth)?l.maxWidth:1/0,minHeight:d(l.minHeight)?l.minHeight:0,maxHeight:d(l.maxHeight)?l.maxHeight:1/0};(this._aspectRatio||a)&&(c=l.minHeight*this.aspectRatio,e=l.minWidth/this.aspectRatio,g=l.maxHeight*this.aspectRatio,h=l.maxWidth/this.aspectRatio,c>l.minWidth&&(l.minWidth=c),e>l.minHeight&&(l.minHeight=e),l.maxWidth>g&&(l.maxWidth=g),l.maxHeight>h&&(l.maxHeight=h));this._vBoundaries=l},_updateCache:function(a){this.offset=
this.helper.offset();d(a.left)&&(this.position.left=a.left);d(a.top)&&(this.position.top=a.top);d(a.height)&&(this.size.height=a.height);d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var c=this.position,g=this.size,e=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=c.left+(g.width-a.width),a.top=null),"nw"===e&&(a.top=c.top+(g.height-a.height),a.left=c.left+(g.width-a.width)),a},_respectSize:function(a){var c=
this._vBoundaries,g=this.axis,e=d(a.width)&&c.maxWidth&&c.maxWidth<a.width,h=d(a.height)&&c.maxHeight&&c.maxHeight<a.height,l=d(a.width)&&c.minWidth&&c.minWidth>a.width,m=d(a.height)&&c.minHeight&&c.minHeight>a.height,p=this.originalPosition.left+this.originalSize.width,n=this.position.top+this.size.height,r=/sw|nw|w/.test(g),g=/nw|ne|n/.test(g);return l&&(a.width=c.minWidth),m&&(a.height=c.minHeight),e&&(a.width=c.maxWidth),h&&(a.height=c.maxHeight),l&&r&&(a.left=p-c.minWidth),e&&r&&(a.left=p-c.maxWidth),
m&&g&&(a.top=n-c.minHeight),h&&g&&(a.top=n-c.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,c,d,e,h,l=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(h=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],d=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],
e=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")],c=0;d.length>c;c++)this.borderDif[c]=(parseInt(d[c],10)||0)+(parseInt(e[c],10)||0);h.css({height:l.height()-this.borderDif[0]-this.borderDif[2]||0,width:l.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,c){return{width:this.originalSize.width+c}},w:function(a,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(a,c,d){return{top:this.originalPosition.top+d,height:this.originalSize.height-d}},s:function(a,c,d){return{height:this.originalSize.height+
d}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);
"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,h=e.length&&/textarea/i.test(e[0].nodeName),l=h&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=
{width:c.size.width-(h?0:c.sizeDiff.width),height:c.size.height-l},l=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,m=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(h,m&&l?{top:m,left:l}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),
10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height});c._updateCache(d);c._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,f,d,e,h,l,m,p=a(this).data("ui-resizable"),n=p.element,r=p.options.containment;(n=r instanceof a?r.get(0):/parent/.test(r)?n.parent().get(0):r)&&(p.containerElement=a(n),/document/.test(r)||r===document?(p.containerOffset={left:0,top:0},p.containerPosition={left:0,top:0},p.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(n),f=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){f[a]=c(b.css("padding"+e))}),p.containerOffset=b.offset(),p.containerPosition=b.position(),p.containerSize={height:b.innerHeight()-f[3],width:b.innerWidth()-f[1]},d=p.containerOffset,e=p.containerSize.height,h=p.containerSize.width,l=a.ui.hasScroll(n,"left")?n.scrollWidth:h,m=a.ui.hasScroll(n)?n.scrollHeight:e,p.parentData={element:n,left:d.left,top:d.top,width:l,
height:m}))},resize:function(b){var c,d,e,h,l=a(this).data("ui-resizable");c=l.options;d=l.containerOffset;e=l.position;b=l._aspectRatio||b.shiftKey;h={top:0,left:0};var m=l.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(h=d);e.left<(l._helper?d.left:0)&&(l.size.width+=l._helper?l.position.left-d.left:l.position.left-h.left,b&&(l.size.height=l.size.width/l.aspectRatio),l.position.left=c.helper?d.left:0);e.top<(l._helper?d.top:0)&&(l.size.height+=l._helper?l.position.top-d.top:
l.position.top,b&&(l.size.width=l.size.height*l.aspectRatio),l.position.top=l._helper?d.top:0);l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;c=Math.abs(l.offset.left-h.left+l.sizeDiff.width);d=Math.abs((l._helper?l.offset.top-h.top:l.offset.top-d.top)+l.sizeDiff.height);e=l.containerElement.get(0)===l.element.parent().get(0);h=/relative|absolute/.test(l.containerElement.css("position"));e&&h&&(c-=Math.abs(l.parentData.left));c+l.size.width>=l.parentData.width&&
(l.size.width=l.parentData.width-c,b&&(l.size.height=l.size.width/l.aspectRatio));d+l.size.height>=l.parentData.height&&(l.size.height=l.parentData.height-d,b&&(l.size.width=l.size.height*l.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,h=b.containerElement,l=a(b.helper),m=l.offset(),p=l.outerWidth()-b.sizeDiff.width,l=l.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(h.css("position"))&&a(this).css({left:m.left-
e.left-d.left,width:p,height:l});b._helper&&!c.animate&&/static/.test(h.css("position"))&&a(this).css({left:m.left-e.left-d.left,width:p,height:l})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?
c(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):a.each(b.alsoResize,function(a){c(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,h=d.originalSize,l=d.originalPosition,m={height:d.size.height-h.height||0,width:d.size.width-h.width||0,top:d.position.top-l.top||0,left:d.position.left-l.left||0},p=function(b,e){a(b).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),h={},g=e&&e.length?e:b.parents(c.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var e=(d[b]||0)+(m[b]||0);e&&0<=e&&(h[b]=e||null)});b.css(h)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?p(e.alsoResize):a.each(e.alsoResize,function(a,b){p(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",
height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
c=b.options,d=b.size,e=b.originalSize,h=b.originalPosition,l=b.axis,m="number"==typeof c.grid?[c.grid,c.grid]:c.grid,p=m[0]||1,n=m[1]||1,r=Math.round((d.width-e.width)/p)*p,d=Math.round((d.height-e.height)/n)*n,q=e.width+r,v=e.height+d,G=c.maxWidth&&q>c.maxWidth,t=c.maxHeight&&v>c.maxHeight,C=c.minWidth&&c.minWidth>q,z=c.minHeight&&c.minHeight>v;c.grid=m;C&&(q+=p);z&&(v+=n);G&&(q-=p);t&&(v-=n);/^(se|s|e)$/.test(l)?(b.size.width=q,b.size.height=v):/^(ne)$/.test(l)?(b.size.width=q,b.size.height=v,b.position.top=
h.top-d):/^(sw)$/.test(l)?(b.size.width=q,b.size.height=v,b.position.left=h.left-r):(0<v-n?(b.size.height=v,b.position.top=h.top-d):(b.size.height=n,b.position.top=h.top+e.height-n),0<q-p?(b.size.width=q,b.position.left=h.left-r):(b.size.width=p,b.position.left=h.left+e.width-p))}})})(jQuery);
(function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,d=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c=a(d.options.filter,d.element[0]);c.addClass("ui-selectee");c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,
left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(c){var d=this,b=this.options;this.opos=[c.pageX,c.pageY];this.options.disabled||(this.selectees=a(b.filter,this.element[0]),this._trigger("start",c),a(b.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=a.data(this,"selectable-item");b.startselected=!0;c.metaKey||c.ctrlKey||(b.$element.removeClass("ui-selected"),b.selected=!1,
b.$element.addClass("ui-unselecting"),b.unselecting=!0,d._trigger("unselecting",c,{unselecting:b.element}))}),a(c.target).parents().addBack().each(function(){var b,g=a.data(this,"selectable-item");return g?(b=!c.metaKey&&!c.ctrlKey||!g.$element.hasClass("ui-selected"),g.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),g.unselecting=!b,g.selecting=b,g.selected=b,b?d._trigger("selecting",c,{selecting:g.element}):d._trigger("unselecting",c,{unselecting:g.element}),
!1):void 0}))},_mouseDrag:function(c){if(this.dragged=!0,!this.options.disabled){var d,b=this,f=this.options,g=this.opos[0],e=this.opos[1],h=c.pageX,l=c.pageY;return g>h&&(d=h,h=g,g=d),e>l&&(d=l,l=e,e=d),this.helper.css({left:g,top:e,width:h-g,height:l-e}),this.selectees.each(function(){var d=a.data(this,"selectable-item"),p=!1;d&&d.element!==b.element[0]&&("touch"===f.tolerance?p=!(d.left>h||g>d.right||d.top>l||e>d.bottom):"fit"===f.tolerance&&(p=d.left>g&&h>d.right&&d.top>e&&l>d.bottom),p?(d.selected&&
(d.$element.removeClass("ui-selected"),d.selected=!1),d.unselecting&&(d.$element.removeClass("ui-unselecting"),d.unselecting=!1),d.selecting||(d.$element.addClass("ui-selecting"),d.selecting=!0,b._trigger("selecting",c,{selecting:d.element}))):(d.selecting&&((c.metaKey||c.ctrlKey)&&d.startselected?(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.$element.addClass("ui-selected"),d.selected=!0):(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.startselected&&(d.$element.addClass("ui-unselecting"),
d.unselecting=!0),b._trigger("unselecting",c,{unselecting:d.element}))),d.selected&&(c.metaKey||c.ctrlKey||d.startselected||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,b._trigger("unselecting",c,{unselecting:d.element})))))}),!1}},_mouseStop:function(c){var d=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-unselecting");b.unselecting=!1;b.startselected=
!1;d._trigger("unselected",c,{unselected:b.element})}),a(".ui-selecting",this.element[0]).each(function(){var b=a.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected");b.selecting=!1;b.selected=!0;b.startselected=!0;d._trigger("selected",c,{selected:b.element})}),this._trigger("stop",c),this.helper.remove(),!1}})})(jQuery);
(function(a){function c(a,c,d){return a>c&&c+d>a}function d(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||d(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,h=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,
h.widgetName+"-item")===h?(d=a(this),!1):void 0}),a.data(b.target,h.widgetName+"-item")===h&&(d=a(b.target)),d?!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e)?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(b,c,d){var e;c=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),
this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&"auto"!==c.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",c.cursor),this.storedStylesheet=a("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(e)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&
(a.ui.ddmanager.current=this),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,h;c=this.options;var l=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
l=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?l=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(l=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?l=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(l=a(document).scrollLeft(a(document).scrollLeft()+
c.scrollSpeed))),!1!==l&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--)if(d=this.items[c],e=d.item[0],h=this._intersectsWithPointer(d),h&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&
this.placeholder[1===h?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===h?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d);this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,
c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),h=this.options.axis,l={};h&&"x"!==h||(l.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));h&&"y"!==h||(l.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(l,parseInt(this.options.revert,
10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=
0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=
b||{},a(c).each(function(){var e=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);e&&d.push((b.key||e[1]+"[]")+"="+(b.key&&b.expression?e[1]:e[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var c=this.positionAbs.left,d=c+this.helperProportions.width,e=this.positionAbs.top,
h=e+this.helperProportions.height,l=a.left,m=l+a.width,p=a.top,n=p+a.height,r=this.offset.click.top,q=this.offset.click.left,r="x"===this.options.axis||e+r>p&&n>e+r,q="y"===this.options.axis||c+q>l&&m>c+q;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?r&&q:c+this.helperProportions.width/2>l&&m>d-this.helperProportions.width/2&&e+this.helperProportions.height/
2>p&&n>h-this.helperProportions.height/2},_intersectsWithPointer:function(a){var d="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,a.left,a.width);d=d&&a;a=this._getDragVerticalDirection();var g=this._getDragHorizontalDirection();return d?this.floating?g&&"right"===g||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var d=c(this.positionAbs.top+this.offset.click.top,
a.top+a.height/2,a.height);a=c(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var g=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&a||"left"===e&&!a:g&&("down"===g&&d||"up"===g&&!d)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?
"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){l.push(this)}var d,e,h,l=[],m=[],p=this._connectWith();if(p&&b)for(b=p.length-1;0<=b;b--)for(e=a(p[b]),d=e.length-1;0<=d;d--)(h=a.data(e[d],this.widgetFullName))&&h!==this&&!h.options.disabled&&m.push([a.isFunction(h.options.items)?h.options.items.call(h.element):
a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h]);m.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=m.length-1;0<=b;b--)m[b][0].each(c);return a(l)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,
function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var c,d,e,h,l,m=this.items,p=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((l=this._connectWith())&&this.ready)for(c=l.length-1;0<=c;c--)for(e=a(l[c]),d=e.length-1;0<=d;d--)(h=a.data(e[d],this.widgetFullName))&&h!==this&&!h.options.disabled&&(p.push([a.isFunction(h.options.items)?
h.options.items.call(h.element[0],b,{item:this.currentItem}):a(h.options.items,h.element),h]),this.containers.push(h));for(c=p.length-1;0<=c;c--)for(b=p[c][1],e=p[c][0],d=0,l=e.length;l>d;d++)h=a(e[d]),h.data(this.widgetName+"-item",b),m.push({item:h,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,h;for(c=this.items.length-1;0<=c;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&
d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),h=e.offset(),d.left=h.left,d.top=h.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)h=this.containers[c].element.offset(),this.containers[c].containerCache.left=h.left,this.containers[c].containerCache.top=h.top,this.containers[c].containerCache.width=
this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var e=b.currentItem[0].nodeName.toLowerCase(),d=a("<"+e+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?b.currentItem.children().each(function(){a("<td>&#160;</td>",
b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(d)}):"img"===e&&d.attr("src",b.currentItem.attr("src")),c||d.css("visibility","hidden"),d},update:function(a,h){(!c||d.forcePlaceholderSize)&&(h.height()||h.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),h.width()||h.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}});
b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);d.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var f,g,e,h,l,m,p,n,r,q=g=null;for(f=this.containers.length-1;0<=f;f--)a.contains(this.currentItem[0],this.containers[f].element[0])||(this._intersectsWith(this.containers[f].containerCache)?g&&a.contains(this.containers[f].element[0],g.element[0])||(g=this.containers[f],q=f):this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",
b,this._uiHash(this)),this.containers[f].containerCache.over=0));if(g)if(1===this.containers.length)this.containers[q].containerCache.over||(this.containers[q]._trigger("over",b,this._uiHash(this)),this.containers[q].containerCache.over=1);else{f=1E4;e=null;h=(r=g.floating||d(this.currentItem))?"left":"top";l=r?"width":"height";m=this.positionAbs[h]+this.offset.click[h];for(g=this.items.length-1;0<=g;g--)a.contains(this.containers[q].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&
(!r||c(this.positionAbs.top+this.offset.click.top,this.items[g].top,this.items[g].height))&&(p=this.items[g].item.offset()[h],n=!1,Math.abs(p-m)>Math.abs(p+this.items[g][l]-m)&&(n=!0,p+=this.items[g][l]),f>Math.abs(p-m)&&(f=Math.abs(p-m),e=this.items[g],this.direction=n?"up":"down"));(e||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[q]&&(e?this._rearrange(b,e,null,!0):this._rearrange(b,null,this.containers[q].element,!0),this._trigger("change",b,this._uiHash()),this.containers[q]._trigger("change",
b,this._uiHash(this)),this.currentContainer=this.containers[q],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[q]._trigger("over",b,this._uiHash(this)),this.containers[q].containerCache.over=1)}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),
b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||c.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||c.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||
0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],
this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;
"parent"===e.containment&&(e.containment=this.helper[0].parentNode);"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(e.containment)||
(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-
this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(e[0].tagName);return{top:c.top+
this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,h=b.pageX,l=b.pageY,m="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,
p=/(html|body)/i.test(m[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(l=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+
this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(l=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((l-this.originalPageY)/e.grid[1])*e.grid[1],l=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0],h=this.containment?d-this.offset.click.left>=
this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():p?0:m.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():p?0:m.scrollLeft())}},_rearrange:function(a,c,d,e){d?d[0].appendChild(this.placeholder[0]):
c.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?c.item[0]:c.item[0].nextSibling);var h=this.counter=this.counter?++this.counter:1;this._delay(function(){h===this.counter&&this.refreshPositions(!e)})},_clear:function(a,c){function d(a,b,c){return function(e){c._trigger(a,e,b._uiHash(b))}}this.reverting=!1;var e,h=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)"auto"!==
this._storedCSS[e]&&"static"!==this._storedCSS[e]||(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&h.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||c||h.push(function(a){this._trigger("update",a,this._uiHash())});this!==
this.currentContainer&&(c||(h.push(function(a){this._trigger("remove",a,this._uiHash())}),h.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),h.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(e=this.containers.length-1;0<=e;e--)c||h.push(d("deactivate",this,this.containers[e])),this.containers[e].containerCache.over&&(h.push(d("out",this,this.containers[e])),this.containers[e].containerCache.over=
0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",a,this._uiHash());for(e=0;h.length>e;e++)h[e].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(c||this._trigger("beforeStop",
a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(e=0;h.length>e;e++)h[e].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,
offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})})(jQuery);
(function(a){var c=0,d={},b={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide";b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show";a.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):
("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b),void 0)},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,e=this.headers.length,d=this.headers.index(b.target),l=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:l=
this.headers[(d+1)%e];break;case c.LEFT:case c.UP:l=this.headers[(d-1+e)%e];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:l=this.headers[0];break;case c.END:l=this.headers[e-1]}l&&(a(b.target).attr("tabIndex",-1),a(l).attr("tabIndex",0),l.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?
(b.active=!1,this.active=a()):!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var b,d=this.options,e=d.heightStyle,h=this.element.parent(),l=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c);this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var c=a(this),e=c.attr("id"),d=c.next(),f=d.attr("id");e||(e=l+"-header-"+b,c.attr("id",e));f||(f=l+"-panel-"+
b,d.attr("id",f));c.attr("aria-controls",f);d.attr("aria-labelledby",e)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(d.event);"fill"===e?(b=h.height(),this.element.siblings(":visible").each(function(){var c=
a(this),e=c.css("position");"absolute"!==e&&"fixed"!==e&&(b-=c.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===e&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,c);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var c=this.options,e=this.active,d=a(b.currentTarget),l=d[0]===
e[0],m=l&&c.collapsible,p=m?a():d.next(),n=e.next(),p={oldHeader:e,oldPanel:n,newHeader:m?a():d,newPanel:p};b.preventDefault();l&&!c.collapsible||!1===this._trigger("beforeActivate",b,p)||(c.active=m?!1:this.headers.index(d),this.active=l?a():d,this._toggle(p),e.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),l||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,e=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=c;this.prevHide=e;this.options.animate?this._animate(c,e,b):(e.hide(),c.show(),this._toggleComplete(b));e.attr({"aria-hidden":"true"});e.prev().attr("aria-selected","false");c.length&&e.length?e.prev().attr({tabIndex:-1,
"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);c.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,c,e){var h,l,m,p=this,n=0,r=a.length&&(!c.length||a.index()<c.index()),q=this.options.animate||{},r=r&&q.down||q,v=function(){p._toggleComplete(e)};return"number"==typeof r&&(m=r),"string"==typeof r&&(l=r),l=l||r.easing||q.easing,m=m||r.duration||q.duration,
c.length?a.length?(h=a.show().outerHeight(),c.animate(d,{duration:m,easing:l,step:function(a,b){b.now=Math.round(a)}}),a.hide().animate(b,{duration:m,easing:l,complete:v,step:function(a,b){b.now=Math.round(a);"height"!==b.prop?n+=b.now:"content"!==p.options.heightStyle&&(b.now=Math.round(h-c.outerHeight()-n),n=0)}}),void 0):c.animate(d,m,l,v):a.animate(b,m,l,v)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(a){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,d,b,f=this.element[0].nodeName.toLowerCase(),g="textarea"===f,f="input"===f;this.isMultiLine=g?!0:f?!1:this.element.prop("isContentEditable");this.valueMethod=
this.element[g||f?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return c=!0,b=!0,d=!0,void 0;d=b=c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:c=!0;this._move("previousPage",e);break;case f.PAGE_DOWN:c=!0;this._move("nextPage",e);break;case f.UP:c=!0;this._keyEvent("previous",e);break;case f.DOWN:c=!0;this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&
(c=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:d=!0,this._searchTimeout(e)}},keypress:function(b){if(c)return c=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&b.preventDefault(),void 0;if(!d){var f=a.ui.keyCode;switch(b.keyCode){case f.PAGE_UP:this._move("previousPage",b);break;case f.PAGE_DOWN:this._move("nextPage",
b);break;case f.UP:this._keyEvent("previous",b);break;case f.DOWN:this._keyEvent("next",b)}}},input:function(a){return b?(b=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");
this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(e){e.target===b.element[0]||e.target===c||a.contains(c,e.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),
this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)}),void 0;var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d;this.selectedItem=c}));
!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},
_setOption:function(a,d){this._super(a,d);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&d&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0)),c||(c=this.element.closest(".ui-front")),c.length||(c=this.document[0].body),c},_initSource:function(){var c,d,b=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,
b.term))}):"string"==typeof this.options.source?(d=this.options.source,this.source=function(c,g){b.xhr&&b.xhr.abort();b.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a){g(a)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,d){return a=null!=a?a:this._value(),this.term=this._value(),
a.length<this.options.minLength?this.close(d):!1!==this._trigger("search",d)?this._search(a):void 0},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var c=++this.requestIndex;return a.proxy(function(a){c===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",
null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,
function(c){return"string"==typeof c?{label:c,value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var d=this.menu.element.empty();this._renderMenu(d,c);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,
d){var b=this;a.each(d,function(a,d){b._renderItemData(c,d)})},_renderItemData:function(a,d){return this._renderItem(a,d).data("ui-autocomplete-item",d)},_renderItem:function(c,d){return a("<li>").append(a("<a>").text(d.label)).appendTo(c)},_move:function(a,d){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[a](d),void 0):(this.search(null,d),void 0)},widget:function(){return this.menu.element},
_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,d){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(a,d),d.preventDefault())}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,d){var b=RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(c,function(a){return b.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",
results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var d;this._superApply(arguments);this.options.disabled||this.cancelSearch||(d=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(d))}})})(jQuery);
(function(a){var c,d=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},b=function(b){var c=b.name,e=b.form,d=a([]);return c&&(c=c.replace(/'/g,"\\'"),d=e?a(e).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),d};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,d);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var f=this,g=this.options,e="checkbox"===this.type||"radio"===this.type,h=e?"":"ui-state-active";null===g.label&&(g.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){g.disabled||this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){g.disabled||a(this).removeClass(h)}).bind("click"+this.eventNamespace,function(a){g.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
e&&this.element.bind("change"+this.eventNamespace,function(){f.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return g.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(g.disabled)return!1;a(this).addClass("ui-state-active");f.buttonElement.attr("aria-pressed","true");var c=f.element[0];b(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return g.disabled?!1:(a(this).addClass("ui-state-active"),c=this,f.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return g.disabled?!1:(a(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(b){return g.disabled?!1:((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"),void 0)}).bind("keyup"+
this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",g.disabled);this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(a=
this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,
b),"disabled"===a?(this.element.prop("disabled",!!b),b&&this.buttonElement.removeClass("ui-state-focus"),void 0):(this._resetButton(),void 0)},refresh:function(){var c=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");c!==this.options.disabled&&this._setOption("disabled",c);"radio"===this.type?b(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
"false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),e=this.options.icons,d=e.primary&&e.secondary,l=[];e.primary||e.secondary?(this.options.text&&l.push("ui-button-text-icon"+(d?"s":e.primary?"-primary":"-secondary")),e.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+e.primary+"'></span>"),e.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+e.secondary+"'></span>"),this.options.text||(l.push(d?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):l.push("ui-button-text-only");b.addClass(l.join(" "))}});a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,c){function d(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=b(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function b(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(g.inline?b.parent()[0]:g.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function f(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var g;a.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(b,
c){var d,f,g;d=b.nodeName.toLowerCase();f="div"===d||"span"===d;b.id||(this.uuid+=1,b.id="dp"+this.uuid);g=this._newInst(a(b),f);g.settings=a.extend({},c||{});"input"===d?this._connectDatepicker(b,g):f&&this._inlineDatepicker(b,g)},_newInst:function(c,d){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?b(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]);c.trigger=a([]);d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,f,g;d=this._get(c,"appendText");var n=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=a("<span class='"+this._appendClass+
"'>"+d+"</span>"),b[n?"before":"after"](c.append));b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");"focus"!==d&&"both"!==d||b.focus(this._showDatepicker);"button"!==d&&"both"!==d||(f=this._get(c,"buttonText"),g=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):a("<button type='button'></button>").addClass(this._triggerClass).html(g?a("<img/>").attr({src:g,alt:f,title:f}):
f)),b[n?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,f,g=new Date(2009,11,20),r=this._get(a,"dateFormat");r.match(/[DM]/)&&(b=function(a){for(f=
d=c=0;a.length>f;f++)a[f].length>c&&(c=a[f].length,d=f);return d},g.setMonth(b(this._get(a,r.match(/MM/)?"monthNames":"monthNamesShort"))),g.setDate(b(this._get(a,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay()));a.input.attr("size",this._formatDate(a,g).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),
c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,g,p){var n,r,q,v,G;b=this._dialogInst;return b||(this.uuid+=1,n="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+n+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b)),f(b.settings,
g||{}),c=c&&c.constructor===Date?this._formatDate(b,c):c,this._dialogInput.val(c),this._pos=p?p.length?p:[p.pageX,p.pageY]:null,this._pos||(r=document.documentElement.clientWidth,q=document.documentElement.clientHeight,v=document.documentElement.scrollLeft||document.body.scrollLeft,G=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+v,q/2-150+G]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var c,d=a(b),f=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(f.append.remove(),f.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,f=a(b),g=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=f.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,f=a(b),g=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=f.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,d,g){var m,p,n,r,q=this._getInst(b);return 2===arguments.length&&"string"==
typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):q?"all"===d?a.extend({},q.settings):this._get(q,d):null:(m=d||{},"string"==typeof d&&(m={},m[d]=g),q&&(this._curInst===q&&this._hideDatepicker(),p=this._getDateDatepicker(b,!0),n=this._getMinMaxDate(q,"min"),r=this._getMinMaxDate(q,"max"),f(q.settings,m),null!==n&&m.dateFormat!==c&&m.minDate===c&&(q.settings.minDate=this._formatDate(q,n)),null!==r&&m.dateFormat!==c&&m.maxDate===c&&(q.settings.maxDate=this._formatDate(q,r)),"disabled"in m&&
(m.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),q),this._autoSize(q),this._setDate(q,p),this._updateAlternate(q),this._updateDatepicker(q)),c)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=
this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,f,g=a.datepicker._getInst(b.target),n=!0,r=g.dpDiv.is(".ui-datepicker-rtl");if(g._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();n=!1;break;case 13:return f=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",g.dpDiv),f[0]&&a.datepicker._selectDay(b.target,g.selectedMonth,g.selectedYear,f[0]),c=a.datepicker._get(g,
"onSelect"),c?(d=a.datepicker._formatDate(g),c.apply(g.input?g.input[0]:null,[d,g])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
n=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);n=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,r?1:-1,"D");n=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");n=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,r?-1:1,"D");n=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");n=b.ctrlKey||b.metaKey;break;default:n=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):n=!1;n&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var d,f,g=a.datepicker._getInst(b.target);
return a.datepicker._get(g,"constrainInput")?(d=a.datepicker._possibleChars(a.datepicker._get(g,"dateFormat")),f=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">f||!d||-1<d.indexOf(f)):c},_doKeyUp:function(b){var c;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(c=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b))}catch(d){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,g,p,n,r;c=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));d=(d=a.datepicker._get(c,"beforeShow"))?
d.apply(b,[b,c]):{};!1!==d&&(f(c.settings,d),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),p={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(c),p=a.datepicker._checkOffset(c,p,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:p.left+"px",top:p.top+"px"}),c.inline||(n=a.datepicker._get(c,"showAnim"),r=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[n]?c.dpDiv.show(n,a.datepicker._get(c,"showOptions"),r):c.dpDiv[n||"show"](n?r:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),
a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4;g=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),f=d[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&b.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var f=b.dpDiv.outerWidth(),
g=b.dpDiv.outerHeight(),n=b.input?b.input.outerWidth():0,r=b.input?b.input.outerHeight():0,q=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),v=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?f-n:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+r?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+f>q&&q>f?Math.abs(c.left+f-q):0),c.top-=Math.min(c.top,c.top+
g>v&&v>g?Math.abs(g+r):0),c},_findPos:function(b){for(var c,d=this._getInst(b),d=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[d?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,f,g,n=this._curInst;!n||b&&n!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(n,"showAnim"),d=this._get(n,"duration"),f=function(){a.datepicker._tidyDialog(n)},a.effects&&(a.effects.effect[c]||a.effects[c])?
n.dpDiv.hide(c,a.datepicker._get(n,"showOptions"),d,f):n.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1,g=this._get(n,"onClose"),g&&g.apply(n.input?n.input[0]:null,[n.input?n.input.val():"",n]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var c=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==c)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){b=a(b);var f=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c;b=a(b);var d=this._getInst(b[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(c=new Date,d.selectedDay=c.getDate(),d.drawMonth=d.selectedMonth=c.getMonth(),d.drawYear=d.selectedYear=c.getFullYear());this._notifyChange(d);
this._adjustDate(b)},_selectMonthYear:function(b,c,d){b=a(b);var f=this._getInst(b[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(f);this._adjustDate(b)},_selectDay:function(b,c,d,f){var g,n=a(b);a(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||(g=this._getInst(n[0]),g.selectedDay=g.currentDay=a("a",f).html(),g.selectedMonth=g.currentMonth=c,g.selectedYear=g.currentYear=d,this._selectDate(b,
this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,c){var d;d=a(b);var f=this._getInst(d[0]);c=null!=c?c:this._formatDate(f);f.input&&f.input.val(c);this._updateAlternate(f);(d=this._get(f,"onSelect"))?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change");f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var c,d,f,g=this._get(b,"altField");g&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),f=this.formatDate(c,d,this._getFormatConfig(b)),a(g).each(function(){a(this).val(f)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(b,d,
f){if(null==b||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var g,p,n,r,q=0,v=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff,v="string"!=typeof v?v:(new Date).getFullYear()%100+parseInt(v,10),G=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,t=(f?f.dayNames:null)||this._defaults.dayNames,C=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort;f=(f?f.monthNames:null)||this._defaults.monthNames;var z=-1,D=-1,E=-1,I=-1,V=!1,S=function(a){a=
b.length>g+1&&b.charAt(g+1)===a;return a&&g++,a},N=function(a){var b=S(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=d.substring(q).match(a);if(!a)throw"Missing number at position "+q;return q+=a[0].length,parseInt(a[0],10)},T=function(b,e,f){var g=-1;b=a.map(S(b)?f:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(b,function(a,b){var e=b[1];return d.substr(q,e.length).toLowerCase()===e.toLowerCase()?(g=b[0],q+=e.length,
!1):c}),-1!==g)return g+1;throw"Unknown name at position "+q;},W=function(){if(d.charAt(q)!==b.charAt(g))throw"Unexpected literal at position "+q;q++};for(g=0;b.length>g;g++)if(V)"'"!==b.charAt(g)||S("'")?W():V=!1;else switch(b.charAt(g)){case "d":E=N("d");break;case "D":T("D",G,t);break;case "o":I=N("o");break;case "m":D=N("m");break;case "M":D=T("M",C,f);break;case "y":z=N("y");break;case "@":r=new Date(N("@"));z=r.getFullYear();D=r.getMonth()+1;E=r.getDate();break;case "!":r=new Date((N("!")-this._ticksTo1970)/
1E4);z=r.getFullYear();D=r.getMonth()+1;E=r.getDate();break;case "'":S("'")?W():V=!0;break;default:W()}if(d.length>q&&(n=d.substr(q),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(-1===z?z=(new Date).getFullYear():100>z&&(z+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v>=z?0:-100)),-1<I)for(D=1,E=I;!(p=this._getDaysInMonth(z,D-1),p>=E);)D++,E-=p;if(r=this._daylightSavingAdjust(new Date(z,D-1,E)),r.getFullYear()!==z||r.getMonth()+1!==D||r.getDate()!==E)throw"Invalid date";
return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,g=(c?c.dayNames:null)||this._defaults.dayNames,r=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;
c=(c?c.monthNames:null)||this._defaults.monthNames;var q=function(b){b=a.length>d+1&&a.charAt(d+1)===b;return b&&d++,b},v=function(a,b,c){b=""+b;if(q(a))for(;c>b.length;)b="0"+b;return b},G=function(a,b,c,e){return q(a)?e[b]:c[b]},t="",C=!1;if(b)for(d=0;a.length>d;d++)if(C)"'"!==a.charAt(d)||q("'")?t+=a.charAt(d):C=!1;else switch(a.charAt(d)){case "d":t+=v("d",b.getDate(),2);break;case "D":t+=G("D",b.getDay(),f,g);break;case "o":t+=v("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-
(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":t+=v("m",b.getMonth()+1,2);break;case "M":t+=G("M",b.getMonth(),r,c);break;case "y":t+=q("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":t+=b.getTime();break;case "!":t+=1E4*b.getTime()+this._ticksTo1970;break;case "'":q("'")?t+="'":C=!0;break;default:t+=a.charAt(d)}return t},_possibleChars:function(a){var b,c="",d=!1,f=function(c){c=a.length>b+1&&a.charAt(b+1)===c;return c&&b++,c};for(b=0;a.length>
b;b++)if(d)"'"!==a.charAt(b)||f("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":f("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return a.settings[b]!==c?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,f=this._getDefaultDate(a),g=f,r=this._getFormatConfig(a);
try{g=this.parseDate(c,d,r)||f}catch(q){d=b?"":d}a.selectedDay=g.getDate();a.drawMonth=a.selectedMonth=g.getMonth();a.drawYear=a.selectedYear=g.getFullYear();a.currentDay=d?g.getDate():0;a.currentMonth=d?g.getMonth():0;a.currentYear=d?g.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var f=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},g=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,
"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var f=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,g=f.getFullYear(),h=f.getMonth(),f=f.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,m=l.exec(c);m;){switch(m[2]||"d"){case "d":case "D":f+=parseInt(m[1],10);break;case "w":case "W":f+=7*parseInt(m[1],10);break;case "m":case "M":h+=parseInt(m[1],10);f=Math.min(f,a.datepicker._getDaysInMonth(g,h));break;case "y":case "Y":g+=parseInt(m[1],10),f=Math.min(f,a.datepicker._getDaysInMonth(g,
h))}m=l.exec(c)}return new Date(g,h,f)};c=null==c||""===c?d:"string"==typeof c?g(c):"number"==typeof c?isNaN(c)?d:f(c):new Date(c.getTime());return c=c&&"Invalid Date"==""+c?d:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,f=a.selectedMonth,g=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));
a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();f===a.selectedMonth&&g===a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),
d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,
this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,f,g,r,q,v,G,t,C,z,D,E,I,V,S,N,T,W,H,J,Y,ra,P,ua,ia,ma=new Date,ma=this._daylightSavingAdjust(new Date(ma.getFullYear(),ma.getMonth(),ma.getDate())),M=this._get(a,"isRTL");r=this._get(a,"showButtonPanel");d=this._get(a,"hideIfNoPrevNext");g=this._get(a,"navigationAsDateFormat");var ba=this._getNumberOfMonths(a),Q=this._get(a,"showCurrentAtPos");
f=this._get(a,"stepMonths");var za=1!==ba[0]||1!==ba[1],va=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),ja=this._getMinMaxDate(a,"min"),ca=this._getMinMaxDate(a,"max"),Q=a.drawMonth-Q,L=a.drawYear;if(0>Q&&(Q+=12,L--),ca)for(b=this._daylightSavingAdjust(new Date(ca.getFullYear(),ca.getMonth()-ba[0]*ba[1]+1,ca.getDate())),b=ja&&ja>b?ja:b;this._daylightSavingAdjust(new Date(L,Q,1))>b;)Q--,0>Q&&(Q=11,L--);a.drawMonth=Q;a.drawYear=L;b=
this._get(a,"prevText");b=g?this.formatDate(b,this._daylightSavingAdjust(new Date(L,Q-f,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,L,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"e":"w")+"'>"+b+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,
"nextText");c=g?this.formatDate(c,this._daylightSavingAdjust(new Date(L,Q+f,1)),this._getFormatConfig(a)):c;d=this._canAdjustMonth(a,1,L,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"w":"e")+"'>"+c+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"w":"e")+"'>"+c+"</span></a>";f=this._get(a,"currentText");
c=this._get(a,"gotoCurrent")&&a.currentDay?va:ma;f=g?this.formatDate(f,c,this._getFormatConfig(a)):f;g=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";r=r?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(M?g:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
f+"</button>":"")+(M?"":g)+"</div>":"";g=parseInt(this._get(a,"firstDay"),10);g=isNaN(g)?0:g;f=this._get(a,"showWeek");c=this._get(a,"dayNames");q=this._get(a,"dayNamesMin");v=this._get(a,"monthNames");G=this._get(a,"monthNamesShort");t=this._get(a,"beforeShowDay");C=this._get(a,"showOtherMonths");z=this._get(a,"selectOtherMonths");D=this._getDefaultDate(a);E="";for(V=0;ba[0]>V;V++){S="";this.maxRows=4;for(N=0;ba[1]>N;N++){if(T=this._daylightSavingAdjust(new Date(L,Q,a.selectedDay)),I=" ui-corner-all",
W="",za){if(W+="<div class='ui-datepicker-group",1<ba[1])switch(N){case 0:W+=" ui-datepicker-group-first";I=" ui-corner-"+(M?"right":"left");break;case ba[1]-1:W+=" ui-datepicker-group-last";I=" ui-corner-"+(M?"left":"right");break;default:W+=" ui-datepicker-group-middle",I=""}W+="'>"}W+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===V?M?d:b:"")+(/all|right/.test(I)&&0===V?M?b:d:"")+this._generateMonthYearHeader(a,Q,L,ja,ca,0<V||0<N,v,G)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
H=f?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(I=0;7>I;I++)J=(I+g)%7,H+="<th"+(5<=(I+g+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[J]+"'>"+q[J]+"</span></th>";W+=H+"</tr></thead><tbody>";H=this._getDaysInMonth(L,Q);L===a.selectedYear&&Q===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,H));I=(this._getFirstDayOfMonth(L,Q)-g+7)%7;H=Math.ceil((I+H)/7);this.maxRows=H=za?this.maxRows>H?this.maxRows:H:H;J=this._daylightSavingAdjust(new Date(L,
Q,1-I));for(Y=0;H>Y;Y++){W+="<tr>";ra=f?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(J)+"</td>":"";for(I=0;7>I;I++)P=t?t.apply(a.input?a.input[0]:null,[J]):[!0,""],ia=(ua=J.getMonth()!==Q)&&!z||!P[0]||ja&&ja>J||ca&&J>ca,ra+="<td class='"+(5<=(I+g+6)%7?" ui-datepicker-week-end":"")+(ua?" ui-datepicker-other-month":"")+(J.getTime()===T.getTime()&&Q===a.selectedMonth&&a._keyEvent||D.getTime()===J.getTime()&&D.getTime()===T.getTime()?" "+this._dayOverClass:"")+(ia?" "+this._unselectableClass+
" ui-state-disabled":"")+(ua&&!C?"":" "+P[1]+(J.getTime()===va.getTime()?" "+this._currentClass:"")+(J.getTime()===ma.getTime()?" ui-datepicker-today":""))+"'"+(ua&&!C||!P[2]?"":" title='"+P[2].replace(/'/g,"&#39;")+"'")+(ia?"":" data-handler='selectDay' data-event='click' data-month='"+J.getMonth()+"' data-year='"+J.getFullYear()+"'")+">"+(ua&&!C?"&#xa0;":ia?"<span class='ui-state-default'>"+J.getDate()+"</span>":"<a class='ui-state-default"+(J.getTime()===ma.getTime()?" ui-state-highlight":"")+
(J.getTime()===va.getTime()?" ui-state-active":"")+(ua?" ui-priority-secondary":"")+"' href='#'>"+J.getDate()+"</a>")+"</td>",J.setDate(J.getDate()+1),J=this._daylightSavingAdjust(J);W+=ra+"</tr>"}Q++;11<Q&&(Q=0,L++);W+="</tbody></table>"+(za?"</div>"+(0<ba[0]&&N===ba[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");S+=W}E+=S}return E+=r,a._keyEvent=!1,E},_generateMonthYearHeader:function(a,b,c,d,f,g,r,q){var v,G,t,C=this._get(a,"changeMonth"),z=this._get(a,"changeYear"),D=this._get(a,"showMonthAfterYear"),
E="<div class='ui-datepicker-title'>",I="";if(g||!C)I+="<span class='ui-datepicker-month'>"+r[b]+"</span>";else{r=d&&d.getFullYear()===c;v=f&&f.getFullYear()===c;I+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(G=0;12>G;G++)(!r||G>=d.getMonth())&&(!v||f.getMonth()>=G)&&(I+="<option value='"+G+"'"+(G===b?" selected='selected'":"")+">"+q[G]+"</option>");I+="</select>"}if(D||(E+=I+(!g&&C&&z?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",g||!z)E+="<span class='ui-datepicker-year'>"+
c+"</span>";else{q=this._get(a,"yearRange").split(":");t=(new Date).getFullYear();r=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?t+parseInt(a,10):parseInt(a,10);return isNaN(a)?t:a};b=r(q[0]);q=Math.max(b,r(q[1]||""));b=d?Math.max(b,d.getFullYear()):b;q=f?Math.min(q,f.getFullYear()):q;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";q>=b;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";E+=a.yearshtml;a.yearshtml=null}return E+=this._get(a,"yearSuffix"),D&&(E+=(!g&&C&&z?"":"&#xa0;")+I),E+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),f=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,f))+("D"===c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,f,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();"M"!==
c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),c=c&&c>b?c:b;return d&&c>d?d:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:f[0]*f[1]),1));return 0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(a,c)},_isInRange:function(a,b){var c,d,f=this._getMinMaxDate(a,"min"),g=this._getMinMaxDate(a,"max"),r=null,q=null,v=
this._get(a,"yearRange");return v&&(c=v.split(":"),d=(new Date).getFullYear(),r=parseInt(c[0],10),q=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(r+=d),c[1].match(/[+\-].*/)&&(q+=d)),(!f||b.getTime()>=f.getTime())&&(!g||b.getTime()<=g.getTime())&&(!r||b.getFullYear()>=r)&&(!q||q>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;
a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+
b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))};a.datepicker=new d;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.10.4"})(jQuery);
(function(a){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;
0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,c=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=c.parent.children().eq(c.index);a.length&&a[0]!==this.element[0]?a.before(this.element):c.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&!1!==this._trigger("beforeClose",b)){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{(c=this.document[0].activeElement)&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},
_moveToTop:function(a,c){var d=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return d&&!c&&this._trigger("focus",a),d},open:function(){var b=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"),void 0)},
_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=
a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),this.close(b),void 0;if(b.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),c=c.filter(":last");b.target!==c[0]&&b.target!==
this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(c.focus(1),b.preventDefault()):(d.focus(1),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);
this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);
this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),
this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(a.each(c,function(c,d){var f,l;d=a.isFunction(d)?{click:d,text:c}:d;d=a.extend({type:"button"},d);f=d.click;d.click=function(){f.apply(b.element[0],arguments)};l={icons:d.icons,text:d.showText};delete d.icons;delete d.showText;a("<button></button>",d).button(l).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),
void 0)},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){a(this).addClass("ui-dialog-dragging");c._blockFrames();c._trigger("dragStart",d,b(g))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,h){d.position=[h.position.left-c.document.scrollLeft(),h.position.top-c.document.scrollTop()];
a(this).removeClass("ui-dialog-dragging");c._unblockFrames();c._trigger("dragStop",e,b(h))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,h=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,
minHeight:this._minHeight(),handles:e,start:function(d,e){a(this).addClass("ui-dialog-resizing");c._blockFrames();c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,h){d.height=a(this).height();d.width=a(this).width();a(this).removeClass("ui-dialog-resizing");c._unblockFrames();c._trigger("resizeStop",e,b(h))}}).css("position",h)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=
this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(b){var f=this,g=!1,e={};a.each(b,function(a,b){f._setOption(a,b);a in c&&(g=!0);a in d&&(e[a]=b)});g&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,c){var d,e,h=this.uiDialog;"dialogClass"===a&&h.removeClass(this.options.dialogClass).addClass(c);"disabled"!==a&&(this._super(a,
c),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+c}),"draggable"===a&&(d=h.is(":data(ui-draggable)"),d&&!c&&h.draggable("destroy"),!d&&c&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(e=h.is(":data(ui-resizable)"),e&&!c&&h.resizable("destroy"),e&&"string"==typeof c&&h.resizable("option","handles",c),e||!1===c||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},
_size:function(){var a,c,d,e=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});e.minWidth>e.width&&(e.width=e.minWidth);a=this.uiDialog.css({height:"auto",width:e.width}).outerHeight();c=Math.max(0,e.minHeight-a);d="number"==typeof e.maxHeight?Math.max(0,e.maxHeight-a):"none";"auto"===e.height?this.element.css({minHeight:c,maxHeight:d,height:"auto"}):this.element.height(Math.max(0,e.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",
"minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=
this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(d){b._allowInteraction(d)||(d.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&
(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b,c=this.options.position,d=[],e=[0,0];c?(("string"==typeof c||"object"==typeof c&&"0"in c)&&(d=c.split?c.split(" "):[c[0],c[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),c={my:d[0]+(0>e[0]?
e[0]:"+"+e[0])+" "+d[1]+(0>e[1]?e[1]:"+"+e[1]),at:d.join(" ")}),c=a.extend({},a.ui.dialog.prototype.options.position,c)):c=a.ui.dialog.prototype.options.position;(b=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(c);b||this.uiDialog.hide()}})})(jQuery);
(function(a){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||
(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var d=a(c.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,
d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(a,b)},blur:function(c){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){a(c.target).closest(".ui-menu").length||this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var b,f,g,e,h=!0;switch(c.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(c);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case a.ui.keyCode.HOME:this._move("first","first",c);break;case a.ui.keyCode.END:this._move("last","last",c);break;case a.ui.keyCode.UP:this.previous(c);break;case a.ui.keyCode.DOWN:this.next(c);break;case a.ui.keyCode.LEFT:this.collapse(c);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(c);
break;case a.ui.keyCode.ESCAPE:this.collapse(c);break;default:h=!1,b=this.previousFilter||"",f=String.fromCharCode(c.keyCode),g=!1,clearTimeout(this.filterTimer),f===b?g=!0:f=b+f,e=RegExp("^"+d(f),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return e.test(a(this).children("a").text())}),b=g&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b,b.length||(f=String.fromCharCode(c.keyCode),e=RegExp("^"+d(f),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return e.test(a(this).children("a").text())})),
b.length?(this.focus(c,b),1<b.length?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}h&&c.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var c,d=this.options.icons.submenu;c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.prev("a"),g=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(g);b.attr("aria-labelledby",c.attr("id"))});c=c.add(this.element);c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,
role:this._itemRole()});c.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});c.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,d){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu);
this._super(a,d)},focus:function(a,d){var b;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(d);this.active=d.first();b=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",b.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);b=d.children(".ui-menu");b.length&&a&&/^mouse/.test(a.type)&&
this._startOpening(b);this.activeMenu=d.parent();this._trigger("focus",a,{item:d})},_scrollIntoView:function(c){var d,b,f,g,e,h;this._hasScroll()&&(d=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,b=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,f=c.offset().top-this.activeMenu.offset().top-d-b,g=this.activeMenu.scrollTop(),e=this.activeMenu.height(),h=c.height(),0>f?this.activeMenu.scrollTop(g+f):f+h>e&&this.activeMenu.scrollTop(g+f-e+h))},blur:function(a,d){d||clearTimeout(this.timer);
this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(c){var d=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded",
"true").position(d)},collapseAll:function(c,d){clearTimeout(this.timer);this.timer=this._delay(function(){var b=d?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));b.length||(b=this.element);this._close(b);this.blur(c);this.activeMenu=b},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var d=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);d&&d.length&&(this._close(),this.focus(a,d))},expand:function(a){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(a,d)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,d,b){var f;this.active&&(f="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));f&&f.length&&this.active||(f=this.activeMenu.children(".ui-menu-item")[d]());this.focus(b,f)},nextPage:function(c){var d,b,f;return this.active?(this.isLastItem()||(this._hasScroll()?(b=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return d=
a(this),0>d.offset().top-b-f}),this.focus(c,d)):this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(c),void 0)},previousPage:function(c){var d,b,f;return this.active?(this.isFirstItem()||(this._hasScroll()?(b=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return d=a(this),0<d.offset().top-b+f}),this.focus(c,d)):this.focus(c,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(c),
void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,d)}})})(jQuery);
(function(a,c){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){return a===c?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),c)},_constrainedValue:function(a){return a===c&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,b){"max"===
a&&(b=Math.max(this.min,b));this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var c=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||c>this.min).toggleClass("ui-corner-right",c===this.options.max).width(b.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":c}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==c&&(this.oldValue=c,this._trigger("change"));c===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(a){a.widget("ui.slider666",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var c,d;c=this.options;var b=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];d=c.values&&c.values.length||1;b.length>d&&(b.slice(d).remove(),b=b.slice(0,d));for(c=b.length;d>c;c++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=b.add(a(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var c=this.options,d="";c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:a.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),d="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(d+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(c){var d,b,f,g,e,h,l,m,p=this,n=this.options;return n.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:c.pageX,y:c.pageY},b=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(c){var d=Math.abs(b-p.values(c));(f>d||f===d&&(c===p._lastChangedValue||p.values(c)===n.min))&&(f=d,g=a(this),e=c)}),h=this._start(c,e),!1===h?!1:
(this._mouseSliding=!0,this._handleIndex=e,g.addClass("ui-state-active").focus(),l=g.offset(),m=!a(c.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=m?{left:0,top:0}:{left:c.pageX-l.left-g.width()/2,top:c.pageY-l.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(c,e,b),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var d=
this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,d),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var d,b,f,g,e;return"horizontal"===
this.orientation?(d=this.elementSize.width,b=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,b=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),f=b/d,1<f&&(f=1),0>f&&(f=0),"vertical"===this.orientation&&(f=1-f),g=this._valueMax()-this._valueMin(),e=this._valueMin()+f*g,this._trimAlignValue(e)},_start:function(a,d){var b={handle:this.handles[d],value:this.value()};return this.options.values&&this.options.values.length&&(b.value=
this.values(d),b.values=this.values()),this._trigger("start",a,b)},_slide:function(a,d,b){var f,g,e;this.options.values&&this.options.values.length?(f=this.values(d?0:1),2===this.options.values.length&&!0===this.options.range&&(0===d&&b>f||1===d&&f>b)&&(b=f),b!==this.values(d)&&(g=this.values(),g[d]=b,e=this._trigger("slide",a,{handle:this.handles[d],value:b,values:g}),this.values(d?0:1),!1!==e&&this.values(d,b))):b!==this.value()&&(e=this._trigger("slide",a,{handle:this.handles[d],value:b}),!1!==
e&&this.value(b))},_stop:function(a,d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._trigger("stop",a,b)},_change:function(a,d){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._lastChangedValue=d;this._trigger("change",a,b)}},value:function(a){return arguments.length?
(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(c,d){var b,f,g;if(1<arguments.length)return this.options.values[c]=this._trimAlignValue(d),this._refreshValue(),this._change(null,c),void 0;if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(c):this.value();b=this.options.values;f=arguments[0];for(g=0;b.length>g;g+=1)b[g]=this._trimAlignValue(f[g]),
this._change(null,g);this._refreshValue()},_setOption:function(c,d){var b,f=0;switch("range"===c&&!0===this.options.range&&("min"===d?(this.options.value=this._values(0),this.options.values=null):"max"===d&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(f=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),c){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;f>b;b+=1)this._change(null,b);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var d,
b;if(arguments.length)return d=this.options.values[a],this._trimAlignValue(d);if(this.options.values&&this.options.values.length){d=this.options.values.slice();for(b=0;d.length>b;b+=1)d[b]=this._trimAlignValue(d[b]);return d}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var d=0<this.options.step?this.options.step:1,b=(a-this._valueMin())%d;a-=b;return 2*Math.abs(b)>=d&&(a+=0<b?d:-d),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},
_valueMax:function(){return this.options.max},_refreshValue:function(){var c,d,b,f,g,e=this.options.range,h=this.options,l=this,m=this._animateOff?!1:h.animate,p={};this.options.values&&this.options.values.length?this.handles.each(function(b){d=100*((l.values(b)-l._valueMin())/(l._valueMax()-l._valueMin()));p["horizontal"===l.orientation?"left":"bottom"]=d+"%";a(this).stop(1,1)[m?"animate":"css"](p,h.animate);!0===l.options.range&&("horizontal"===l.orientation?(0===b&&l.range.stop(1,1)[m?"animate":
"css"]({left:d+"%"},h.animate),1===b&&l.range[m?"animate":"css"]({width:d-c+"%"},{queue:!1,duration:h.animate})):(0===b&&l.range.stop(1,1)[m?"animate":"css"]({bottom:d+"%"},h.animate),1===b&&l.range[m?"animate":"css"]({height:d-c+"%"},{queue:!1,duration:h.animate})));c=d}):(b=this.value(),f=this._valueMin(),g=this._valueMax(),d=g!==f?(b-f)/(g-f)*100:0,p["horizontal"===this.orientation?"left":"bottom"]=d+"%",this.handle.stop(1,1)[m?"animate":"css"](p,h.animate),"min"===e&&"horizontal"===this.orientation&&
this.range.stop(1,1)[m?"animate":"css"]({width:d+"%"},h.animate),"max"===e&&"horizontal"===this.orientation&&this.range[m?"animate":"css"]({width:100-d+"%"},{queue:!1,duration:h.animate}),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[m?"animate":"css"]({height:d+"%"},h.animate),"max"===e&&"vertical"===this.orientation&&this.range[m?"animate":"css"]({height:100-d+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(c){var d,b,f,g=a(c.target).data("ui-slider-handle-index");
switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,g),!1===d))return}switch(f=this.options.step,d=b=this.options.values&&this.options.values.length?this.values(g):this.value(),c.keyCode){case a.ui.keyCode.HOME:b=this._valueMin();
break;case a.ui.keyCode.END:b=this._valueMax();break;case a.ui.keyCode.PAGE_UP:b=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:b=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax())return;b=this._trimAlignValue(d+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin())return;b=this._trimAlignValue(d-f)}this._slide(c,g,b)},click:function(a){a.preventDefault()},
keyup:function(c){var d=a(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,d),this._change(c,d),a(c.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(a){function c(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},b=this.element;return a.each(["min","max","step"],function(a,g){var e=b.attr(g);void 0!==e&&e.length&&(c[g]=e)}),c},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},
keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((0<b?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(c){function b(){this.element[0]===
this.document[0].activeElement||(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f}))}var f;f=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();c.preventDefault();b.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;b.call(this)});!1!==this._start(c)&&this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){return a(c.currentTarget).hasClass("ui-state-active")?
!1===this._start(c)?!1:(this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&
0<a.height()&&a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(c){var b=this.options,f=a.ui.keyCode;switch(c.keyCode){case f.UP:return this._repeat(null,1,c),!0;case f.DOWN:return this._repeat(null,-1,c),!0;case f.PAGE_UP:return this._repeat(null,b.page,c),!0;case f.PAGE_DOWN:return this._repeat(null,-b.page,c),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||!1!==this._trigger("start",a)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,c)},a);this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||
(this.counter=1);c=this._adjustValue(c+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",b,{value:c})||(this._value(c),this.counter++)},_increment:function(c){var b=this.options.incremental;return b?a.isFunction(b)?b(c):Math.floor(c*c*c/5E4-c*c/500+17*c/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=""+a;var b=a.indexOf(".");return-1===
b?0:a.length-b-1},_adjustValue:function(a){var b,c,g=this.options;return b=null!==g.min?g.min:0,c=a-b,c=Math.round(c/g.step)*g.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==g.max&&a>g.max?g.max:null!==g.min&&g.min>a?g.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=
b,this.element.val(this._format(c)),void 0}"max"!==a&&"min"!==a&&"step"!==a||"string"!=typeof b||(b=this._parse(b));"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down));this._super(a,b);"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:c(function(a){this._super(a);
this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:c(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),
this._stop())},stepDown:c(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:c(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:c(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(c(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);
(function(a,c){function d(a){return a=a.cloneNode(!1),1<a.hash.length&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var b=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();c.active=this._initialActive();a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(c.active):a();this._refresh();this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,d=this.options.collapsible,f=location.hash.substring(1);return null===b&&(f&&this.tabs.each(function(d,e){return a(e).attr("aria-controls")===f?(b=d,!1):c}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=d?!1:0)),!d&&!1===
b&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var d=a(this.document[0].activeElement).closest("li"),f=this.tabs.index(d),l=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:f++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:l=!1;f--;break;case a.ui.keyCode.END:f=this.anchors.length-1;break;case a.ui.keyCode.HOME:f=0;break;
case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),this._activate(f),c;case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),this._activate(f===this.options.active?!1:f),c;default:return}b.preventDefault();clearTimeout(this.activating);f=this._focusNextTab(f,l);b.ctrlKey||(d.attr("aria-selected","false"),this.tabs.eq(f).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",f)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||
b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):c},_findNextTab:function(b,c){for(var d=this.tabs.length-1;-1!==a.inArray((b>d&&(b=0),0>b&&(b=d),b),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,
b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?(this._activate(b),c):"disabled"===a?(this._setupDisabled(b),c):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b),c)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++b},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
a();this.anchors.each(function(c,f){var l,m,p,n=a(f).uniqueId().attr("id"),r=a(f).closest("li"),q=r.attr("aria-controls");d(f)?(l=f.hash,m=b.element.find(b._sanitizeSelector(l))):(p=b._tabId(r),l="#"+p,m=b.element.find(l),m.length||(m=b._createPanel(p),m.insertAfter(b.panels[c-1]||b.tablist)),m.attr("aria-live","polite"));m.length&&(b.panels=b.panels.add(m));q&&r.data("ui-tabs-aria-controls",q);r.attr({"aria-controls":l.substring(1),"aria-labelledby":n});m.attr("aria-labelledby",n)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)!0===b||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,c);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,
f=a(b.currentTarget).closest("li"),m=f[0]===d[0],p=m&&c.collapsible,n=p?a():this._getPanelForTab(f),r=d.length?this._getPanelForTab(d):a(),d={oldTab:d,oldPanel:r,newTab:p?a():f,newPanel:n};b.preventDefault();f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||m&&!c.collapsible||!1===this._trigger("beforeActivate",b,d)||(c.active=p?!1:this.tabs.index(f),this.active=m?a():f,this.xhr&&this.xhr.abort(),r.length||n.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),
n.length&&this.load(this.tabs.index(f),b),this._toggle(b,d))},_toggle:function(b,c){function d(){m.running=!1;m._trigger("activate",b,c)}function f(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active");p.length&&m.options.show?m._show(p,m.options.show,d):(p.show(),d())}var m=this,p=c.newPanel,n=c.oldPanel;this.running=!0;n.length&&this.options.hide?this._hide(n,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");f()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
n.hide(),f());n.attr({"aria-expanded":"false","aria-hidden":"true"});c.oldTab.attr("aria-selected","false");p.length&&n.length?c.oldTab.attr("tabIndex",-1):p.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1);p.attr({"aria-expanded":"true","aria-hidden":"false"});c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c;b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),c=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,
currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");
c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var d=this.options.disabled;!1!==d&&(b===c?d=!1:(b=this._getIndex(b),d=a.isArray(d)?a.map(d,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(d))},disable:function(b){var d=this.options.disabled;if(!0!==d){if(b===c)d=!0;else{if(b=this._getIndex(b),
-1!==a.inArray(b,d))return;d=a.isArray(d)?a.merge([b],d).sort():[b]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var f=this,l=this.tabs.eq(b),m=l.find(".ui-tabs-anchor"),p=this._getPanelForTab(l),n={tab:l,panel:p};d(m[0])||(this.xhr=a.ajax(this._ajaxSettings(m,c,n)),this.xhr&&"canceled"!==this.xhr.statusText&&(l.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){p.html(a);f._trigger("load",c,n)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
b&&f.panels.stop(!1,!0);l.removeClass("ui-tabs-loading");p.removeAttr("aria-busy");a===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(b,c,d){var f=this;return{url:b.attr("href"),beforeSend:function(b,g){return f._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:g},d))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
(function(a){function c(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c);b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function d(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),c=a.inArray(c,d);-1!==c&&d.splice(c,1);b.removeData("ui-tooltip-id");(d=a.trim(d.join(" ")))?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var b=0;a.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var b=a(this).attr("title")||
"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),this.options[b]=c,void 0):(this._super(b,c),"content"===b&&a.each(this.tooltips,
function(a,b){d._updateContent(b)}),void 0)},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var h=a.Event("blur");h.target=h.currentTarget=d[0];b.close(h,!0)});this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},
open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0));d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._updateContent(d,
b))},_updateContent:function(a,b){var c,d=this.options.content,l=this,m=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("ui-tooltip-open")&&l._delay(function(){b&&(b.type=m);this._open(b,a,c)})}),c&&this._open(b,a,c),void 0)},_open:function(b,d,e){function h(a){p.of=a;l.is(":hidden")||l.position(p)}var l,m,p=a.extend({},this.options.position);if(e){if(l=this._find(d),l.length)return l.find(".ui-tooltip-content").html(e),void 0;d.is("[title]")&&(b&&"mouseover"===
b.type?d.attr("title",""):d.removeAttr("title"));l=this._tooltip(d);c(d,l.attr("id"));l.find(".ui-tooltip-content").html(e);this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:h}),h(b)):l.position(a.extend({of:d},this.options.position));l.hide();this._show(l,this.options.show);this.options.show&&this.options.show.delay&&(m=this.delayedShow=setInterval(function(){l.is(":visible")&&(h(p.of),clearInterval(m))},a.fx.interval));this._trigger("open",b,{tooltip:l});e={keyup:function(b){b.keyCode===
a.ui.keyCode.ESCAPE&&(b=a.Event(b),b.currentTarget=d[0],this.close(b,!0))},remove:function(){this._removeTooltip(l)}};b&&"mouseover"!==b.type||(e.mouseleave="close");b&&"focusin"!==b.type||(e.focusout="close");this._on(!0,d,e)}},close:function(b){var c=this,e=a(b?b.currentTarget:this.element),h=this._find(e);this.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),d(e),h.stop(!0),this._hide(h,this.options.hide,function(){c._removeTooltip(a(this))}),
e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,d){a(d.element).attr("title",d.title);delete c.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:h}),this.closing=!1)},_tooltip:function(c){var d="ui-tooltip-"+b++,e=a("<div>").attr({id:d,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||
""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[d]=c,e},_find:function(b){return(b=b.data("ui-tooltip-id"))?a("#"+b):a()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var h=a.Event("blur");h.target=h.currentTarget=d[0];b.close(h,!0);a("#"+c).remove();d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})})(jQuery);
(function(a,c,d){function b(a){return"[object Function]"==v.call(a)}function f(a){return"string"==typeof a}function g(){}function e(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=G.shift();t=1;a?a.t?r(function(){("c"==a.t?H.injectCss:H.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):t=0}function l(a,b,d,f,g,l,m){function n(c){if(!v&&e(p.readyState)&&(E.r=v=1,!t&&h(),p.onload=p.onreadystatechange=null,c)){"img"!=a&&r(function(){D.removeChild(p)},50);for(var d in N[b])N[b].hasOwnProperty(d)&&
N[b][d].onload()}}m=m||H.errorTimeout;var p=c.createElement(a),v=0,C=0,E={t:d,s:b,e:g,a:l,x:m};1===N[b]&&(C=1,N[b]=[]);"object"==a?p.data=b:(p.src=b,p.type=a);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){n.call(this,C)};G.splice(f,0,E);"img"!=a&&(C||2===N[b]?(D.insertBefore(p,z?null:q),r(n,m)):N[b].push(p))}function m(a,b,c,d,e){return t=0,b=b||"j",f(a)?l("c"==b?I:E,a,b,this.i++,c,d,e):(G.splice(this.i++,0,a),1==G.length&&h()),this}function p(){var a=H;return a.loader={load:m,
i:0},a}var n=c.documentElement,r=a.setTimeout,q=c.getElementsByTagName("script")[0],v={}.toString,G=[],t=0,C="MozAppearance"in n.style,z=C&&!!c.createRange().compareNode,D=z?n:q.parentNode,n=a.opera&&"[object Opera]"==v.call(a.opera),n=!!c.attachEvent&&!n,E=C?"object":n?"script":"img",I=n?"script":E,V=Array.isArray||function(a){return"[object Array]"==v.call(a)},S=[],N={},T={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},W,H;H=function(a){function c(a){a=a.split("!");var b=S.length,d=
a.pop(),e=a.length,d={url:d,origUrl:d,prefixes:a},f,g,h;for(g=0;g<e;g++)h=a[g].split("="),(f=T[h.shift()])&&(d=f(d,h));for(g=0;g<b;g++)d=S[g](d);return d}function e(a,f,g,h,l){var m=c(a),n=m.autoCallback;m.url.split(".").pop().split("?").shift();m.bypass||(f&&(f=b(f)?f:f[a]||f[h]||f[a.split("/").pop().split("?")[0]]),m.instead?m.instead(a,f,g,h,l):(N[m.url]?m.noexec=!0:N[m.url]=1,g.load(m.url,m.forceCSS||!m.forceJS&&"css"==m.url.split(".").pop().split("?").shift()?"c":d,m.noexec,m.attrs,m.timeout),
(b(f)||b(n))&&g.load(function(){p();f&&f(m.origUrl,l,h);n&&n(m.origUrl,l,h);N[m.url]=2})))}function h(a,c){function d(a,g){if(a)if(f(a))g||(n=function(){var a=[].slice.call(arguments);p.apply(this,a);q()}),e(a,n,c,0,l);else{if(Object(a)===a)for(v in r=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(v)&&(!g&&!--r&&(b(n)?n=function(){var a=[].slice.call(arguments);p.apply(this,a);q()}:n[v]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,
b);q()}}(p[v])),e(a[v],n,c,v,l))}else!g&&q()}var l=!!a.test,m=a.load||a.both,n=a.callback||g,p=n,q=a.complete||g,r,v;d(l?a.yep:a.nope,!!m);m&&d(m)}var l,m,n=this.yepnope.loader;if(f(a))e(a,0,n,0);else if(V(a))for(l=0;l<a.length;l++)m=a[l],f(m)?e(m,0,n,0):V(m)?H(m):Object(m)===m&&h(m,n);else Object(a)===a&&h(a,n)};H.addPrefix=function(a,b){T[a]=b};H.addFilter=function(a){S.push(a)};H.errorTimeout=1E4;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",
W=function(){c.removeEventListener("DOMContentLoaded",W,0);c.readyState="complete"},0));a.yepnope=p();a.yepnope.executeStack=h;a.yepnope.injectJs=function(a,b,d,f,l,m){var n=c.createElement("script"),p,v;f=f||H.errorTimeout;n.src=a;for(v in d)n.setAttribute(v,d[v]);b=m?h:b||g;n.onreadystatechange=n.onload=function(){!p&&e(n.readyState)&&(p=1,b(),n.onload=n.onreadystatechange=null)};r(function(){p||(p=1,b(1))},f);l?n.onload():q.parentNode.insertBefore(n,q)};a.yepnope.injectCss=function(a,b,d,e,f,l){e=
c.createElement("link");var m;b=l?h:b||g;e.href=a;e.rel="stylesheet";e.type="text/css";for(m in d)e.setAttribute(m,d[m]);f||(q.parentNode.insertBefore(e,q),r(b,0))}})(this,document);
!function(a){a.contextMenu={shadow:!0,shadowOffset:0,shadowOffsetX:5,shadowOffsetY:5,shadowWidthAdjust:-3,shadowHeightAdjust:-3,shadowOpacity:.2,shadowClass:"context-menu-shadow",shadowColor:"black",offsetX:0,offsetY:0,appendTo:"body",direction:"down",constrainToScreen:!0,showTransition:"show",hideTransition:"hide",showSpeed:null,hideSpeed:null,showCallback:null,hideCallback:null,className:"context-menu",itemClassName:"context-menu-item",itemHoverClassName:"context-menu-item-hover",disabledItemClassName:"context-menu-item-disabled",
disabledItemHoverClassName:"context-menu-item-disabled-hover",separatorClassName:"context-menu-separator",innerDivClassName:"context-menu-item-inner",themePrefix:"context-menu-theme-",theme:"default",separator:"context-menu-separator",target:null,menu:null,shadowObj:null,bgiframe:null,shown:!1,useIframe:!1,create:function(c,d){var b=a.extend({},this,d);return"string"==typeof c?b.menu=a(c):"function"==typeof c?b.menuFunction=c:b.menu=b.createMenu(c,b),b.menu&&(b.menu.css({display:"none"}),a(b.appendTo).append(b.menu)),
b.shadow&&(b.createShadow(b),b.shadowOffset&&(b.shadowOffsetX=b.shadowOffsetY=b.shadowOffset)),a("body").bind("contextmenu",function(){b.hide()}),b},createIframe:function(){return a('<iframe frameborder="0" tabindex="-1" src="javascript:false" style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=0);"/>')},createMenu:function(c,d){var b=d.className;a.each(d.theme.split(","),function(a,c){b+=" "+d.themePrefix+c});for(var f=a("<table cellspacing=0 cellpadding=0></table>").click(function(){return d.hide(),
!1}),g=a("<tr></tr>"),e=a("<td></td>"),h=a('<div class="'+b+'"></div>'),l=0;l<c.length;l++)if(c[l]==a.contextMenu.separator)h.append(d.createSeparator());else for(var m in c[l])h.append(d.createMenuItem(m,c[l][m]));return d.useIframe&&e.append(d.createIframe()),f.append(g.append(e.append(h))),f},createMenuItem:function(c,d){var b=this;"function"==typeof d&&(d={onclick:d});var f=a.extend({onclick:function(){},className:"",hoverClassName:b.itemHoverClassName,icon:"",disabled:!1,title:"",hoverItem:b.hoverItem,
hoverItemOut:b.hoverItemOut},d),g=f.icon?"background-image:url("+f.icon+");":"",e=a('<div class="'+b.itemClassName+" "+f.className+(f.disabled?" "+b.disabledItemClassName:"")+'" title="'+f.title+'"></div>').click(function(a){return b.isItemDisabled(this)?!1:f.onclick.call(b.target,this,b,a)}).hover(function(){f.hoverItem.call(this,b.isItemDisabled(this)?b.disabledItemHoverClassName:f.hoverClassName)},function(){f.hoverItemOut.call(this,b.isItemDisabled(this)?b.disabledItemHoverClassName:f.hoverClassName)}),
g=a('<div class="'+b.innerDivClassName+'" style="'+g+'">'+c+"</div>");return e.append(g),e},createSeparator:function(){return a('<div class="'+this.separatorClassName+'"></div>')},isItemDisabled:function(c){return a(c).is("."+this.disabledItemClassName)},hoverItem:function(c){a(this).addClass(c)},hoverItemOut:function(c){a(this).removeClass(c)},createShadow:function(c){c.shadowObj=a('<div class="'+c.shadowClass+'"></div>').css({display:"none",position:"absolute",zIndex:9998,opacity:c.shadowOpacity,
backgroundColor:c.shadowColor});a(c.appendTo).append(c.shadowObj)},showShadow:function(a,d,b){this.shadow&&this.shadowObj.css({width:this.menu.width()+this.shadowWidthAdjust+"px",height:this.menu.height()+this.shadowHeightAdjust+"px",top:d+this.shadowOffsetY+"px",left:a+this.shadowOffsetX+"px"}).addClass(this.shadowClass)[this.showTransition](this.showSpeed)},beforeShow:function(){return!0},show:function(c,d){var b=this,f=d.pageX,g=d.pageY;if(b.target=c,!1!==b.beforeShow()){b.menuFunction&&(b.menu&&
a(b.menu).remove(),b.menu=b.createMenu(b.menuFunction(b,c),b),b.menu.css({display:"none"}),a(b.appendTo).append(b.menu));var e=b.menu,f=f+b.offsetX,g=g+b.offsetY,f=b.getPosition(f,g,b,d);b.showShadow(f.x,f.y,d);b.useIframe&&e.find("iframe").css({width:e.width()+b.shadowOffsetX+b.shadowWidthAdjust,height:e.height()+b.shadowOffsetY+b.shadowHeightAdjust});e.css({top:f.y+"px",left:f.x+"px",position:"absolute",zIndex:9999})[b.showTransition](b.showSpeed,b.showCallback?function(){b.showCallback.call(b)}:
null);b.shown=!0;a(document).one("click",null,function(){b.hide()})}},getPosition:function(c,d,b,f){c+=b.offsetX;d+=b.offsetY;f=a(b.menu).height();var g=a(b.menu).width(),e=b.direction;if(b.constrainToScreen){var h=a(window),l=h.height();b=h.width();"down"==e&&d+f-h.scrollTop()>l&&(e="up");g=c+g-h.scrollLeft();g>b&&(c-=g-b)}return"up"==e&&(d-=f),{x:c,y:d}},hide:function(){var c=this;c.shown&&(c.iframe&&a(c.iframe).hide(),c.menu&&c.menu[c.hideTransition](c.hideSpeed,c.hideCallback?function(){c.hideCallback.call(c)}:
null),c.shadow&&c.shadowObj[c.hideTransition](c.hideSpeed));c.shown=!1}};a.fn.contextMenu=function(c,d){var b=a.contextMenu.create(c,d);return this.each(function(){a(this).bind("contextmenu",function(a){return b.show(this,a),!1})})}}(jQuery);
!function(a){"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],a):a(window.jQuery)}(function(a){a.support.fileInput=!(/(Android (1\.[0156]|2\.[01]))|(Windows Phone (OS 7|8\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1\.0|2\.[05]|3\.0))/.test(window.navigator.userAgent)||a('<input type="file">').prop("disabled"));a.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader);a.support.xhrFormDataFileUpload=!!window.FormData;a.support.blobSlice=
window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!0,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!1,maxChunkSize:0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,
bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(c,d){return c=this.messages[c]||c.toString(),d&&a.each(d,function(a,d){c=c.replace("{"+a+"}",d)}),c},formData:function(a){return a.serializeArray()},add:function(c,d){(d.autoUpload||!1!==d.autoUpload&&a(this).fileupload("option","autoUpload"))&&d.process().done(function(){d.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],
_blobSlice:a.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(a,d,b){var f=a-this.timestamp;return(!this.bitrate||!b||f>b)&&(this.bitrate=1E3/f*(d-this.loaded)*8,this.loaded=d,this.timestamp=a),this.bitrate}},_isXHRUpload:function(c){return!c.forceIframeTransport&&(!c.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},
_getFormData:function(c){var d;return"function"==typeof c.formData?c.formData(c.form):a.isArray(c.formData)?c.formData:"object"===a.type(c.formData)?(d=[],a.each(c.formData,function(a,c){d.push({name:a,value:c})}),d):[]},_getTotal:function(c){var d=0;return a.each(c,function(a,c){d+=c.size||1}),d},_initProgressObject:function(c){var d={loaded:0,total:0,bitrate:0};c._progress?a.extend(c._progress,d):c._progress=d},_initResponseObject:function(a){var d;if(a._response)for(d in a._response)a._response.hasOwnProperty(d)&&
delete a._response[d];else a._response={}},_onProgress:function(a,d){if(a.lengthComputable){var b,f=Date.now?Date.now():(new Date).getTime();d._time&&d.progressInterval&&f-d._time<d.progressInterval&&a.loaded!==a.total||(d._time=f,b=Math.floor(a.loaded/a.total*(d.chunkSize||d._progress.total))+(d.uploadedBytes||0),this._progress.loaded+=b-d._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(f,this._progress.loaded,d.bitrateInterval),d._progress.loaded=d.loaded=b,d._progress.bitrate=
d.bitrate=d._bitrateTimer.getBitrate(f,b,d.bitrateInterval),this._trigger("progress",a,d),this._trigger("progressall",a,this._progress))}},_initProgressListener:function(c){var d=this,b=c.xhr?c.xhr():a.ajaxSettings.xhr();b.upload&&(a(b.upload).bind("progress",function(a){var b=a.originalEvent;a.lengthComputable=b.lengthComputable;a.loaded=b.loaded;a.total=b.total;d._onProgress(a,c)}),c.xhr=function(){return b})},_isInstanceOf:function(a,d){return Object.prototype.toString.call(d)==="[object "+a+"]"},
_initXHRData:function(c){var d,b=this,f=c.files[0],g=c.multipart||!a.support.xhrFileUpload,e=c.paramName[0];c.headers=a.extend({},c.headers);c.contentRange&&(c.headers["Content-Range"]=c.contentRange);g&&!c.blob&&this._isInstanceOf("File",f)||(c.headers["Content-Disposition"]='attachment; filename="'+encodeURI(f.name)+'"');g?a.support.xhrFormDataFileUpload&&(c.postMessage?(d=this._getFormData(c),c.blob?d.push({name:e,value:c.blob}):a.each(c.files,function(a,b){d.push({name:c.paramName[a]||e,value:b})})):
(b._isInstanceOf("FormData",c.formData)?d=c.formData:(d=new FormData,a.each(this._getFormData(c),function(a,b){d.append(b.name,b.value)})),c.blob?d.append(e,c.blob,f.name):a.each(c.files,function(a,f){(b._isInstanceOf("File",f)||b._isInstanceOf("Blob",f))&&d.append(c.paramName[a]||e,f,f.name)})),c.data=d):(c.contentType=f.type,c.data=c.blob||f);c.blob=null},_initIframeSettings:function(c){var d=a("<a></a>").prop("href",c.url).prop("host");c.dataType="iframe "+(c.dataType||"");c.formData=this._getFormData(c);
c.redirect&&d&&d!==location.host&&c.formData.push({name:c.redirectParamName||"redirect",value:c.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(c){var d=a(c.fileInput),b=c.paramName;return b?a.isArray(b)||(b=[b]):(b=[],d.each(function(){for(var c=a(this),d=c.prop("name")||"files[]",c=
(c.prop("files")||[1]).length;c;)b.push(d),--c}),b.length||(b=[d.prop("name")||"files[]"])),b},_initFormSettings:function(c){c.form&&c.form.length||(c.form=a(c.fileInput.prop("form")),c.form.length||(c.form=a(this.options.fileInput.prop("form"))));c.paramName=this._getParamName(c);c.url||(c.url=c.form.prop("action")||location.href);c.type=(c.type||c.form.prop("method")||"").toUpperCase();"POST"!==c.type&&"PUT"!==c.type&&"PATCH"!==c.type&&(c.type="POST");c.formAcceptCharset||(c.formAcceptCharset=c.form.attr("accept-charset"))},
_getAJAXSettings:function(c){c=a.extend({},this.options,c);return this._initFormSettings(c),this._initDataSettings(c),c},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){return a.success=a.done,a.error=a.fail,a.complete=a.always,a},_getXHRPromise:function(c,d,b){var f=a.Deferred(),g=f.promise();return d=d||this.options.context||g,!0===c?f.resolveWith(d,b):!1===c&&f.rejectWith(d,b),g.abort=f.promise,this._enhancePromise(g)},
_addConvenienceMethods:function(c,d){var b=this;d.process=function(c,g){return(c||g)&&(d._processQueue=this._processQueue=(this._processQueue||a.Deferred().resolveWith(b,[this]).promise()).pipe(c,g)),this._processQueue||a.Deferred().resolveWith(b,[this]).promise()};d.submit=function(){return"pending"!==this.state()&&(d.jqXHR=this.jqXHR=!1!==b._trigger("submit",c,this)&&b._onSend(c,this)),this.jqXHR||b._getXHRPromise()};d.abort=function(){return this.jqXHR?this.jqXHR.abort():b._getXHRPromise()};d.state=
function(){return this.jqXHR?b._getDeferredState(this.jqXHR):this._processQueue?b._getDeferredState(this._processQueue):void 0};d.progress=function(){return this._progress};d.response=function(){return this._response}},_getUploadedBytes:function(a){return(a=(a=(a=a.getResponseHeader("Range"))&&a.split("-"))&&1<a.length&&parseInt(a[1],10))&&a+1},_chunkedUpload:function(c,d){c.uploadedBytes=c.uploadedBytes||0;var b,f,g=this,e=c.files[0],h=e.size,l=c.uploadedBytes,m=c.maxChunkSize||h,p=this._blobSlice,
n=a.Deferred(),r=n.promise();return this._isXHRUpload(c)&&p&&(l||h>m)&&!c.data?d?!0:l>=h?(e.error=c.i18n("uploadedBytes"),this._getXHRPromise(!1,c.context,[null,"error",e.error])):(f=function(){var d=a.extend({},c),r=d._progress.loaded;d.blob=p.call(e,l,l+m,e.type);d.chunkSize=d.blob.size;d.contentRange="bytes "+l+"-"+(l+d.chunkSize-1)+"/"+h;g._initXHRData(d);g._initProgressListener(d);b=(!1!==g._trigger("chunksend",null,d)&&a.ajax(d)||g._getXHRPromise(!1,d.context)).done(function(b,e,m){l=g._getUploadedBytes(m)||
l+d.chunkSize;r+d.chunkSize-d._progress.loaded&&g._onProgress(a.Event("progress",{lengthComputable:!0,loaded:l-d.uploadedBytes,total:l-d.uploadedBytes}),d);c.uploadedBytes=d.uploadedBytes=l;d.result=b;d.textStatus=e;d.jqXHR=m;g._trigger("chunkdone",null,d);g._trigger("chunkalways",null,d);h>l?f():n.resolveWith(d.context,[b,e,m])}).fail(function(a,b,c){d.jqXHR=a;d.textStatus=b;d.errorThrown=c;g._trigger("chunkfail",null,d);g._trigger("chunkalways",null,d);n.rejectWith(d.context,[a,b,c])})},this._enhancePromise(r),
r.abort=function(){return b.abort()},f(),r):!1},_beforeSend:function(a,d){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0);this._initResponseObject(d);this._initProgressObject(d);d._progress.loaded=d.loaded=d.uploadedBytes||0;d._progress.total=d.total=this._getTotal(d.files)||1;d._progress.bitrate=d.bitrate=0;this._active+=1;this._progress.loaded+=d.loaded;this._progress.total+=d.total},_onDone:function(c,
d,b,f){var g=f._progress.total,e=f._response;f._progress.loaded<g&&this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:g,total:g}),f);e.result=f.result=c;e.textStatus=f.textStatus=d;e.jqXHR=f.jqXHR=b;this._trigger("done",null,f)},_onFail:function(a,d,b,f){var g=f._response;f.recalculateProgress&&(this._progress.loaded-=f._progress.loaded,this._progress.total-=f._progress.total);g.jqXHR=f.jqXHR=a;g.textStatus=f.textStatus=d;g.errorThrown=f.errorThrown=b;this._trigger("fail",null,f)},_onAlways:function(a,
d,b,f){this._trigger("always",null,f)},_onSend:function(c,d){d.submit||this._addConvenienceMethods(c,d);var b,f,g,e,h=this,l=h._getAJAXSettings(d),m=function(){return h._sending+=1,l._bitrateTimer=new h._BitrateTimer,b=b||((f||!1===h._trigger("send",c,l))&&h._getXHRPromise(!1,l.context,f)||h._chunkedUpload(l)||a.ajax(l)).done(function(a,b,c){h._onDone(a,b,c,l)}).fail(function(a,b,c){h._onFail(a,b,c,l)}).always(function(a,b,c){if(h._onAlways(a,b,c,l),--h._sending,--h._active,l.limitConcurrentUploads&&
l.limitConcurrentUploads>h._sending)for(a=h._slots.shift();a;){if("pending"===h._getDeferredState(a)){a.resolve();break}a=h._slots.shift()}0===h._active&&h._trigger("stop")})};return this._beforeSend(c,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(g=a.Deferred(),this._slots.push(g),e=g.pipe(m)):(this._sequence=this._sequence.pipe(m,m),e=this._sequence),e.abort=function(){return f=[void 0,
"abort","abort"],b?b.abort():(g&&g.rejectWith(l.context,f),m())},this._enhancePromise(e)):m()},_onAdd:function(c,d){var b,f,g,e,h=this,l=!0;f=a.extend({},this.options,d);var m=f.limitMultiFileUploads,p=this._getParamName(f);if((f.singleFileUploads||m)&&this._isXHRUpload(f))if(!f.singleFileUploads&&m)for(g=[],b=[],e=0;e<d.files.length;e+=m)g.push(d.files.slice(e,e+m)),f=p.slice(e,e+m),f.length||(f=p),b.push(f);else b=p;else g=[d.files],b=[p];return d.originalFiles=d.files,a.each(g||d.files,function(e,
f){var m=a.extend({},d);return m.files=g?f:[f],m.paramName=b[e],h._initResponseObject(m),h._initProgressObject(m),h._addConvenienceMethods(c,m),l=h._trigger("add",c,m)}),l},_replaceFileInput:function(c){var d=c.clone(!0);a("<form></form>").append(d)[0].reset();c.after(d).detach();a.cleanData(c.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(a,f){return f===c[0]?d[0]:f});c[0]===this.element[0]&&(this.element=d)},_handleFileTreeEntry:function(c,d){var b,f=this,g=a.Deferred(),
e=function(a){a&&!a.entry&&(a.entry=c);g.resolve([a])};return d=d||"",c.isFile?c._file?(c._file.relativePath=d,g.resolve(c._file)):c.file(function(a){a.relativePath=d;g.resolve(a)},e):c.isDirectory?(b=c.createReader(),b.readEntries(function(a){f._handleFileTreeEntries(a,d+c.name+"/").done(function(a){g.resolve(a)}).fail(e)},e)):g.resolve([]),g.promise()},_handleFileTreeEntries:function(c,d){var b=this;return a.when.apply(a,a.map(c,function(a){return b._handleFileTreeEntry(a,d)})).pipe(function(){return Array.prototype.concat.apply([],
arguments)})},_getDroppedFiles:function(c){c=c||{};var d=c.items;return d&&d.length&&(d[0].webkitGetAsEntry||d[0].getAsEntry)?this._handleFileTreeEntries(a.map(d,function(a){var c;return a.webkitGetAsEntry?(c=a.webkitGetAsEntry(),c&&(c._file=a.getAsFile()),c):a.getAsEntry()})):a.Deferred().resolve(a.makeArray(c.files)).promise()},_getSingleFileInputFiles:function(c){c=a(c);var d,b,f=c.prop("webkitEntries")||c.prop("entries");if(f&&f.length)return this._handleFileTreeEntries(f);if(d=a.makeArray(c.prop("files")),
d.length)void 0===d[0].name&&d[0].fileName&&a.each(d,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{if(b=c.prop("value"),!b)return a.Deferred().resolve([]).promise();d=[{name:b.replace(/^.*\\/,"")}]}return a.Deferred().resolve(d).promise()},_getFileInputFiles:function(c){return c instanceof a&&1!==c.length?a.when.apply(a,a.map(c,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(c)},_onChange:function(c){var d=
this,b={fileInput:a(c.target),form:a(c.target.form)};this._getFileInputFiles(b.fileInput).always(function(a){b.files=a;d.options.replaceFileInput&&d._replaceFileInput(b.fileInput);!1!==d._trigger("change",c,b)&&d._onAdd(c,b)})},_onPaste:function(c){var d=c.originalEvent&&c.originalEvent.clipboardData&&c.originalEvent.clipboardData.items,b={files:[]};return d&&d.length&&(a.each(d,function(a,c){var d=c.getAsFile&&c.getAsFile();d&&b.files.push(d)}),!1===this._trigger("paste",c,b)||!1===this._onAdd(c,
b))?!1:void 0},_onDrop:function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var d=this,b=a.dataTransfer,f={};b&&b.files&&b.files.length&&(a.preventDefault(),this._getDroppedFiles(b).always(function(b){f.files=b;!1!==d._trigger("drop",a,f)&&d._onAdd(a,f)}))},_onDragOver:function(c){c.dataTransfer=c.originalEvent&&c.originalEvent.dataTransfer;var d=c.dataTransfer;if(d){if(!1===this._trigger("dragover",c))return!1;-1!==a.inArray("Files",d.types)&&(d.dropEffect="copy",c.preventDefault())}},
_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste}));a.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(c,d){var b=-1!==a.inArray(c,this._specialOptions);
b&&this._destroyEventHandlers();this._super(c,d);b&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var c=this.options;void 0===c.fileInput?c.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):c.fileInput instanceof a||(c.fileInput=a(c.fileInput));c.dropZone instanceof a||(c.dropZone=a(c.dropZone));c.pasteZone instanceof a||(c.pasteZone=a(c.pasteZone))},_getRegExp:function(a){a=a.split("/");var d=a.pop();return a.shift(),
new RegExp(a.join("/"),d)},_isRegExpOption:function(c,d){return"url"!==c&&"string"===a.type(d)&&/^\/.*\/[igm]{0,3}$/.test(d)},_initDataAttributes:function(){var c=this,d=this.options;a.each(a(this.element[0].cloneNode(!1)).data(),function(a,f){c._isRegExpOption(a,f)&&(f=c._getRegExp(f));d[a]=f})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},
active:function(){return this._active},progress:function(){return this._progress},add:function(c){var d=this;c&&!this.options.disabled&&(c.fileInput&&!c.files?this._getFileInputFiles(c.fileInput).always(function(a){c.files=a;d._onAdd(null,c)}):(c.files=a.makeArray(c.files),this._onAdd(null,c)))},send:function(c){if(c&&!this.options.disabled){if(c.fileInput&&!c.files){var d,b,f=this,g=a.Deferred(),e=g.promise();return e.abort=function(){return b=!0,d?d.abort():(g.reject(null,"abort","abort"),e)},this._getFileInputFiles(c.fileInput).always(function(a){if(!b){if(!a.length)return void g.reject();
c.files=a;d=f._onSend(null,c).then(function(a,b,c){g.resolve(a,b,c)},function(a,b,c){g.reject(a,b,c)})}}),this._enhancePromise(e)}if(c.files=a.makeArray(c.files),c.files.length)return this._onSend(null,c)}return this._getXHRPromise(!1,c&&c.context)}})});
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){var c=0;a.ajaxTransport("iframe",function(d){if(d.async){var b,f,g;return{send:function(e,h){b=a('<form style="display:none;"></form>');b.attr("accept-charset",d.formAcceptCharset);g=/\?/.test(d.url)?"&":"?";"DELETE"===d.type?(d.url=d.url+g+"_method=DELETE",d.type="POST"):"PUT"===d.type?(d.url=d.url+g+"_method=PUT",d.type="POST"):"PATCH"===d.type&&(d.url=d.url+g+"_method=PATCH",d.type="POST");c+=
1;f=a('<iframe src="javascript:false;" name="iframe-transport-'+c+'"></iframe>').bind("load",function(){var c,e=a.isArray(d.paramName)?d.paramName:[d.paramName];f.unbind("load").bind("load",function(){var c;try{if(c=f.contents(),!c.length||!c[0].firstChild)throw Error();}catch(d){c=void 0}h(200,"success",{iframe:c});a('<iframe src="javascript:false;"></iframe>').appendTo(b);window.setTimeout(function(){b.remove()},0)});b.prop("target",f.prop("name")).prop("action",d.url).prop("method",d.type);d.formData&&
a.each(d.formData,function(c,d){a('<input type="hidden"/>').prop("name",d.name).val(d.value).appendTo(b)});d.fileInput&&d.fileInput.length&&"POST"===d.type&&(c=d.fileInput.clone(),d.fileInput.after(function(a){return c[a]}),d.paramName&&d.fileInput.each(function(b){a(this).prop("name",e[b]||d.paramName)}),b.append(d.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"));b.submit();c&&c.length&&d.fileInput.each(function(b,d){var e=a(c[b]);a(d).prop("name",e.prop("name"));
e.replaceWith(d)})});b.append(f).appendTo(document.body)},abort:function(){f&&f.unbind("load").prop("src","javascript".concat(":false;"));b&&b.remove()}}}});a.ajaxSetup({converters:{"iframe text":function(c){return c&&a(c[0].body).text()},"iframe json":function(c){return c&&a.parseJSON(a(c[0].body).text())},"iframe html":function(c){return c&&a(c[0].body).html()},"iframe xml":function(c){return(c=c&&c[0])&&a.isXMLDoc(c)?c:a.parseXML(c.XMLDocument&&c.XMLDocument.xml||a(c.body).html())},"iframe script":function(c){return c&&
a.globalEval(a(c[0].body).text())}}})});
(function(a){a.color={};a.color.make=function(c,b,f,g){var e={};e.r=c||0;e.g=b||0;e.b=f||0;e.a=null!=g?g:1;e.add=function(a,b){for(var c=0;c<a.length;++c)e[a.charAt(c)]+=b;return e.normalize()};e.scale=function(a,b){for(var c=0;c<a.length;++c)e[a.charAt(c)]*=b;return e.normalize()};e.toString=function(){return 1<=e.a?"rgb("+[e.r,e.g,e.b].join()+")":"rgba("+[e.r,e.g,e.b,e.a].join()+")"};e.normalize=function(){function a(b,c,d){return c<b?b:c>d?d:c}e.r=a(0,parseInt(e.r),255);e.g=a(0,parseInt(e.g),255);
e.b=a(0,parseInt(e.b),255);e.a=a(0,e.a,1);return e};e.clone=function(){return a.color.make(e.r,e.b,e.g,e.a)};return e.normalize()};a.color.extract=function(c,b){var f;do{f=c.css(b).toLowerCase();if(""!=f&&"transparent"!=f)break;c=c.parent()}while(c.length&&!a.nodeName(c.get(0),"body"));"rgba(0, 0, 0, 0)"==f&&(f="transparent");return a.color.parse(f)};a.color.parse=function(d){var b,f=a.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))return f(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(d))return f(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(d))return f(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(d))return f(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))return f(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))return f(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));d=a.trim(d).toLowerCase();if("transparent"==d)return f(255,255,255,0);b=c[d]||[0,0,0];return f(b[0],b[1],b[2])};var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(a){function c(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext))if(window.G_vmlCanvasManager)d=window.G_vmlCanvasManager.initElement(d);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
d;d=this.context=d.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1);this.resize(c.width(),c.height());this.textContainer=null;this.text={};this._textCache={}}function d(b,d,e,h){function l(a,b){b=[O].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function m(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},u.series);null!=b[d].data?
(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d];c.push(e)}L=c;d=L.length;c=-1;for(b=0;b<L.length;++b)e=L[b].color,null!=e&&(d--,"number"==typeof e&&e>c&&(c=e));d<=c&&(d=c+1);var c=[],f=u.colors,g=f.length,h=0;for(b=0;b<d;b++)e=a.color.parse(f[b%g]||"#666"),0==b%g&&b&&(h=0<=h?.5>h?-h-.2:0:-h),c[b]=e.scale("rgb",1+h);for(b=d=0;b<L.length;++b){e=L[b];null==e.color?(e.color=c[d].toString(),++d):"number"==typeof e.color&&(e.color=c[e.color].toString());if(null==e.lines.show){var l,
f=!0;for(l in e)if(e[l]&&e[l].show){f=!1;break}f&&(e.lines.show=!0)}null==e.lines.zero&&(e.lines.zero=!!e.lines.fill);e.xaxis=q(na,p(e,"x"));e.yaxis=q(ea,p(e,"y"))}v()}function p(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function n(){return a.grep(na.concat(ea),function(a){return a})}function r(a){var b={},c,d;for(c=0;c<na.length;++c)(d=na[c])&&d.used&&(b["x"+d.n]=d.c2p(a.left));for(c=0;c<ea.length;++c)(d=ea[c])&&d.used&&(b["y"+d.n]=d.c2p(a.top));void 0!==
b.x1&&(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function q(b,c){b[c-1]||(b[c-1]={n:c,direction:b==na?"x":"y",options:a.extend(!0,{},b==na?u.xaxis:u.yaxis)});return b[c-1]}function v(){function b(a,c,d){c<a.datamin&&c!=-e&&(a.datamin=c);d>a.datamax&&d!=e&&(a.datamax=d)}var c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=Number.MAX_VALUE,f,g,h,k,m,p,q,r,v,t,z,D;a.each(n(),function(a,b){b.datamin=c;b.datamax=d;b.used=!1});for(f=0;f<L.length;++f)m=L[f],m.datapoints={points:[]},l(oa.processRawData,
[m,m.data,m.datapoints]);for(f=0;f<L.length;++f){m=L[f];z=m.data;D=m.datapoints.format;if(!D){D=[];D.push({x:!0,number:!0,required:!0});D.push({y:!0,number:!0,required:!0});if(m.bars.show||m.lines.show&&m.lines.fill)D.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(m.bars.show&&m.bars.zero||m.lines.show&&m.lines.zero)}),m.bars.horizontal&&(delete D[D.length-1].y,D[D.length-1].x=!0);m.datapoints.format=D}if(null==m.datapoints.pointsize){m.datapoints.pointsize=D.length;q=m.datapoints.pointsize;
p=m.datapoints.points;var C=m.lines.show&&m.lines.steps;m.xaxis.used=m.yaxis.used=!0;for(g=h=0;g<z.length;++g,h+=q){t=z[g];var u=null==t;if(!u)for(k=0;k<q;++k){r=t[k];if(v=D[k])v.number&&null!=r&&(r=+r,isNaN(r)?r=null:Infinity==r?r=e:-Infinity==r&&(r=-e)),null==r&&(v.required&&(u=!0),null!=v.defaultValue&&(r=v.defaultValue));p[h+k]=r}if(u)for(k=0;k<q;++k)r=p[h+k],null!=r&&(v=D[k],!1!==v.autoscale&&(v.x&&b(m.xaxis,r,r),v.y&&b(m.yaxis,r,r))),p[h+k]=null;else if(C&&0<h&&null!=p[h-q]&&p[h-q]!=p[h]&&p[h-
q+1]!=p[h+1]){for(k=0;k<q;++k)p[h+q+k]=p[h+k];p[h+1]=p[h-q+1];h+=q}}}}for(f=0;f<L.length;++f)m=L[f],l(oa.processDatapoints,[m,m.datapoints]);for(f=0;f<L.length;++f){m=L[f];p=m.datapoints.points;q=m.datapoints.pointsize;D=m.datapoints.format;t=h=c;C=z=d;for(g=0;g<p.length;g+=q)if(null!=p[g])for(k=0;k<q;++k)r=p[g+k],(v=D[k])&&!1!==v.autoscale&&r!=e&&r!=-e&&(v.x&&(r<h&&(h=r),r>z&&(z=r)),v.y&&(r<t&&(t=r),r>C&&(C=r)));if(m.bars.show){switch(m.bars.align){case "left":g=0;break;case "right":g=-m.bars.barWidth;
break;default:g=-m.bars.barWidth/2}m.bars.horizontal?(t+=g,C+=g+m.bars.barWidth):(h+=g,z+=g+m.bars.barWidth)}b(m.xaxis,h,z);b(m.yaxis,t,C)}a.each(n(),function(a,b){b.datamin==c&&(b.datamin=null);b.datamax==d&&(b.datamax=null)})}function G(){Ia&&clearTimeout(Ia);qa.unbind("mousemove",P);qa.unbind("mouseleave",ua);qa.unbind("click",ia);l(oa.shutdown,[qa])}function t(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=B/Math.abs(e(a.max)-
e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=k/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min)));a.p2c=e==b?function(a){return(a-d)*c}:function(a){return(e(a)-d)*c};a.c2p=f?function(a){return f(d+a/c)}:function(a){return d+a/c}}function C(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,g=b.options.tickLength,h=u.grid.axisMargin,l=u.grid.labelMargin,k=!0,m=!0,n=!0,p=!1;a.each(f?na:ea,function(a,c){c&&c.reserveSpace&&(c===b?p=!0:c.options.position===
e&&(p?m=!1:k=!1),p||(n=!1))});m&&(h=0);null==g&&(g=n?"full":5);isNaN(+g)||(l+=+g);f?(d+=l,"bottom"==e?(F.bottom+=d+h,b.box={top:U.height-F.bottom,height:d}):(b.box={top:F.top+h,height:d},F.top+=d+h)):(c+=l,"left"==e?(b.box={left:F.left+h,width:c},F.left+=c+h):(F.right+=c+h,b.box={left:U.width-F.right,width:c}));b.position=e;b.tickLength=g;b.box.padding=l;b.innermost=k}function z(){var b=u.grid.minBorderMargin,c;if(null==b)for(c=b=0;c<L.length;++c)b=Math.max(b,2*(L[c].points.radius+L[c].points.lineWidth/
2));var d=b,e=b,f=b,g=b;a.each(n(),function(a,b){if(b.reserveSpace&&b.ticks&&b.ticks.length){var c=b.ticks[b.ticks.length-1];"x"===b.direction?(d=Math.max(d,b.labelWidth/2),c.v<=b.max&&(e=Math.max(e,b.labelWidth/2))):(g=Math.max(g,b.labelHeight/2),c.v<=b.max&&(f=Math.max(f,b.labelHeight/2)))}});F.left=Math.ceil(Math.max(d,F.left));F.right=Math.ceil(Math.max(e,F.right));F.top=Math.ceil(Math.max(f,F.top));F.bottom=Math.ceil(Math.max(g,F.bottom))}function D(){var b,c=n(),d=u.grid.show;for(b in F){var e=
u.grid.margin||0;F[b]="number"==typeof e?e:e[b]||0}l(oa.processOffset,[F]);for(b in F)F[b]="object"==typeof u.grid.borderWidth?F[b]+(d?u.grid.borderWidth[b]:0):F[b]+(d?u.grid.borderWidth:0);a.each(c,function(a,b){b.show=b.options.show;null==b.show&&(b.show=b.used);b.reserveSpace=b.show||b.options.reserveSpace;var c=b.options,d=+(null!=c.min?c.min:b.datamin),e=+(null!=c.max?c.max:b.datamax),f=e-d;if(0==f){if(f=0==e?1:.01,null==c.min&&(d-=f),null==c.max||null!=c.min)e+=f}else{var g=c.autoscaleMargin;
null!=g&&(null==c.min&&(d-=f*g,0>d&&null!=b.datamin&&0<=b.datamin&&(d=0)),null==c.max&&(e+=f*g,0<e&&null!=b.datamax&&0>=b.datamax&&(e=0)))}b.min=d;b.max=e});if(d){e=a.grep(c,function(a){return a.reserveSpace});a.each(e,function(b,c){E(c);var d=c.options.ticks,e=[];null==d||"number"==typeof d&&0<d?e=c.tickGenerator(c):d&&(e=a.isFunction(d)?d(c):d);var f;c.ticks=[];for(d=0;d<e.length;++d){var g=null,h=e[d];"object"==typeof h?(f=+h[0],1<h.length&&(g=h[1])):f=+h;null==g&&(g=c.tickFormatter(f,c));isNaN(f)||
c.ticks.push({v:f,label:g})}e=c.ticks;c.options.autoscaleMargin&&0<e.length&&(null==c.options.min&&(c.min=Math.min(c.min,e[0].v)),null==c.options.max&&1<e.length&&(c.max=Math.max(c.max,e[e.length-1].v)));e=c.options;d=c.ticks||[];f=e.labelWidth||0;for(var g=e.labelHeight||0,h=f||("x"==c.direction?Math.floor(U.width/(d.length||1)):null),l="flot-"+c.direction+"-axis flot-"+c.direction+c.n+"-axis "+(c.direction+"Axis "+c.direction+c.n+"Axis"),k=e.font||"flot-tick-label tickLabel",m=0;m<d.length;++m){var n=
d[m];n.label&&(n=U.getTextInfo(l,n.label,k,null,h),f=Math.max(f,n.width),g=Math.max(g,n.height))}c.labelWidth=e.labelWidth||f;c.labelHeight=e.labelHeight||g});for(b=e.length-1;0<=b;--b)C(e[b]);z();a.each(e,function(a,b){"x"==b.direction?(b.box.left=F.left-b.labelWidth/2,b.box.width=U.width-F.left-F.right+b.labelWidth):(b.box.top=F.top-b.labelHeight/2,b.box.height=U.height-F.bottom-F.top+b.labelHeight)})}B=U.width-F.left-F.right;k=U.height-F.bottom-F.top;a.each(c,function(a,b){t(b)});d&&N();ra()}function E(b){var c=
b.options,d=(b.max-b.min)/("number"==typeof c.ticks&&0<c.ticks?c.ticks:.3*Math.sqrt("x"==b.direction?U.width:U.height)),e=-Math.floor(Math.log(d)/Math.LN10),f=c.tickDecimals;null!=f&&e>f&&(e=f);var g=Math.pow(10,-e),h=d/g,l;1.5>h?l=1:3>h?(l=2,2.25<h&&(null==f||e+1<=f)&&(l=2.5,++e)):l=7.5>h?5:10;l*=g;null!=c.minTickSize&&l<c.minTickSize&&(l=c.minTickSize);b.delta=d;b.tickDecimals=Math.max(0,null!=f?f:e);b.tickSize=c.tickSize||l;if("time"==c.mode&&!b.tickGenerator)throw Error("Time mode requires the flot.time plugin.");
b.tickGenerator||(b.tickGenerator=function(a){var b=[],c;c=a.tickSize;c*=Math.floor(a.min/c);var d=0,e=Number.NaN,f;do f=e,e=c+d*a.tickSize,b.push(e),++d;while(e<a.max&&e!=f);return b},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),e=-1==e?0:d.length-e-1;if(e<b.tickDecimals)return(e?d:d+".")+(""+c).substr(1,b.tickDecimals-e)}return d});a.isFunction(c.tickFormatter)&&(b.tickFormatter=function(a,b){return""+
c.tickFormatter(a,b)});if(null!=c.alignTicksWithAxis){var k=("x"==b.direction?na:ea)[c.alignTicksWithAxis-1];k&&k.used&&k!=b&&(d=b.tickGenerator(b),0<d.length&&(null==c.min&&(b.min=Math.min(b.min,d[0])),null==c.max&&1<d.length&&(b.max=Math.max(b.max,d[d.length-1]))),b.tickGenerator=function(a){var b=[],c,d;for(d=0;d<k.ticks.length;++d)c=(k.ticks[d].v-k.min)/(k.max-k.min),c=a.min+c*(a.max-a.min),b.push(c);return b},b.mode||null!=c.tickDecimals||(d=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+
1),e=b.tickGenerator(b),1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(d))||(b.tickDecimals=d)))}}function I(){U.clear();l(oa.drawBackground,[w]);var a=u.grid;a.show&&a.backgroundColor&&(w.save(),w.translate(F.left,F.top),w.fillStyle=ca(u.grid.backgroundColor,k,0,"rgba(255, 255, 255, 0)"),w.fillRect(0,0,B,k),w.restore());a.show&&!a.aboveData&&S();for(var b=0;b<L.length;++b){l(oa.drawSeries,[w,L[b]]);var c=L[b];c.lines.show&&T(c);c.bars.show&&J(c);c.points.show&&W(c)}l(oa.draw,[w]);a.show&&a.aboveData&&
S();U.render();M()}function V(a,b){for(var c,d,e,f,g=n(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from;e=a[f].to;break}a[f]||(c="x"==b?na[0]:ea[0],d=a[b+"1"],e=a[b+"2"]);null!=d&&null!=e&&d>e&&(f=d,d=e,e=f);return{from:d,to:e,axis:c}}function S(){var b,c,d;w.save();w.translate(F.left,F.top);if(d=u.grid.markings)for(a.isFunction(d)&&(c=O.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,d=d(c)),b=0;b<d.length;++b){c=
d[b];var e=V(c,"x"),f=V(c,"y");null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);null==f.from&&(f.from=f.axis.min);null==f.to&&(f.to=f.axis.max);e.to<e.axis.min||e.from>e.axis.max||f.to<f.axis.min||f.from>f.axis.max||(e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),f.from=Math.max(f.from,f.axis.min),f.to=Math.min(f.to,f.axis.max),e.from==e.to&&f.from==f.to)||(e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),f.from=f.axis.p2c(f.from),f.to=f.axis.p2c(f.to),e.from==e.to||
f.from==f.to?(w.beginPath(),w.strokeStyle=c.color||u.grid.markingsColor,w.lineWidth=c.lineWidth||u.grid.markingsLineWidth,w.moveTo(e.from,f.from),w.lineTo(e.to,f.to),w.stroke()):(w.fillStyle=c.color||u.grid.markingsColor,w.fillRect(e.from,f.to,e.to-e.from,f.from-f.to)))}c=n();d=u.grid.borderWidth;for(e=0;e<c.length;++e){f=c[e];b=f.box;var g=f.tickLength,h,l,m,p;if(f.show&&0!=f.ticks.length){w.lineWidth=1;"x"==f.direction?(h=0,l="full"==g?"top"==f.position?0:k:b.top-F.top+("top"==f.position?b.height:
0)):(l=0,h="full"==g?"left"==f.position?0:B:b.left-F.left+("left"==f.position?b.width:0));f.innermost||(w.strokeStyle=f.options.color,w.beginPath(),m=p=0,"x"==f.direction?m=B+1:p=k+1,1==w.lineWidth&&("x"==f.direction?l=Math.floor(l)+.5:h=Math.floor(h)+.5),w.moveTo(h,l),w.lineTo(h+m,l+p),w.stroke());w.strokeStyle=f.options.tickColor;w.beginPath();for(b=0;b<f.ticks.length;++b){var q=f.ticks[b].v;m=p=0;isNaN(q)||q<f.min||q>f.max||"full"==g&&("object"==typeof d&&0<d[f.position]||0<d)&&(q==f.min||q==f.max)||
("x"==f.direction?(h=f.p2c(q),p="full"==g?-k:g,"top"==f.position&&(p=-p)):(l=f.p2c(q),m="full"==g?-B:g,"left"==f.position&&(m=-m)),1==w.lineWidth&&("x"==f.direction?h=Math.floor(h)+.5:l=Math.floor(l)+.5),w.moveTo(h,l),w.lineTo(h+m,l+p))}w.stroke()}}d&&(b=u.grid.borderColor,"object"==typeof d||"object"==typeof b?("object"!==typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!==typeof b&&(b={top:b,right:b,bottom:b,left:b}),0<d.top&&(w.strokeStyle=b.top,w.lineWidth=d.top,w.beginPath(),w.moveTo(0-
d.left,0-d.top/2),w.lineTo(B,0-d.top/2),w.stroke()),0<d.right&&(w.strokeStyle=b.right,w.lineWidth=d.right,w.beginPath(),w.moveTo(B+d.right/2,0-d.top),w.lineTo(B+d.right/2,k),w.stroke()),0<d.bottom&&(w.strokeStyle=b.bottom,w.lineWidth=d.bottom,w.beginPath(),w.moveTo(B+d.right,k+d.bottom/2),w.lineTo(0,k+d.bottom/2),w.stroke()),0<d.left&&(w.strokeStyle=b.left,w.lineWidth=d.left,w.beginPath(),w.moveTo(0-d.left/2,k+d.bottom),w.lineTo(0-d.left/2,0),w.stroke())):(w.lineWidth=d,w.strokeStyle=u.grid.borderColor,
w.strokeRect(-d/2,-d/2,B+d,k+d)));w.restore()}function N(){a.each(n(),function(a,b){var c=b.box,d="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),e=b.options.font||"flot-tick-label tickLabel",f,g,h,l,k;U.removeText(d);if(b.show&&0!=b.ticks.length)for(var m=0;m<b.ticks.length;++m)f=b.ticks[m],!f.label||f.v<b.min||f.v>b.max||("x"==b.direction?(l="center",g=F.left+b.p2c(f.v),"bottom"==b.position?h=c.top+c.padding:(h=c.top+c.height-c.padding,k="bottom")):
(k="middle",h=F.top+b.p2c(f.v),"left"==b.position?(g=c.left+c.width-c.padding,l="right"):g=c.left+c.padding),U.addText(d,g,h,f.label,e,null,null,l,k))})}function T(a){function b(a,c,d,e,f){var g=a.points;a=a.pointsize;var h=null,l=null;w.beginPath();for(var k=a;k<g.length;k+=a){var m=g[k-a],n=g[k-a+1],p=g[k],q=g[k+1];if(null!=m&&null!=p){if(n<=q&&n<f.min){if(q<f.min)continue;m=(f.min-n)/(q-n)*(p-m)+m;n=f.min}else if(q<=n&&q<f.min){if(n<f.min)continue;p=(f.min-n)/(q-n)*(p-m)+m;q=f.min}if(n>=q&&n>f.max){if(q>
f.max)continue;m=(f.max-n)/(q-n)*(p-m)+m;n=f.max}else if(q>=n&&q>f.max){if(n>f.max)continue;p=(f.max-n)/(q-n)*(p-m)+m;q=f.max}if(m<=p&&m<e.min){if(p<e.min)continue;n=(e.min-m)/(p-m)*(q-n)+n;m=e.min}else if(p<=m&&p<e.min){if(m<e.min)continue;q=(e.min-m)/(p-m)*(q-n)+n;p=e.min}if(m>=p&&m>e.max){if(p>e.max)continue;n=(e.max-m)/(p-m)*(q-n)+n;m=e.max}else if(p>=m&&p>e.max){if(m>e.max)continue;q=(e.max-m)/(p-m)*(q-n)+n;p=e.max}m==h&&n==l||w.moveTo(e.p2c(m)+c,f.p2c(n)+d);h=p;l=q;w.lineTo(e.p2c(p)+c,f.p2c(q)+
d)}}w.stroke()}function c(a,b,d){var e=a.points;a=a.pointsize;for(var f=Math.min(Math.max(0,d.min),d.max),g=0,h=!1,l=1,k=0,m=0;!(0<a&&g>e.length+a);){var g=g+a,n=e[g-a],p=e[g-a+l],q=e[g],A=e[g+l];if(h){if(0<a&&null!=n&&null==q){m=g;a=-a;l=2;continue}if(0>a&&g==k+a){w.fill();h=!1;a=-a;l=1;g=k=m+a;continue}}if(null!=n&&null!=q){if(n<=q&&n<b.min){if(q<b.min)continue;p=(b.min-n)/(q-n)*(A-p)+p;n=b.min}else if(q<=n&&q<b.min){if(n<b.min)continue;A=(b.min-n)/(q-n)*(A-p)+p;q=b.min}if(n>=q&&n>b.max){if(q>b.max)continue;
p=(b.max-n)/(q-n)*(A-p)+p;n=b.max}else if(q>=n&&q>b.max){if(n>b.max)continue;A=(b.max-n)/(q-n)*(A-p)+p;q=b.max}h||(w.beginPath(),w.moveTo(b.p2c(n),d.p2c(f)),h=!0);if(p>=d.max&&A>=d.max)w.lineTo(b.p2c(n),d.p2c(d.max)),w.lineTo(b.p2c(q),d.p2c(d.max));else if(p<=d.min&&A<=d.min)w.lineTo(b.p2c(n),d.p2c(d.min)),w.lineTo(b.p2c(q),d.p2c(d.min));else{var r=n,v=q;p<=A&&p<d.min&&A>=d.min?(n=(d.min-p)/(A-p)*(q-n)+n,p=d.min):A<=p&&A<d.min&&p>=d.min&&(q=(d.min-p)/(A-p)*(q-n)+n,A=d.min);p>=A&&p>d.max&&A<=d.max?
(n=(d.max-p)/(A-p)*(q-n)+n,p=d.max):A>=p&&A>d.max&&p<=d.max&&(q=(d.max-p)/(A-p)*(q-n)+n,A=d.max);n!=r&&w.lineTo(b.p2c(r),d.p2c(p));w.lineTo(b.p2c(n),d.p2c(p));w.lineTo(b.p2c(q),d.p2c(A));q!=v&&(w.lineTo(b.p2c(q),d.p2c(A)),w.lineTo(b.p2c(v),d.p2c(A)))}}}}w.save();w.translate(F.left,F.top);w.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(0<d&&0<e){w.lineWidth=e;w.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis);w.lineWidth=
e/2;b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}w.lineWidth=d;w.strokeStyle=a.color;if(e=Y(a.lines,a.color,0,k))w.fillStyle=e,c(a.datapoints,a.xaxis,a.yaxis);0<d&&b(a.datapoints,0,0,a.xaxis,a.yaxis);w.restore()}function W(a){function b(a,c,d,e,f,g,h,l){var k=a.points;a=a.pointsize;for(var m=0;m<k.length;m+=a){var n=k[m],p=k[m+1];null==n||n<g.min||n>g.max||p<h.min||p>h.max||(w.beginPath(),n=g.p2c(n),p=h.p2c(p)+e,"circle"==l?w.arc(n,p,c,0,f?Math.PI:2*Math.PI,!1):l(w,
n,p,c,f),w.closePath(),d&&(w.fillStyle=d,w.fill()),w.stroke())}}w.save();w.translate(F.left,F.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;0==c&&(c=1E-4);0<c&&0<d&&(d/=2,w.lineWidth=d,w.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,d+d/2,!0,a.xaxis,a.yaxis,f),w.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,d/2,!0,a.xaxis,a.yaxis,f));w.lineWidth=c;w.strokeStyle=a.color;b(a.datapoints,e,Y(a.points,a.color),0,!1,a.xaxis,a.yaxis,f);w.restore()}function H(a,
b,c,d,e,f,g,h,l,k,m){var n,p,q,r;k?(r=p=q=!0,n=!1,k=c,c=b+d,e=b+e,a<k&&(b=a,a=k,k=b,n=!0,p=!1)):(n=p=q=!0,r=!1,k=a+d,a+=e,e=c,c=b,c<e&&(b=c,c=e,e=b,r=!0,q=!1));a<g.min||k>g.max||c<h.min||e>h.max||(k<g.min&&(k=g.min,n=!1),a>g.max&&(a=g.max,p=!1),e<h.min&&(e=h.min,r=!1),c>h.max&&(c=h.max,q=!1),k=g.p2c(k),e=h.p2c(e),a=g.p2c(a),c=h.p2c(c),f&&(l.fillStyle=f(e,c),l.fillRect(k,c,a-k,e-c)),0<m&&(n||p||q||r)&&(l.beginPath(),l.moveTo(k,e),n?l.lineTo(k,c):l.moveTo(k,c),q?l.lineTo(a,c):l.moveTo(a,c),p?l.lineTo(a,
e):l.moveTo(a,e),r?l.lineTo(k,e):l.moveTo(k,e),l.stroke()))}function J(a){w.save();w.translate(F.left,F.top);w.lineWidth=a.bars.lineWidth;w.strokeStyle=a.color;var b;switch(a.bars.align){case "left":b=0;break;case "right":b=-a.bars.barWidth;break;default:b=-a.bars.barWidth/2}(function(b,c,d,e,f,g){var h=b.points;b=b.pointsize;for(var l=0;l<h.length;l+=b)null!=h[l]&&H(h[l],h[l+1],h[l+2],c,d,e,f,g,w,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,b,b+a.bars.barWidth,a.bars.fill?function(b,c){return Y(a.bars,
a.color,b,c)}:null,a.xaxis,a.yaxis);w.restore()}function Y(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return ca(b.fillColor,d,e,c);b=a.color.parse(c);b.a="number"==typeof f?f:.4;b.normalize();return b.toString()}function ra(){null!=u.legend.container?a(u.legend.container).html(""):b.find(".legend").remove();if(u.legend.show){for(var c=[],d=[],e=!1,g=u.legend.labelFormatter,h,l,k=0;k<L.length;++k)h=L[k],h.label&&(l=g?g(h.label,h):h.label)&&d.push({label:l,color:h.color});if(u.legend.sorted)if(a.isFunction(u.legend.sorted))d.sort(u.legend.sorted);
else if("reverse"==u.legend.sorted)d.reverse();else{var m="descending"!=u.legend.sorted;d.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=m?1:-1})}for(k=0;k<d.length;++k)g=d[k],0==k%u.legend.noColumns&&(e&&c.push("</tr>"),c.push("<tr>"),e=!0),c.push('<td class="legendColorBox"><div style="border:1px solid '+u.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+g.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+g.label+"</td>");
e&&c.push("</tr>");0!=c.length&&(d='<table style="font-size:smaller;color:'+u.grid.color+'">'+c.join("")+"</table>",null!=u.legend.container?a(u.legend.container).html(d):(c="",e=u.legend.position,k=u.legend.margin,null==k[0]&&(k=[k,k]),"n"==e.charAt(0)?c+="top:"+(k[1]+F.top)+"px;":"s"==e.charAt(0)&&(c+="bottom:"+(k[1]+F.bottom)+"px;"),"e"==e.charAt(1)?c+="right:"+(k[0]+F.right)+"px;":"w"==e.charAt(1)&&(c+="left:"+(k[0]+F.left)+"px;"),d=a('<div class="legend">'+d.replace('style="','style="position:absolute;'+
c+";")+"</div>").appendTo(b),0!=u.legend.backgroundOpacity&&(e=u.legend.backgroundColor,null==e&&(e=(e=u.grid.backgroundColor)&&"string"==typeof e?a.color.parse(e):a.color.extract(d,"background-color"),e.a=1,e=e.toString()),k=d.children(),a('<div style="position:absolute;width:'+k.width()+"px;height:"+k.height()+"px;"+c+"background-color:"+e+';"> </div>').prependTo(d).css("opacity",u.legend.backgroundOpacity))))}}function P(a){u.grid.hoverable&&ma("plothover",a,function(a){return 0!=a.hoverable})}
function ua(a){u.grid.hoverable&&ma("plothover",a,function(a){return!1})}function ia(a){ma("plotclick",a,function(a){return 0!=a.clickable})}function ma(a,c,d){var e=qa.offset(),g=c.pageX-e.left-F.left,h=c.pageY-e.top-F.top,l=r({left:g,top:h});l.pageX=c.pageX;l.pageY=c.pageY;c=u.grid.mouseActiveRadius;var k=c*c+1,m=null,n,p,q;for(n=L.length-1;0<=n;--n)if(d(L[n])){var v=L[n],t=v.xaxis,z=v.yaxis,D=v.datapoints.points,C=t.c2p(g),E=z.c2p(h),G=c/t.scale,w=c/z.scale;q=v.datapoints.pointsize;t.options.inverseTransform&&
(G=Number.MAX_VALUE);z.options.inverseTransform&&(w=Number.MAX_VALUE);if(v.lines.show||v.points.show)for(p=0;p<D.length;p+=q){var B=D[p],I=D[p+1];null==B||B-C>G||B-C<-G||I-E>w||I-E<-w||(B=Math.abs(t.p2c(B)-g),I=Math.abs(z.p2c(I)-h),I=B*B+I*I,I<k&&(k=I,m=[n,p/q]))}if(v.bars.show&&!m){switch(v.bars.align){case "left":t=0;break;case "right":t=-v.bars.barWidth;break;default:t=-v.bars.barWidth/2}v=t+v.bars.barWidth;for(p=0;p<D.length;p+=q)B=D[p],I=D[p+1],z=D[p+2],null!=B&&(L[n].bars.horizontal?C<=Math.max(z,
B)&&C>=Math.min(z,B)&&E>=I+t&&E<=I+v:C>=B+t&&C<=B+v&&E>=Math.min(z,I)&&E<=Math.max(z,I))&&(m=[n,p/q])}}m?(n=m[0],p=m[1],q=L[n].datapoints.pointsize,d={datapoint:L[n].datapoints.points.slice(p*q,(p+1)*q),dataIndex:p,series:L[n],seriesIndex:n}):d=null;d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+e.left+F.left,10),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+e.top+F.top,10));if(u.grid.autoHighlight){for(e=0;e<wa.length;++e)g=wa[e],g.auto!=a||d&&g.series==d.series&&g.point[0]==d.datapoint[0]&&
g.point[1]==d.datapoint[1]||za(g.series,g.point);d&&Q(d.series,d.datapoint,a)}b.trigger(a,[l,d])}function M(){var a=u.interaction.redrawOverlayInterval;-1==a?ba():Ia||(Ia=setTimeout(ba,a))}function ba(){Ia=null;da.save();Aa.clear();da.translate(F.left,F.top);var b,c;for(b=0;b<wa.length;++b)if(c=wa[b],c.series.bars.show)ja(c.series,c.point);else{var d=c.series,e=c.point;c=e[0];var e=e[1],f=d.xaxis,g=d.yaxis,h="string"===typeof d.highlightColor?d.highlightColor:a.color.parse(d.color).scale("a",.5).toString();
if(!(c<f.min||c>f.max||e<g.min||e>g.max)){var k=d.points.radius+d.points.lineWidth/2;da.lineWidth=k;da.strokeStyle=h;h=1.5*k;c=f.p2c(c);e=g.p2c(e);da.beginPath();"circle"==d.points.symbol?da.arc(c,e,h,0,2*Math.PI,!1):d.points.symbol(da,c,e,h,!1);da.closePath();da.stroke()}}da.restore();l(oa.drawOverlay,[da])}function Q(a,b,c){"number"==typeof a&&(a=L[a]);if("number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}d=va(a,b);-1==d?(wa.push({series:a,point:b,auto:c}),
M()):c||(wa[d].auto=!1)}function za(a,b){if(null==a&&null==b)wa=[],M();else{"number"==typeof a&&(a=L[a]);if("number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}c=va(a,b);-1!=c&&(wa.splice(c,1),M())}}function va(a,b){for(var c=0;c<wa.length;++c){var d=wa[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function ja(b,c){var d="string"===typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),e;switch(b.bars.align){case "left":e=
0;break;case "right":e=-b.bars.barWidth;break;default:e=-b.bars.barWidth/2}da.lineWidth=b.bars.lineWidth;da.strokeStyle=d;H(c[0],c[1],c[2]||0,e,e+b.bars.barWidth,function(){return d},b.xaxis,b.yaxis,da,b.bars.horizontal,b.bars.lineWidth)}function ca(b,c,d,e){if("string"==typeof b)return b;c=w.createLinearGradient(0,d,0,c);d=0;for(var f=b.colors.length;d<f;++d){var g=b.colors[d];if("string"!=typeof g){var h=a.color.parse(e);null!=g.brightness&&(h=h.scale("rgb",g.brightness));null!=g.opacity&&(h.a*=
g.opacity);g=h.toString()}c.addColorStop(d/(f-1),g)}return c}var L=[],u={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,
labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",
backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},U=null,Aa=null,qa=null,w=null,da=null,na=[],ea=[],F={left:0,right:0,top:0,bottom:0},B=0,k=0,oa={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],
draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},O=this;O.setData=m;O.setupGrid=D;O.draw=I;O.getPlaceholder=function(){return b};O.getCanvas=function(){return U.element};O.getPlotOffset=function(){return F};O.width=function(){return B};O.height=function(){return k};O.offset=function(){var a=qa.offset();a.left+=F.left;a.top+=F.top;return a};O.getData=function(){return L};O.getAxes=function(){var b={};a.each(na.concat(ea),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)});return b};O.getXAxes=
function(){return na};O.getYAxes=function(){return ea};O.c2p=r;O.p2c=function(a){var b={},c,d,e;for(c=0;c<na.length;++c)if((d=na[c])&&d.used&&(e="x"+d.n,null==a[e]&&1==d.n&&(e="x"),null!=a[e])){b.left=d.p2c(a[e]);break}for(c=0;c<ea.length;++c)if((d=ea[c])&&d.used&&(e="y"+d.n,null==a[e]&&1==d.n&&(e="y"),null!=a[e])){b.top=d.p2c(a[e]);break}return b};O.getOptions=function(){return u};O.highlight=Q;O.unhighlight=za;O.triggerRedrawOverlay=M;O.pointOffset=function(a){return{left:parseInt(na[p(a,"x")-1].p2c(+a.x)+
F.left,10),top:parseInt(ea[p(a,"y")-1].p2c(+a.y)+F.top,10)}};O.shutdown=G;O.destroy=function(){G();b.removeData("plot").empty();L=[];da=w=qa=Aa=U=u=null;na=[];ea=[];oa=null;wa=[];O=null};O.resize=function(){var a=b.width(),c=b.height();U.resize(a,c);Aa.resize(a,c)};O.hooks=oa;(function(){for(var b={Canvas:c},d=0;d<h.length;++d){var e=h[d];e.init(O,b);e.options&&a.extend(!0,u,e.options)}})(O);(function(c){a.extend(!0,u,c);c&&c.colors&&(u.colors=c.colors);null==u.xaxis.color&&(u.xaxis.color=a.color.parse(u.grid.color).scale("a",
.22).toString());null==u.yaxis.color&&(u.yaxis.color=a.color.parse(u.grid.color).scale("a",.22).toString());null==u.xaxis.tickColor&&(u.xaxis.tickColor=u.grid.tickColor||u.xaxis.color);null==u.yaxis.tickColor&&(u.yaxis.tickColor=u.grid.tickColor||u.yaxis.color);null==u.grid.borderColor&&(u.grid.borderColor=u.grid.color);null==u.grid.tickColor&&(u.grid.tickColor=a.color.parse(u.grid.color).scale("a",.22).toString());var d,e;c=(c=b.css("font-size"))?+c.replace("px",""):13;var g={style:b.css("font-style"),
size:Math.round(.8*c),variant:b.css("font-variant"),weight:b.css("font-weight"),family:b.css("font-family")};e=u.xaxes.length||1;for(c=0;c<e;++c)(d=u.xaxes[c])&&!d.tickColor&&(d.tickColor=d.color),d=a.extend(!0,{},u.xaxis,d),u.xaxes[c]=d,d.font&&(d.font=a.extend({},g,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));e=u.yaxes.length||1;for(c=0;c<e;++c)(d=u.yaxes[c])&&!d.tickColor&&(d.tickColor=d.color),d=a.extend(!0,{},u.yaxis,d),u.yaxes[c]=
d,d.font&&(d.font=a.extend({},g,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));u.xaxis.noTicks&&null==u.xaxis.ticks&&(u.xaxis.ticks=u.xaxis.noTicks);u.yaxis.noTicks&&null==u.yaxis.ticks&&(u.yaxis.ticks=u.yaxis.noTicks);u.x2axis&&(u.xaxes[1]=a.extend(!0,{},u.xaxis,u.x2axis),u.xaxes[1].position="top");u.y2axis&&(u.yaxes[1]=a.extend(!0,{},u.yaxis,u.y2axis),u.yaxes[1].position="right");u.grid.coloredAreas&&(u.grid.markings=u.grid.coloredAreas);
u.grid.coloredAreasColor&&(u.grid.markingsColor=u.grid.coloredAreasColor);u.lines&&a.extend(!0,u.series.lines,u.lines);u.points&&a.extend(!0,u.series.points,u.points);u.bars&&a.extend(!0,u.series.bars,u.bars);null!=u.shadowSize&&(u.series.shadowSize=u.shadowSize);null!=u.highlightColor&&(u.series.highlightColor=u.highlightColor);for(c=0;c<u.xaxes.length;++c)q(na,c+1).options=u.xaxes[c];for(c=0;c<u.yaxes.length;++c)q(ea,c+1).options=u.yaxes[c];for(var h in oa)u.hooks[h]&&u.hooks[h].length&&(oa[h]=
oa[h].concat(u.hooks[h]));l(oa.processOptions,[u])})(e);(function(){b.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove();"static"==b.css("position")&&b.css("position","relative");U=new c("flot-base",b);Aa=new c("flot-overlay",b);w=U.context;da=Aa.context;qa=a(Aa.element).unbind();var d=b.data("plot");d&&(d.shutdown(),Aa.clear());b.data("plot",O)})();m(d);D();I();u.grid.hoverable&&(qa.mousemove(P),qa.bind("mouseleave",ua));
u.grid.clickable&&qa.click(ia);l(oa.bindEvents,[qa]);var wa=[],Ia=null}var b=Object.prototype.hasOwnProperty;c.prototype.resize=function(a,b){if(0>=a||0>=b)throw Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,l=this.pixelRatio;this.width!=a&&(c.width=a*l,c.style.width=a+"px",this.width=a);this.height!=b&&(c.height=b*l,c.style.height=b+"px",this.height=b);d.restore();d.save();d.scale(l,l)};c.prototype.clear=function(){this.context.clearRect(0,0,this.width,
this.height)};c.prototype.render=function(){var a=this._textCache,c;for(c in a)if(b.call(a,c)){var d=this.getTextLayer(c),h=a[c];d.hide();for(var l in h)if(b.call(h,l)){var m=h[l],p;for(p in m)if(b.call(m,p)){for(var n=m[p].positions,r=0,q;q=n[r];r++)q.active?q.rendered||(d.append(q.element),q.rendered=!0):(n.splice(r--,1),q.rendered&&q.element.detach());0==n.length&&delete m[p]}}d.show()}};c.prototype.getTextLayer=function(b){var c=this.text[b];null==c&&(null==this.textContainer&&(this.textContainer=
a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));return c};c.prototype.getTextInfo=function(b,c,d,h,l){var m,p;c=""+c;h="object"===typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d;m=this._textCache[b];null==m&&(m=this._textCache[b]=
{});p=m[h];null==p&&(p=m[h]={});m=p[c];null==m&&(b=a("<div></div>").html(c).css({position:"absolute","max-width":l,top:-9999}).appendTo(this.getTextLayer(b)),"object"===typeof d?b.css({font:h,color:d.color}):"string"===typeof d&&b.addClass(d),m=p[c]={width:b.outerWidth(!0),height:b.outerHeight(!0),element:b,positions:[]},b.detach());return m};c.prototype.addText=function(a,b,c,d,l,m,p,n,r){a=this.getTextInfo(a,d,l,m,p);d=a.positions;"center"==n?b-=a.width/2:"right"==n&&(b-=a.width);"middle"==r?c-=
a.height/2:"bottom"==r&&(c-=a.height);for(r=0;l=d[r];r++)if(l.x==b&&l.y==c){l.active=!0;return}l={active:!0,rendered:!1,element:d.length?a.element.clone():a.element,x:b,y:c};d.push(l);l.element.css({top:Math.round(c),left:Math.round(b),"text-align":n})};c.prototype.removeText=function(a,c,d,h,l,m){if(null==h){if(c=this._textCache[a],null!=c)for(var p in c)if(b.call(c,p)){d=c[p];for(var n in d)if(b.call(d,n))for(a=d[n].positions,h=0;l=a[h];h++)l.active=!1}}else for(a=this.getTextInfo(a,h,l,m).positions,
h=0;l=a[h];h++)l.x==c&&l.y==d&&(l.active=!1)};a.plot=function(b,c,e){return new d(a(b),c,e,a.plot.plugins)};a.plot.version="0.8.2";a.plot.plugins=[];a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}})(jQuery);
(function(a,c,d){function b(){e=c.setTimeout(function(){f.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,"resize-special-event");c===e.w&&d===e.h||b.trigger("resize",[e.w=c,e.h=d])});b()},g.delay)}"$:nomunge";var f=a([]),g=a.resize=a.extend(a.resize,{}),e;g.delay=250;g.throttleWindow=!0;a.event.special.resize={setup:function(){if(!g.throttleWindow&&this.setTimeout)return!1;var c=a(this);f=f.add(c);a.data(this,"resize-special-event",{w:c.width(),h:c.height()});1===f.length&&b()},
teardown:function(){if(!g.throttleWindow&&this.setTimeout)return!1;var b=a(this);f=f.not(b);b.removeData("resize-special-event");f.length||clearTimeout(e)},add:function(b){function c(b,f,g){var h=a(this),l=a.data(this,"resize-special-event");l.w=f!==d?f:h.width();l.h=g!==d?g:h.height();e.apply(this,arguments)}if(!g.throttleWindow&&this.setTimeout)return!1;var e;if(a.isFunction(b))return e=b,c;e=b.handler;b.handler=c}}})(jQuery,this);jQuery.resize.throttleWindow=!1;
(function(a){var c=0;a.plot.plugins.push({init:function(d){d.hooks.bindEvents.push(function(b,d){function g(){var d=b.getPlaceholder();console.log(d);0!=d.width()&&0!=d.height()&&(++c,a.plot(d,b.getData(),b.getOptions()),--c)}c||b.getPlaceholder().resize(g)})},options:{},name:"resize",version:"1.0"})})(jQuery);
(function(a){a.plot.plugins.push({init:function(c){function d(b){for(var c=0,d=0,e=0,f=n.series.pie.combine.color,g=[],h=0;h<b.length;++h){var l=b[h].data;a.isArray(l)&&1==l.length&&(l=l[0]);a.isArray(l)?!isNaN(parseFloat(l[1]))&&isFinite(l[1])?l[1]=+l[1]:l[1]=0:l=!isNaN(parseFloat(l))&&isFinite(l)?[1,+l]:[1,0];b[h].data=[l]}for(h=0;h<b.length;++h)c+=b[h].data[0][1];for(h=0;h<b.length;++h)l=b[h].data[0][1],l/c<=n.series.pie.combine.threshold&&(d+=l,e++,f||(f=b[h].color));for(h=0;h<b.length;++h)l=
b[h].data[0][1],(2>e||l/c>n.series.pie.combine.threshold)&&g.push({data:[[1,l]],color:b[h].color,label:b[h].label,angle:l*Math.PI*2/c,percent:l/(c/100)});1<e&&g.push({data:[[1,d]],color:f,label:n.series.pie.combine.label,angle:d*Math.PI*2/c,percent:d/(c/100)});return g}function b(b,c){function d(){t.clearRect(0,0,h,l);p.children().filter(".pieLabel, .pieLabelBackground").remove()}function e(){var a=n.series.pie.shadow.left,b=n.series.pie.shadow.top,c=n.series.pie.shadow.alpha,d=1<n.series.pie.radius?
n.series.pie.radius:r*n.series.pie.radius;if(!(d>=h/2-a||d*n.series.pie.tilt>=l/2-b||10>=d)){t.save();t.translate(a,b);t.globalAlpha=c;t.fillStyle="#000";t.translate(q,v);t.scale(1,n.series.pie.tilt);for(a=1;10>=a;a++)t.beginPath(),t.arc(0,0,d,0,2*Math.PI,!1),t.fill(),d-=a;t.restore()}}function g(){function b(a,c,d){0>=a||isNaN(a)||(d?t.fillStyle=c:(t.strokeStyle=c,t.lineJoin="round"),t.beginPath(),1E-9<Math.abs(a-2*Math.PI)&&t.moveTo(0,0),t.arc(0,0,e,m,m+a/2,!1),t.arc(0,0,e,m+a/2,m+a,!1),t.closePath(),
m+=a,d?t.fill():t.stroke())}function c(){for(var b=d,e=1<n.series.pie.label.radius?n.series.pie.label.radius:r*n.series.pie.label.radius,f=0;f<C.length;++f){if(C[f].percent>=100*n.series.pie.label.threshold){var g;g=C[f];var m=b,t=f;if(0==g.data[0][1])g=!0;else{var z=n.legend.labelFormatter,D=n.series.pie.label.formatter,z=z?z(g.label,g):g.label;D&&(z=D(z,g));D=(m+g.angle+m)/2;m=q+Math.round(Math.cos(D)*e);D=v+Math.round(Math.sin(D)*e)*n.series.pie.tilt;p.append("<span class='pieLabel' id='pieLabel"+
t+"' style='position:absolute;top:"+D+"px;left:"+m+"px;'>"+z+"</span>");t=p.children("#pieLabel"+t);z=D-t.height()/2;D=m-t.width()/2;t.css("top",z);t.css("left",D);0<0-z||0<0-D||0>l-(z+t.height())||0>h-(D+t.width())?g=!1:(0!=n.series.pie.label.background.opacity&&(m=n.series.pie.label.background.color,null==m&&(m=g.color),g="top:"+z+"px;left:"+D+"px;",a("<div class='pieLabelBackground' style='position:absolute;width:"+t.width()+"px;height:"+t.height()+"px;"+g+"background-color:"+m+";'></div>").css("opacity",
n.series.pie.label.background.opacity).insertBefore(t)),g=!0)}if(!g)return!1}b+=C[f].angle}return!0}var d=Math.PI*n.series.pie.startAngle,e=1<n.series.pie.radius?n.series.pie.radius:r*n.series.pie.radius;t.save();t.translate(q,v);t.scale(1,n.series.pie.tilt);t.save();for(var m=d,z=0;z<C.length;++z)C[z].startAngle=m,b(C[z].angle,C[z].color,!0);t.restore();if(0<n.series.pie.stroke.width){t.save();t.lineWidth=n.series.pie.stroke.width;m=d;for(z=0;z<C.length;++z)b(C[z].angle,n.series.pie.stroke.color,
!1);t.restore()}f(t);t.restore();return n.series.pie.label.show?c():!0}if(p){var h=b.getPlaceholder().width(),l=b.getPlaceholder().height(),m=p.children().filter(".legend").children().width()||0;t=c;G=!1;r=Math.min(h,l/n.series.pie.tilt)/2;v=l/2+n.series.pie.offset.top;q=h/2;"auto"==n.series.pie.offset.left?(q=n.legend.position.match("w")?q+m/2:q-m/2,q<r?q=r:q>h-r&&(q=h-r)):q+=n.series.pie.offset.left;var C=b.getData(),m=0;do 0<m&&(r*=.95),m+=1,d(),.8>=n.series.pie.tilt&&e();while(!g()&&10>m);10<=
m&&(d(),p.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>"));b.setSeries&&b.insertLegend&&(b.setSeries(C),b.insertLegend())}}function f(a){if(0<n.series.pie.innerRadius){a.save();var b=1<n.series.pie.innerRadius?n.series.pie.innerRadius:r*n.series.pie.innerRadius;a.globalCompositeOperation="destination-out";a.beginPath();a.fillStyle=n.series.pie.stroke.color;a.arc(0,0,b,0,2*Math.PI,!1);a.fill();a.closePath();a.restore();a.save();a.beginPath();a.strokeStyle=
n.series.pie.stroke.color;a.arc(0,0,b,0,2*Math.PI,!1);a.stroke();a.closePath();a.restore()}}function g(a){h("plothover",a)}function e(a){h("plotclick",a)}function h(a,b){var d=c.offset(),e=parseInt(b.pageX-d.left);a:{for(var d=parseInt(b.pageY-d.top),f=c.getData(),g=c.getOptions(),g=1<g.series.pie.radius?g.series.pie.radius:r*g.series.pie.radius,h,m,G=0;G<f.length;++G){var H=f[G];if(H.pie.show){t.save();t.beginPath();t.moveTo(0,0);t.arc(0,0,g,H.startAngle,H.startAngle+H.angle/2,!1);t.arc(0,0,g,H.startAngle+
H.angle/2,H.startAngle+H.angle,!1);t.closePath();h=e-q;m=d-v;if(t.isPointInPath){if(t.isPointInPath(e-q,d-v)){t.restore();e={datapoint:[H.percent,H.data],dataIndex:0,series:H,seriesIndex:G};break a}}else{var J=[[0,0],[g*Math.cos(H.startAngle),g*Math.sin(H.startAngle)],[g*Math.cos(H.startAngle+H.angle/4),g*Math.sin(H.startAngle+H.angle/4)],[g*Math.cos(H.startAngle+H.angle/2),g*Math.sin(H.startAngle+H.angle/2)],[g*Math.cos(H.startAngle+H.angle/1.5),g*Math.sin(H.startAngle+H.angle/1.5)],[g*Math.cos(H.startAngle+
H.angle),g*Math.sin(H.startAngle+H.angle)]];h=[h,m];m=!1;for(var Y=-1,ra=J.length,P=ra-1;++Y<ra;P=Y)(J[Y][1]<=h[1]&&h[1]<J[P][1]||J[P][1]<=h[1]&&h[1]<J[Y][1])&&h[0]<(J[P][0]-J[Y][0])*(h[1]-J[Y][1])/(J[P][1]-J[Y][1])+J[Y][0]&&(m=!m);if(m){t.restore();e={datapoint:[H.percent,H.data],dataIndex:0,series:H,seriesIndex:G};break a}}t.restore()}}e=null}if(n.grid.autoHighlight)for(d=0;d<C.length;++d)f=C[d],f.auto!=a||e&&f.series==e.series||(f=f.series,null==f&&(C=[],c.triggerRedrawOverlay()),f=l(f),-1!=f&&
(C.splice(f,1),c.triggerRedrawOverlay()));e&&(d=e.series,f=l(d),-1==f?(C.push({series:d,auto:a}),c.triggerRedrawOverlay()):a||(C[f].auto=!1));p.trigger(a,[{pageX:b.pageX,pageY:b.pageY},e])}function l(a){for(var b=0;b<C.length;++b)if(C[b].series==a)return b;return-1}var m=null,p=null,n=null,r=null,q=null,v=null,G=!1,t=null,C=[];c.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.series.pie.label.show=b.legend.show?!1:!0),"auto"==b.series.pie.radius&&
(b.series.pie.radius=b.series.pie.label.show?.75:1),1<b.series.pie.tilt?b.series.pie.tilt=1:0>b.series.pie.tilt&&(b.series.pie.tilt=0))});c.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&(c.grid.hoverable&&b.unbind("mousemove").mousemove(g),c.grid.clickable&&b.unbind("click").click(e))});c.hooks.processDatapoints.push(function(b,c,e,f){b.getOptions().series.pie.show&&!G&&(G=!0,m=b.getCanvas(),p=a(m).parent(),n=b.getOptions(),b.setData(d(b.getData())))});c.hooks.drawOverlay.push(function(a,
b){if(a.getOptions().series.pie.show){var c=a.getOptions(),d=1<c.series.pie.radius?c.series.pie.radius:r*c.series.pie.radius;b.save();b.translate(q,v);b.scale(1,c.series.pie.tilt);for(var e=0;e<C.length;++e){var g=C[e].series;0>=g.angle||isNaN(g.angle)||(b.fillStyle="rgba(255, 255, 255, "+c.series.pie.highlight.opacity+")",b.beginPath(),1E-9<Math.abs(g.angle-2*Math.PI)&&b.moveTo(0,0),b.arc(0,0,d,g.startAngle,g.startAngle+g.angle/2,!1),b.arc(0,0,d,g.startAngle+g.angle/2,g.startAngle+g.angle,!1),b.closePath(),
b.fill())}f(b);b.restore()}});c.hooks.draw.push(function(a,c){a.getOptions().series.pie.show&&b(a,c)})},options:{series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(a,d){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+d.color+";'>"+a+"<br/>"+Math.round(d.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},
combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}},name:"pie",version:"1.1"})})(jQuery);
(function(a){a.plot.plugins.push({init:function(c){function d(a){n.active&&(h(a),c.getPlaceholder().trigger("plotselecting",[f()]))}function b(b){1==b.which&&(document.body.focus(),void 0!==document.onselectstart&&null==r.onselectstart&&(r.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==r.ondrag&&(r.ondrag=document.ondrag,document.ondrag=function(){return!1}),e(n.first,b),n.active=!0,q=function(a){q=null;void 0!==document.onselectstart&&
(document.onselectstart=r.onselectstart);void 0!==document.ondrag&&(document.ondrag=r.ondrag);n.active=!1;h(a);p()?g():(c.getPlaceholder().trigger("plotunselected",[]),c.getPlaceholder().trigger("plotselecting",[null]))},a(document).one("mouseup",q))}function f(){if(!p()||!n.show)return null;var b={},d=n.first,e=n.second;a.each(c.getAxes(),function(a,c){if(c.used){var f=c.c2p(d[c.direction]),g=c.c2p(e[c.direction]);b[a]={from:Math.min(f,g),to:Math.max(f,g)}}});return b}function g(){var a=f();c.getPlaceholder().trigger("plotselected",
[a]);a.xaxis&&a.yaxis&&c.getPlaceholder().trigger("selected",[{x1:a.xaxis.from,y1:a.yaxis.from,x2:a.xaxis.to,y2:a.yaxis.to}])}function e(a,b){var d=c.getOptions(),e=c.getPlaceholder().offset(),f=c.getPlotOffset(),g=b.pageX-e.left-f.left,h=c.width();a.x=0>g?0:g>h?h:g;e=b.pageY-e.top-f.top;f=c.height();a.y=0>e?0:e>f?f:e;"y"==d.selection.mode&&(a.x=a==n.first?0:c.width());"x"==d.selection.mode&&(a.y=a==n.first?0:c.height())}function h(a){null!=a.pageX&&(e(n.second,a),p()?(n.show=!0,c.triggerRedrawOverlay()):
l(!0))}function l(a){n.show&&(n.show=!1,c.triggerRedrawOverlay(),a||c.getPlaceholder().trigger("plotunselected",[]))}function m(a,b){var d,e,f,g,h=c.getAxes(),l;for(l in h)if(d=h[l],d.direction==b&&(g=b+d.n+"axis",a[g]||1!=d.n||(g=b+"axis"),a[g])){e=a[g].from;f=a[g].to;break}a[g]||(d="x"==b?c.getXAxes()[0]:c.getYAxes()[0],e=a[b+"1"],f=a[b+"2"]);null!=e&&null!=f&&e>f&&(g=e,e=f,f=g);return{from:e,to:f,axis:d}}function p(){var a=c.getOptions().selection.minSize;return Math.abs(n.second.x-n.first.x)>=
a&&Math.abs(n.second.y-n.first.y)>=a}var n={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},r={},q=null;c.clearSelection=l;c.setSelection=function(a,b){var d,e=c.getOptions();"y"==e.selection.mode?(n.first.x=0,n.second.x=c.width()):(d=m(a,"x"),n.first.x=d.axis.p2c(d.from),n.second.x=d.axis.p2c(d.to));"x"==e.selection.mode?(n.first.y=0,n.second.y=c.height()):(d=m(a,"y"),n.first.y=d.axis.p2c(d.from),n.second.y=d.axis.p2c(d.to));n.show=!0;c.triggerRedrawOverlay();!b&&p()&&g()};c.getSelection=
f;c.hooks.bindEvents.push(function(a,c){null!=a.getOptions().selection.mode&&(c.mousemove(d),c.mousedown(b))});c.hooks.drawOverlay.push(function(b,c){if(n.show&&p()){var d=b.getPlotOffset(),e=b.getOptions();c.save();c.translate(d.left,d.top);d=a.color.parse(e.selection.color);c.strokeStyle=d.scale("a",.8).toString();c.lineWidth=1;c.lineJoin=e.selection.shape;c.fillStyle=d.scale("a",.4).toString();var e=Math.min(n.first.x,n.second.x)+.5,d=Math.min(n.first.y,n.second.y)+.5,f=Math.abs(n.second.x-n.first.x)-
1,g=Math.abs(n.second.y-n.first.y)-1;c.fillRect(e,d,f,g);c.strokeRect(e,d,f,g);c.restore()}});c.hooks.shutdown.push(function(c,e){e.unbind("mousemove",d);e.unbind("mousedown",b);q&&a(document).unbind("mouseup",q)})},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);
(function(a){function c(a,b){return b*Math.floor(a/b)}function d(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},f=[],g=!1,h=a.getHours(),l=12>h;null==c&&(c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==d&&(d="Sun Mon Tue Wed Thu Fri Sat".split(" "));var z;z=12<h?h-12:0==h?12:h;for(var D=0;D<b.length;++D){var E=b.charAt(D);if(g){switch(E){case "a":E=""+d[a.getDay()];break;case "b":E=""+c[a.getMonth()];
break;case "d":E=e(a.getDate());break;case "e":E=e(a.getDate()," ");break;case "h":case "H":E=e(h);break;case "I":E=e(z);break;case "l":E=e(z," ");break;case "m":E=e(a.getMonth()+1);break;case "M":E=e(a.getMinutes());break;case "q":E=""+(Math.floor(a.getMonth()/3)+1);break;case "S":E=e(a.getSeconds());break;case "y":E=e(a.getFullYear()%100);break;case "Y":E=""+a.getFullYear();break;case "p":E=l?"am":"pm";break;case "P":E=l?"AM":"PM";break;case "w":E=""+a.getDay()}f.push(E);g=!1}else"%"==E?g=!0:f.push(E)}return f.join("")}
function b(a){function b(a,c,d,e){a[c]=function(){return d[e].apply(d,arguments)}}var c={date:a};void 0!=a.strftime&&b(c,"strftime",a,"strftime");b(c,"getTime",a,"getTime");b(c,"setTime",a,"setTime");for(var d="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function f(a,c){if("browser"==c.timezone)return new Date(a);if(c.timezone&&"utc"!=c.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var d=new timezoneJS.Date;d.setTimezone(c.timezone);d.setTime(a);return d}return b(new Date(a))}var g={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},e=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],h=e.concat([[3,
"month"],[6,"month"],[1,"year"]]),l=e.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:function(b){b.hooks.processOptions.push(function(b,e){a.each(b.getAxes(),function(a,b){var e=b.options;"time"==e.mode&&(b.tickGenerator=function(a){var b=[],d=f(a.min,e),m=0,n=e.tickSize&&"quarter"===e.tickSize[1]||e.minTickSize&&"quarter"===e.minTickSize[1]?l:h;null!=e.minTickSize&&(m="number"==typeof e.tickSize?e.tickSize:e.minTickSize[0]*g[e.minTickSize[1]]);for(var p=0;p<n.length-1&&
!(a.delta<(n[p][0]*g[n[p][1]]+n[p+1][0]*g[n[p+1][1]])/2&&n[p][0]*g[n[p][1]]>=m);++p);m=n[p][0];n=n[p][1];"year"==n&&(null!=e.minTickSize&&"year"==e.minTickSize[1]?m=Math.floor(e.minTickSize[0]):(p=Math.pow(10,Math.floor(Math.log(a.delta/g.year)/Math.LN10)),m=a.delta/g.year/p,m=(1.5>m?1:3>m?2:7.5>m?5:10)*p),1>m&&(m=1));a.tickSize=e.tickSize||[m,n];p=a.tickSize[0];n=a.tickSize[1];m=p*g[n];"second"==n?d.setSeconds(c(d.getSeconds(),p)):"minute"==n?d.setMinutes(c(d.getMinutes(),p)):"hour"==n?d.setHours(c(d.getHours(),
p)):"month"==n?d.setMonth(c(d.getMonth(),p)):"quarter"==n?d.setMonth(3*c(d.getMonth()/3,p)):"year"==n&&d.setFullYear(c(d.getFullYear(),p));d.setMilliseconds(0);m>=g.minute&&d.setSeconds(0);m>=g.hour&&d.setMinutes(0);m>=g.day&&d.setHours(0);m>=4*g.day&&d.setDate(1);m>=2*g.month&&d.setMonth(c(d.getMonth(),3));m>=2*g.quarter&&d.setMonth(c(d.getMonth(),6));m>=g.year&&d.setMonth(0);var q=0,r=Number.NaN,S;do if(S=r,r=d.getTime(),b.push(r),"month"==n||"quarter"==n)if(1>p){d.setDate(1);var N=d.getTime();
d.setMonth(d.getMonth()+("quarter"==n?3:1));var T=d.getTime();d.setTime(r+q*g.hour+(T-N)*p);q=d.getHours();d.setHours(0)}else d.setMonth(d.getMonth()+p*("quarter"==n?3:1));else"year"==n?d.setFullYear(d.getFullYear()+p):d.setTime(r+m);while(r<a.max&&r!=S);return b},b.tickFormatter=function(a,b){var c=f(a,b.options);if(null!=e.timeformat)return d(c,e.timeformat,e.monthNames,e.dayNames);var h=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],
l=b.tickSize[0]*g[b.tickSize[1]],m=b.max-b.min,n=e.twelveHourClock?" %p":"",p=e.twelveHourClock?"%I":"%H";return d(c,l<g.minute?p+":%M:%S"+n:l<g.day?m<2*g.day?p+":%M"+n:"%b %d "+p+":%M"+n:l<g.month?"%b %d":h&&l<g.quarter||!h&&l<g.year?m<g.year?"%b":"%b %Y":h&&l<g.year?m<g.year?"Q%q":"Q%q %Y":"%Y",e.monthNames,e.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});a.plot.formatDate=d;a.plot.dateGenerator=f})(jQuery);
!function(a){function c(){var a=document.createElement("div");return"undefined"!=typeof a.style.MozTransition||"undefined"!=typeof a.style.OTransition||"undefined"!=typeof a.style.webkitTransition||"undefined"!=typeof a.style.transition}function d(a,b,c,d,e){this.axisName=a;this.position=b;this.padding=c;this.plot=d;this.opts=e;this.height=this.width=0}function b(a,b,c,e,f){d.prototype.constructor.call(this,a,b,c,e,f)}function f(a,b,c,e,f){d.prototype.constructor.call(this,a,b,c,e,f)}function g(a,
b,c,d,e){f.prototype.constructor.call(this,a,b,c,d,e)}function e(a,b,c,d,e){g.prototype.constructor.call(this,a,b,c,d,e);this.requiresResize=!1}b.prototype=new d;b.prototype.constructor=b;b.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14);this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");this.opts.axisLabelFontSizePixels+this.padding;this.opts.axisLabelFontSizePixels+this.padding;"left"==this.position||"right"==
this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)};b.prototype.draw=function(a){var b=this.plot.getCanvas().getContext("2d");b.save();b.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily;var c,d,e=b.measureText(this.opts.axisLabel).width,f=this.opts.axisLabelFontSizePixels,g=0;"top"==this.position?(c=a.left+a.width/2-e/2,d=a.top+.72*f):"bottom"==this.position?(c=
a.left+a.width/2-e/2,d=a.top+a.height-.72*f):"left"==this.position?(c=a.left+.72*f,d=a.height/2+a.top+e/2,g=-Math.PI/2):"right"==this.position&&(c=a.left+a.width-.72*f,d=a.height/2+a.top-e/2,g=Math.PI/2);b.translate(c,d);b.rotate(g);b.fillText(this.opts.axisLabel,0,0);b.restore()};f.prototype=new d;f.prototype.constructor=f;f.prototype.calculateSize=function(){var b=a('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(b);this.labelWidth=
b.outerWidth(!0);this.labelHeight=b.outerHeight(!0);b.remove();this.width=this.height=0;"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding};f.prototype.draw=function(b){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove();var c=a('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(c);"top"==this.position?(c.css("left",
b.left+b.width/2-this.labelWidth/2+"px"),c.css("top",b.top+"px")):"bottom"==this.position?(c.css("left",b.left+b.width/2-this.labelWidth/2+"px"),c.css("top",b.top+b.height-this.labelHeight+"px")):"left"==this.position?(c.css("top",b.top+b.height/2-this.labelHeight/2+"px"),c.css("left",b.left+"px")):"right"==this.position&&(c.css("top",b.top+b.height/2-this.labelHeight/2+"px"),c.css("left",b.left+b.width-this.labelWidth+"px"))};g.prototype=new f;g.prototype.constructor=g;g.prototype.calculateSize=
function(){f.prototype.calculateSize.call(this);this.width=this.height=0;"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding};g.prototype.transforms=function(a,b,c){var d={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=b||0!=c)b=" translate("+b+"px, "+c+"px)",d["-moz-transform"]+=b,d["-webkit-transform"]+=b,d["-o-transform"]+=b,d["-ms-transform"]+=b;0!=a&&(a=" rotate("+a+"deg)",d["-moz-transform"]+=
a,d["-webkit-transform"]+=a,d["-o-transform"]+=a,d["-ms-transform"]+=a);a="top: 0; left: 0; ";for(var e in d)d[e]&&(a+=e+":"+d[e]+";");return a+";"};g.prototype.calculateOffsets=function(a){var b={x:0,y:0,degrees:0};return"bottom"==this.position?(b.x=a.left+a.width/2-this.labelWidth/2,b.y=a.top+a.height-this.labelHeight):"top"==this.position?(b.x=a.left+a.width/2-this.labelWidth/2,b.y=a.top):"left"==this.position?(b.degrees=-90,b.x=a.left-this.labelWidth/2+this.labelHeight/2,b.y=a.height/2+a.top):
"right"==this.position&&(b.degrees=90,b.x=a.left+a.width-this.labelWidth/2-this.labelHeight/2,b.y=a.height/2+a.top),b};g.prototype.draw=function(b){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();b=this.calculateOffsets(b);b=a('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(b.degrees,b.x,b.y)+'">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(b)};e.prototype=new g;e.prototype.constructor=e;e.prototype.transforms=function(a,
b,c){var d="";if(0!=a){for(a/=90;0>a;)a+=4;d+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+a+"); ";this.requiresResize="right"==this.position}return 0!=b&&(d+="left: "+b+"px; "),0!=c&&(d+="top: "+c+"px; "),d};e.prototype.calculateOffsets=function(a){var b=g.prototype.calculateOffsets.call(this,a);return"top"==this.position?b.y=a.top+1:"left"==this.position?(b.x=a.left,b.y=a.height/2+a.top-this.labelWidth/2):"right"==this.position&&(b.x=a.left+a.width-this.labelHeight,b.y=a.height/
2+a.top-this.labelWidth/2),b};e.prototype.draw=function(a){if(g.prototype.draw.call(this,a),this.requiresResize)a=this.plot.getPlaceholder().find("."+this.axisName+"Label"),a.css("width",this.labelWidth),a.css("height",this.labelHeight)};a.plot.plugins.push({init:function(d){var l=!1,m={};d.hooks.draw.push(function(d,h){l?a.each(d.getAxes(),function(a,b){var c=b.options||d.getOptions()[a];c&&c.axisLabel&&m[a].draw(b.box)}):(a.each(d.getAxes(),function(a,h){var l=h.options||d.getOptions()[a];if(l&&
l.axisLabel){var n;if(l.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName){if(!(n=l.axisLabelUseHtml)){if(n=!c())n=document.createElement("canvas").getContext?"function"==typeof document.createElement("canvas").getContext("2d").fillText:!1,n=!n;n=n&&!l.axisLabelUseCanvas}n=n?f:l.axisLabelUseCanvas||!c()?b:g}else null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(rv=parseFloat(RegExp.$1)),n=9<=rv&&!l.axisLabelUseCanvas&&!l.axisLabelUseHtml?g:l.axisLabelUseCanvas||l.axisLabelUseHtml?
l.axisLabelUseCanvas?b:f:e;m[a]=new n(a,h.position,void 0===l.axisLabelPadding?2:l.axisLabelPadding,d,l);m[a].calculateSize();h.labelHeight+=m[a].height;h.labelWidth+=m[a].width;l.labelHeight=h.labelHeight;l.labelWidth=h.labelWidth}}),l=!0,d.setupGrid(),d.draw())})},options:{},name:"axisLabels",version:"2.0b0"})}(jQuery);
!function(a){var c=function(c,b){this.element=a(c);this.picker=a('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element);(this.id=this.element.data("slider-id")||b.id)&&(this.picker[0].id=this.id);"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=
!0);var f=this.element.data("slider-tooltip")||b.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||b.orientation,this.orientation){case "vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),
this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||b.min;this.max=this.element.data("slider-max")||b.max;this.step=this.element.data("slider-step")||b.step;this.value=this.element.data("slider-value")||b.value;this.value[1]&&(this.range=!0);this.selection=this.element.data("slider-selection")||b.selection;this.selectionEl=this.picker.find(".slider-selection");
"none"===this.selection&&this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;switch(this.element.data("slider-handle")||b.handle){case "round":this.handle1.addClass("round");this.handle2.addClass("round");break;case "triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?
(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];
this.formater=b.formater;this.layout();this.touchCapable?this.picker.on({touchstart:a.proxy(this.mousedown,this)}):this.picker.on({mousedown:a.proxy(this.mousedown,this)});"show"===f?this.picker.on({mouseenter:a.proxy(this.showTooltip,this),mouseleave:a.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};c.prototype={constructor:c,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in");this.over=!0},hideTooltip:function(){!1===this.inDrag&&this.tooltip.removeClass("in");this.over=
!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%";this.handle2Stype[this.stylePos]=this.percentage[1]+"%";"vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%");this.range?(this.tooltipInner.text(this.formater(this.value[0])+
" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(c){this.touchCapable&&
"touchstart"===c.type&&(c=c.originalEvent);this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];c=this.getPercentage(c);this.dragged=this.range?Math.abs(this.percentage[1]-c)>Math.abs(this.percentage[0]-c)?0:1:0;this.percentage[this.dragged]=c;this.layout();this.touchCapable?a(document).on({touchmove:a.proxy(this.mousemove,this),touchend:a.proxy(this.mouseup,this)}):a(document).on({mousemove:a.proxy(this.mousemove,this),mouseup:a.proxy(this.mouseup,this)});this.inDrag=!0;c=this.calculateValue();
return this.element.trigger({type:"slideStart",value:c}).trigger({type:"slide",value:c}),!1},mousemove:function(a){this.touchCapable&&"touchmove"===a.type&&(a=a.originalEvent);a=this.getPercentage(a);this.range&&(0===this.dragged&&this.percentage[1]<a?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>a&&(this.percentage[1]=this.percentage[0],this.dragged=0));this.percentage[this.dragged]=a;this.layout();a=this.calculateValue();return this.element.trigger({type:"slide",
value:a}).data("value",a).prop("value",a),!1},mouseup:function(c){this.touchCapable?a(document).off({touchmove:this.mousemove,touchend:this.mouseup}):a(document).off({mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;0==this.over&&this.hideTooltip();this.element;c=this.calculateValue();return this.element.trigger({type:"slideStop",value:c}).data("value",c).prop("value",c),!1},calculateValue:function(){var a;return this.range?(a=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*
this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=a):(a=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[a,this.value[1]]),a},getPercentage:function(a){this.touchCapable&&(a=a.touches[0]);a=100*(a[this.mousePos]-this.offset[this.stylePos])/this.size;return a=Math.round(a/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,a))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(a){this.value=
a;this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min);this.diff=this.max-this.min;this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff];this.layout()}};a.fn.slider=function(d,b){return this.each(function(){var f=
a(this),g=f.data("slider"),e="object"==typeof d&&d;g||f.data("slider",g=new c(this,a.extend({},a.fn.slider.defaults,e)));"string"==typeof d&&g[d](b)})};a.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(a){return a}};a.fn.slider.Constructor=c}(window.jQuery);
(function(a){function c(a,b,c){a={square:function(a,b,c,d,f){d=d*Math.sqrt(Math.PI)/2;a.rect(b-d,c-d,d+d,d+d)},diamond:function(a,b,c,d,f){d*=Math.sqrt(Math.PI/2);a.moveTo(b-d,c);a.lineTo(b,c-d);a.lineTo(b+d,c);a.lineTo(b,c+d);a.lineTo(b-d,c)},triangle:function(a,b,c,d,f){d*=Math.sqrt(2*Math.PI/Math.sin(Math.PI/3));var p=d*Math.sin(Math.PI/3);a.moveTo(b-d/2,c+p/2);a.lineTo(b+d/2,c+p/2);f||(a.lineTo(b,c-p/2),a.lineTo(b-d/2,c+p/2))},cross:function(a,b,c,d,f){d=d*Math.sqrt(Math.PI)/2;a.moveTo(b-d,c-
d);a.lineTo(b+d,c+d);a.moveTo(b-d,c+d);a.lineTo(b+d,c-d)}};c=b.points.symbol;a[c]&&(b.points.symbol=a[c])}a.plot.plugins.push({init:function(a){a.hooks.processDatapoints.push(c)},name:"symbols",version:"1.0"})})(jQuery);
!function(a){var c=function(a){this.tipPosition={x:0,y:0};this.init(a)};c.prototype.init=function(c){function b(a){var b={};b.x=a.pageX;b.y=a.pageY;c.setTooltipPosition(b)}function f(b,e,f){var h=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))};if(f)c.showTooltip(f,e);else if(g.plotOptions.series.lines.show&&!0===g.tooltipOptions.lines){b=g.plotOptions.grid.mouseActiveRadius;var r=b+1,q;a.each(c.getData(),function(a,b){for(var f,g=0,l=-1,p=1;p<b.data.length;p++)b.data[p-1][0]<=e.x&&b.data[p][0]>=
e.x&&(g=p-1,l=p);if(-1===l)return void c.hideTooltip();var p=b.data[g][0],E=b.data[g][1],I=b.data[l][0],V=b.data[l][1],S;S=b.xaxis.p2c(e.x);var N=b.yaxis.p2c(e.y),T=b.xaxis.p2c(p),W=b.yaxis.p2c(E),H=b.xaxis.p2c(I),J=b.yaxis.p2c(V),Y,ra;ra=!0;Y=W-J;f=H-T;S=Math.abs(Y*S+f*N+(T*J-W*H))/Math.sqrt(Y*Y+f*f);S<r&&(g=h(p,E,e.x,e.y)<h(e.x,e.y,I,V)?g:l,g={datapoint:(b.datapoints.pointsize,[e.x,E+(e.x-p)/(I-p)*(V-E)]),dataIndex:g,series:b,seriesIndex:a},r=S,q=g)});r<b+1?c.showTooltip(q,e):c.hideTooltip()}else c.hideTooltip()}
var g=this,e=a.plot.plugins.length;if(this.plotPlugins=[],e)for(var h=0;e>h;h++)this.plotPlugins.push(a.plot.plugins[h].name);c.hooks.bindEvents.push(function(c,d){if(g.plotOptions=c.getOptions(),!1!==g.plotOptions.tooltip&&"undefined"!=typeof g.plotOptions.tooltip)g.tooltipOptions=g.plotOptions.tooltipOpts,g.tooltipOptions.$compat?(g.wfunc="width",g.hfunc="height"):(g.wfunc="innerWidth",g.hfunc="innerHeight"),g.getDomElement(),a(c.getPlaceholder()).bind("plothover",f),a(d).bind("mousemove",b)});
c.hooks.shutdown.push(function(c,d){a(c.getPlaceholder()).unbind("plothover",f);a(d).unbind("mousemove",b)});c.setTooltipPosition=function(b){var c=g.getDomElement(),d=c.outerWidth()+g.tooltipOptions.shifts.x,c=c.outerHeight()+g.tooltipOptions.shifts.y;b.x-a(window).scrollLeft()>a(window)[g.wfunc]()-d&&(b.x-=d);b.y-a(window).scrollTop()>a(window)[g.hfunc]()-c&&(b.y-=c);g.tipPosition.x=b.x;g.tipPosition.y=b.y};c.showTooltip=function(a,b){var e=g.getDomElement(),f=g.stringFormat(g.tooltipOptions.content,
a);e.html(f);c.setTooltipPosition({x:b.pageX,y:b.pageY});e.css({left:g.tipPosition.x+g.tooltipOptions.shifts.x,top:g.tipPosition.y+g.tooltipOptions.shifts.y}).show();"function"==typeof g.tooltipOptions.onHover&&g.tooltipOptions.onHover(a,e)};c.hideTooltip=function(){g.getDomElement().hide().html("")}};c.prototype.getDomElement=function(){var c=a("#"+this.tooltipOptions.id);return 0===c.length&&(c=a("<div />").attr("id",this.tooltipOptions.id),c.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&
c.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),c};c.prototype.stringFormat=function(a,b){var c,g,e,h,l=/%p\.{0,1}(\d{0,})/,m=/%s/,p=/%lx/,n=/%ly/,r=/%x\.{0,1}(\d{0,})/,q=/%y\.{0,1}(\d{0,})/;if("undefined"!=typeof b.series.threshold?(c=b.datapoint[0],g=b.datapoint[1],e=b.datapoint[2]):"undefined"!=typeof b.series.lines&&b.series.lines.steps?(c=b.series.datapoints.points[2*b.dataIndex],
g=b.series.datapoints.points[2*b.dataIndex+1],e=""):(c=b.series.data[b.dataIndex][0],g=b.series.data[b.dataIndex][1],e=b.series.data[b.dataIndex][2]),null===b.series.label&&b.series.originSeries&&(b.series.label=b.series.originSeries.label),"function"==typeof a&&(a=a(b.series.label,c,g,b)),"undefined"!=typeof b.series.percent?h=b.series.percent:"undefined"!=typeof b.series.percents&&(h=b.series.percents[b.dataIndex]),"number"==typeof h&&(a=this.adjustValPrecision(l,a,h)),a="undefined"!=typeof b.series.label?
a.replace(m,b.series.label):a.replace(m,""),a=this.hasAxisLabel("xaxis",b)?a.replace(p,b.series.xaxis.options.axisLabel):a.replace(p,""),a=this.hasAxisLabel("yaxis",b)?a.replace(n,b.series.yaxis.options.axisLabel):a.replace(n,""),this.isTimeMode("xaxis",b)&&this.isXDateFormat(b)&&(a=a.replace(r,this.timestampToDate(c,this.tooltipOptions.xDateFormat,b.series.xaxis.options))),this.isTimeMode("yaxis",b)&&this.isYDateFormat(b)&&(a=a.replace(q,this.timestampToDate(g,this.tooltipOptions.yDateFormat,b.series.yaxis.options))),
"number"==typeof c&&(a=this.adjustValPrecision(r,a,c)),"number"==typeof g&&(a=this.adjustValPrecision(q,a,g)),"undefined"!=typeof b.series.xaxis.ticks)h=this.hasRotatedXAxisTicks(b)?"rotatedTicks":"ticks",l=b.dataIndex+b.seriesIndex,b.series.xaxis[h].length>l&&!this.isTimeMode("xaxis",b)&&(this.isCategoriesMode("xaxis",b)?b.series.xaxis[h][l].label:b.series.xaxis[h][l].v)===c&&(a=a.replace(r,b.series.xaxis[h][l].label));if("undefined"!=typeof b.series.yaxis.ticks)for(var v in b.series.yaxis.ticks)b.series.yaxis.ticks.hasOwnProperty(v)&&
(this.isCategoriesMode("yaxis",b)?b.series.yaxis.ticks[v].label:b.series.yaxis.ticks[v].v)===g&&(a=a.replace(q,b.series.yaxis.ticks[v].label));return"undefined"!=typeof b.series.xaxis.tickFormatter&&(a=a.replace("%x",b.series.xaxis.tickFormatter(c,b.series.xaxis).replace(/\$/g,"$$"))),"undefined"!=typeof b.series.yaxis.tickFormatter&&(a=a.replace("%y",b.series.yaxis.tickFormatter(g,b.series.yaxis).replace(/\$/g,"$$"))),e&&(a=a.replace("%ct",e)),a};c.prototype.isTimeMode=function(a,b){return"undefined"!=
typeof b.series[a].options.mode&&"time"===b.series[a].options.mode};c.prototype.isXDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat};c.prototype.isYDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat};c.prototype.isCategoriesMode=function(a,b){return"undefined"!=typeof b.series[a].options.mode&&"categories"===b.series[a].options.mode};c.prototype.timestampToDate=
function(c,b,f){c=a.plot.dateGenerator(c,f);return a.plot.formatDate(c,b,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)};c.prototype.adjustValPrecision=function(a,b,c){var g;return null!==b.match(a)&&""!==RegExp.$1&&(g=RegExp.$1,c=c.toFixed(g),b=b.replace(a,c)),b};c.prototype.hasAxisLabel=function(c,b){return-1!==a.inArray(this.plotPlugins,"axisLabels")&&"undefined"!=typeof b.series[c].options.axisLabel&&0<b.series[c].options.axisLabel.length};c.prototype.hasRotatedXAxisTicks=function(c){return-1!==
a.inArray(this.plotPlugins,"tickRotor")&&"undefined"!=typeof c.series.xaxis.rotatedTicks};a.plot.plugins.push({init:function(a){new c(a)},options:{tooltip:!1,tooltipOpts:{id:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,lines:!1,onHover:function(){},$compat:!1}},name:"tooltip",version:"0.8.4"})}(jQuery);
(function(a){function c(a,c){return"function"==typeof a?a.call(c):a}function d(b,c){this.$element=a(b);this.options=c;this.enabled=!0;this.fixTitle()}d.prototype={show:function(){var b=this.getTitle();if(b&&this.enabled){var d=this.tip();d.find(".tipsy-inner")[this.options.html?"html":"text"](b);d[0].className="tipsy";d.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var b=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),
g=d[0].offsetWidth,e=d[0].offsetHeight,h=c(this.options.gravity,this.$element[0]),l;switch(h.charAt(0)){case "n":l={top:b.top+b.height+this.options.offset,left:b.left+b.width/2-g/2};break;case "s":l={top:b.top-e-this.options.offset,left:b.left+b.width/2-g/2};break;case "e":l={top:b.top+b.height/2-e/2,left:b.left-g-this.options.offset};break;case "w":l={top:b.top+b.height/2-e/2,left:b.left+b.width+this.options.offset}}2==h.length&&("w"==h.charAt(1)?l.left=b.left+b.width/2-15:l.left=b.left+b.width/
2-g+15);d.css(l).addClass("tipsy-"+h);d.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+h.charAt(0);this.options.className&&d.addClass(c(this.options.className,this.$element[0]));this.options.fade?d.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):d.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){a(this).remove()}):this.tip().remove()},fixTitle:function(){var a=
this.$element;(a.attr("title")||"string"!=typeof a.attr("original-title"))&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,c=this.$element,d;this.fixTitle();d=this.options;"string"==typeof d.title?a=c.attr("title"==d.title?"original-title":d.title):"function"==typeof d.title&&(a=d.title.call(c[0]));return(a=(""+a).replace(/(^\s*|\s*$)/,""))||d.fallback},tip:function(){this.$tip||(this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),
this.$tip.data("tipsy-pointee",this.$element[0]));return this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}};a.fn.tipsy=function(b){function c(e){var f=a.data(e,"tipsy");f||(f=new d(e,a.fn.tipsy.elementOptions(e,b)),a.data(e,"tipsy",f));return f}function g(){var a=c(this);a.hoverState="in";0==b.delayIn?a.show():(a.fixTitle(),
setTimeout(function(){"in"==a.hoverState&&a.show()},b.delayIn))}function e(){var a=c(this);a.hoverState="out";0==b.delayOut?a.hide():setTimeout(function(){"out"==a.hoverState&&a.hide()},b.delayOut)}if(!0===b)return this.data("tipsy");if("string"==typeof b){var h=this.data("tipsy");if(h)h[b]();return this}b=a.extend({},a.fn.tipsy.defaults,b);b.live||this.each(function(){c(this)});if("manual"!=b.trigger){var h=b.live?"live":"bind",l="hover"==b.trigger?"mouseleave":"blur";this[h]("hover"==b.trigger?
"mouseenter":"focus",g)[h](l,e)}return this};a.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"};a.fn.tipsy.revalidate=function(){a(".tipsy").each(function(){var b=a.data(this,"tipsy-pointee"),c;if(!(c=!b)){a:{for(;b=b.parentNode;)if(b==document){b=!0;break a}b=!1}c=!b}c&&a(this).remove()})};a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c};a.fn.tipsy.autoNS=
function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"};a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"};a.fn.tipsy.autoBounds=function(b,c){return function(){var d=c[0],e=1<c.length?c[1]:!1,h=a(document).scrollTop()+b,l=a(document).scrollLeft()+b,m=a(this);m.offset().top<h&&(d="n");m.offset().left<l&&(e="w");a(window).width()+a(document).scrollLeft()-m.offset().left<b&&(e="e");a(window).height()+a(document).scrollTop()-
m.offset().top<b&&(d="s");return d+(e?e:"")}}})(jQuery);$(document).ready(function(){telepath.main.init();$(document).click(function(a){$(".tele-popup").each(function(){$(this).hasClass("hook")?0==$(a.target).parents(".tele-popup").size()&&0<$(a.target).parents("body").size()&&$(".tele-popup").remove():$(this).addClass("hook")})})});telepath.loader='<img class="loader" src="img/loader.gif">';telepath.data={};telepath.appFilter=[{key:-1,label:"All Applications"}];
telepath.main={loadResources:function(a){yepnope({load:"css/widgets.css js/widgets/teleAppSelect.js js/widgets/teleInput.js js/widgets/telePassword.js js/widgets/teleCheckbox.js js/widgets/teleList.js js/widgets/teleForm.js js/widgets/teleTree.js js/widgets/teleRule.js js/widgets/teleRadios.js js/widgets/teleBrowse.js js/widgets/teleBrowser.js js/widgets/teleSelect.js js/widgets/teleMulti.js js/widgets/teleRange.js js/widgets/teleFile.js js/widgets/teleSearch.js js/widgets/teleRequest.js js/widgets/teleCountry.js js/lib/jquery.dropdown.js css/jquery.dropdown.css js/lib/bootstrap.min.js css/bootstrap.css js/lib/jquery.pnotify.min.js js/lib/jquery.mousewheel.js js/lib/jquery.mCustomScrollbar.js css/jquery.mCustomScrollbar.css js/lib/jquery.vmap.min.js js/lib/jquery.vmap.world.js js/lib/jquery.vmap.sampledata.js css/jqvmap.css css/config.css js/lib/jquery.weekcalendar.js css/jquery.weekcalendar.css js/lib/jstree.min.js js/lib/jstreegrid.js css/tree.css js/telepath.sessionflow.js?1 js/telepath.handlers.js js/telepath.rule.js js/telepath.dialog.js js/telepath.ipaddress.js js/telepath.condition.js js/telepath.condition.select.js js/telepath.contextmenu.js js/telepath.logmode.js js/telepath.config.account.js js/telepath.config.accounts.js js/telepath.config.action.js js/telepath.config.actions.js js/telepath.config.application.js? js/telepath.config.applications.js js/telepath.config.notifications.js js/telepath.config.rule.js js/telepath.config.rules.js js/telepath.config.user.js js/telepath.config.users.js js/telepath.config.groups.js js/telepath.config.system.js".split(" "),complete:function(){a()}})},
init:function(){telepath.ds.get("/parameters/get_global_headers",{},function(a){telepath.global_headers=a.items});telepath.ds.get("/rules/get_cmds",{},function(a){telepath.rule_cmds=a.items});telepath.ds.get("/telepath/get_app_filter",{},function(a){telepath.app_filter=a.items});telepath.ds.get("/telepath/get_time_range",{},function(a){telepath.range=a.items;telepath.main.loadResources(function(){$.getJSON(telepath.controllerPath+"/telepath/templates",function(a){telepath.templates=a;telepath.ui.init();
telepath.header.init();telepath.dashboard.init();$(".tele-nav-dashboard a").addClass("active")})})});telepath.ds.get("/telepath/get_full_time_range",{},function(a){telepath.fullRangeStart=a.items.start})}};
telepath.ui={init:function(){$(window).resize(function(){telepath.ui.resize()});$(window).click(function(a){0<$(".popover").size()&&!(0<$(a.target).parents(".popover").size()||$(a.target).hasClass("popover"))&&$(".popover").remove()});var a=this;this.mainEl=$("<div>").addClass("tele-body");this.headerEl=$("<div>").addClass("tele-header");this.contentEl=$("<div>").addClass("tele-content");this.mainEl.append(this.headerEl).append(this.contentEl);$("body").append(this.mainEl);this.panels="dashboard cases alerts suspects reports config search".split(" ");
$.each(this.panels,function(c,d){var b=$("<div>").addClass("tele-panel").addClass("tele-panel-"+d);a.contentEl.append(b)});$(".tele-panel-dashboard").addClass("active");$(window).resize(function(){telepath.ui.resize()});telepath.ui.resize()},resize:function(){var a=$(".tele-panel.active");$.each(this.panels,function(c,d){if($(a).hasClass("tele-panel-"+d))return a=d,!1});$(".tele-body").height($(window).height());"dashboard"==a?($(".tele-content").css({height:"890px"}),$("body").css({overflow:"scroll-x"})):
$(".tele-content").css({height:$(window).height()-$(".tele-header").height()-50})}};
telepath.header={getSearchOpts:function(){},init:function(){var a=this;this.logo='<div class="tele-logo"><img src="img/logo.png" alt="Hybrid Security Telepath" /></div>';this.nav=$("<ul>").addClass("tele-nav");this.navItems=[{id:"dashboard",label:"Dashboard"},{id:"cases",label:"Cases"},{id:"alerts",label:"Alerts"},{id:"suspects",label:"Suspects"}];$.each(this.navItems,function(c,d){if(telepath.access.admin||telepath.access.perm[d.label+"_get"])var b=$("<li>").addClass("tele-nav-"+d.id).append($("<a>").attr("href",
"#").append('<span class="tele-nav-icon">').append(d.label));$(a.nav).append(b)});this.headerRight=$("<div>").addClass("tele-header-right");this.search=$("<div>").addClass("tele-search-top");this.searchInput=$("<input>").addClass("tele-search-input");this.searchIcon=$('<a href="#">').addClass("tele-search-icon").html("Search");this.searchDD=$('<a href="#">').addClass("tele-search-dropdown").html("");this.search.append(this.searchInput).append(this.searchIcon).append(this.searchDD);this.headerRight.append(this.search);
$(this.searchIcon).click(function(a){telepath.search.init(telepath.header.searchInput.val());telepath.ui.resize()});$(this.searchInput).keydown(function(a){13==a.keyCode&&(telepath.search.init(telepath.header.searchInput.val()),telepath.ui.resize())});this.searchDD.click(function(){if(0<$(".tele-search-filters").size())$(".tele-search-filters").remove();else{a.searchWrap=$("<div>").addClass("tele-search-filters").addClass("tele-popup");var c=$("<div>").addClass("tele-title-1").html("What to search");
a.searchWrap.append(c);a.headerRight.append(a.searchWrap);telepath.search.printTypes(a.searchWrap)}});$(".tele-header").append(this.logo).append(this.nav).append(this.headerRight);telepath.header.bindHooks();$(window).resize(function(){telepath.header.resize()});telepath.header.resize();this.notifications=$("<div>").notifications();this.configDiv=$("<div>").addClass("tele-config");this.configCmd=$("<a>").attr("href","#").addClass("tele-icon").addClass("tele-icon-config");this.configDiv.append(this.configCmd);
this.configCmd.click(function(){$(".tele-panel").empty().hide();$("#file-upload").hide();$(".tele-nav a.active").removeClass("active");telepath.config.init();$(".tele-panel-config").show();$(this).addClass("active")}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});this.logoutCmd=$("<a>").attr("href","#").addClass("tele-icon").addClass("tele-icon-logout").click(function(){telepath.ds.get("/auth/logout",{},function(a){location.reload(!0)},"Error logging out.")}).hover(function(){$(this).addClass("hover")},
function(){$(this).removeClass("hover")});$(".tele-header-right").append(this.notifications).append(this.configDiv).append(this.logoutCmd)},bindHooks:function(){$(".tele-nav a").click(function(){var a=$(this).parent().attr("class").split("-");if("tele"==a[0]&&"nav"==a[1]&&""!=a[2])a=a[2];else return!1;"dashboard"==a&&telepath.dashboard.loading||($(".tele-panel").empty().hide().removeClass("active"),$("#file-upload").hide(),$(".tele-panel-"+a).show().addClass("active"),telepath.ui.resize(),telepath[a].init(),
telepath.header.configCmd.removeClass("active"),$(".tele-nav a.active").removeClass("active"),$(this).addClass("active"),setTimeout(function(){$(".tele-popup, .popover").remove()},100))})},resize:function(){var a=$(window).width();$(".tele-logo").css({width:200,overflow:"hidden"});1300>a?($(this.searchInput).css({width:100}),1200>a?(1E3>a?($(".tele-logo").css({width:65,overflow:"hidden"}),$(".tele-nav li").css({margin:"0px 0px"})):$(".tele-nav li").css({margin:"0px 10px"}),$(".tele-logo").css({width:65})):
$(".tele-nav li").css({margin:"0px 25px"})):($(this.search).css({input:"{padding: 5px 75px 5px 20px}"}),$(this.searchInput).css({width:140}),$(".tele-nav li").css({margin:"0px 25px"}));var c=(a-$(".tele-header-right").width()-$(".tele-logo").width()-$(".tele-nav").width())/2;$(".tele-nav").css("marginLeft",c);801>a&&($(".tele-nav").css("marginLeft",20),$(".tele-panel-subtitle").css("height","100px !important"),$(".tele-panel-title").css("position","absolute"))}};
function RangeRemove(a){numRanges=$(a).parent().parent().children(".tele-ip-wrap").length;1<numRanges&&$(a).parent().remove()}function RangeRemoveLB(a){numRanges=$(a).parent().parent().children(".tele-ip-wrap-lb").length;1<numRanges&&$(a).parent().remove()}
function old_getRangeUI(a){a=a?a.trim():"";var c=1<a.split("-").length,d=$("<div>").addClass("tele-ip-wrap"),b=$("<div>").addClass("tele-ip").ip({data:a.split("-")[0]}),f=$("<div>").addClass("tele-ip-dash").html("_"),g=$("<div>").addClass("tele-ip").ip({data:c?a.split("-")[1]:""});c||(f.hide(),g.hide());a=$("<div>").addClass("tele-ip-add").addClass("tele-icon").addClass("tele-icon-plus").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}).click(function(){that.limitRanges.append(getRangeUI())});
var e=$("<div>").addClass("tele-ip-remove").addClass("tele-icon").addClass("tele-icon-minus").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}).click(function(){$(this).parent().remove()}),c=$("<div>").toggleFlip({left_value:"Single",right_value:"Range",flip:function(){g.toggle();f.toggle()},flipped:c});d.append(a).append(e).append(c).append(b).append(f).append(g);return d}
function getRangeUI(a,c){a||(a="");var d=a.from!=a.to,b=$("<div>").addClass("tele-ip-wrap"),f=$("<div>").addClass("tele-ip").ip({data:a.from}),g=$("<div>").addClass("tele-ip-dash").html("_"),e=$("<div>").addClass("tele-ip").ip({data:d?a.to:""});d||(g.hide(),e.hide());var h=$("<div>").addClass("tele-ip-add").addClass("tele-icon").addClass("tele-icon-plus").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}).click(function(){c.append(getRangeUI())}),l=$("<div>").addClass("tele-ip-remove").addClass("tele-icon").addClass("tele-icon-minus").hover(function(){$(this).addClass("hover")},
function(){$(this).removeClass("hover")}).click(function(){RangeRemove(this)}),d=$("<div>").toggleFlip({left_value:"Single",right_value:"Range",flip:function(){e.toggle();g.toggle()},flipped:d});b.append(h).append(l).append(d).append(f).append(g).append(e);return b}
function getStatusCodeRangeUI(a){a=a?a.trim():"";var c=1<a.split("-").length,d=$("<div>").addClass("tele-sc-wrap"),b=$("<div>").teleInput({value:a.split("-")[0],type:"number",range:{min:100,max:600},step:100,margintop:1}).addClass("tele-sc"),f=$("<div>").addClass("tele-sc-dash").html("_"),g=$("<div>").teleInput({value:c?a.split("-")[1]:"",type:"number",range:{min:100,max:600},step:100,margintop:1}).addClass("tele-sc");c||(f.hide(),g.hide());a=$("<div>").toggleFlip({left_value:"Single",right_value:"Range",
flip:function(){g.toggle();f.toggle()},flipped:c});d.append(a).append(b).append(f).append(g);return d}
function getRangeLB(a,c){a||(a="");var d=a.from!=a.to,b=$("<div>").addClass("tele-ip-wrap-lb"),f=$("<div>").addClass("tele-ip").ip({data:a.from}),g=$("<div>").addClass("tele-ip-dash").html("_"),e=$("<div>").addClass("tele-ip").ip({data:d?a.to:""});d||(g.hide(),e.hide());var h=$("<div>").addClass("tele-ip-add").addClass("tele-icon").addClass("tele-icon-plus").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}).click(function(){c.append(getRangeLB())}),l=$("<div>").addClass("tele-ip-remove").addClass("tele-icon").addClass("tele-icon-minus").hover(function(){$(this).addClass("hover")},
function(){$(this).removeClass("hover")}).click(function(){RangeRemoveLB(this)}),d=$("<div>").toggleFlip({left_value:"Single",right_value:"Range",flip:function(){e.toggle();g.toggle()},flipped:d});b.append(h).append(l).append(d).append(f).append(g).append(e);return b}function findAndRemove(a,c,d){$.each(a,function(b,f){f&&f[c]&&f[c]==d&&a.splice(b,1)})}function grabNames(a){var c="";$.each(a,function(a,b){c=c+b.key+", "});0<c.length&&(c=c.substr(0,c.length-2));return c}
function ip2long(a){var c;a=a.match(/^([1-9]\d*|0[0-7]*|0x[\da-f]+)(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?$/i);if(!a)return!1;a[0]=0;for(c=1;5>c;c+=1)a[0]+=!!(a[c]||"").length,a[c]=parseInt(a[c])||0;a.push(256,256,256,256);a[4+a[0]]*=Math.pow(256,4-a[0]);return a[1]>=a[5]||a[2]>=a[6]||a[3]>=a[7]||a[4]>=a[8]?!1:a[1]*(1===a[0]||16777216)+a[2]*(2>=a[0]||65536)+a[3]*(3>=a[0]||256)+1*a[4]}
function date_format(a,c){var d,b,f="Sun Mon Tues Wednes Thurs Fri Satur January February March April May June July August September October November December".split(" "),g=/\\?(.?)/gi,e=function(a,c){return b[a]?b[a]():c},h=function(a,b){for(a=String(a);a.length<b;)a="0"+a;return a};b={d:function(){return h(b.j(),2)},D:function(){return b.l().slice(0,3)},j:function(){return d.getDate()},l:function(){return f[b.w()]+"day"},N:function(){return b.w()||7},S:function(){var a=b.j(),c=a%10;3>=c&&1==parseInt(a%
100/10,10)&&(c=0);return["st","nd","rd"][c-1]||"th"},w:function(){return d.getDay()},z:function(){var a=new Date(b.Y(),b.n()-1,b.j()),c=new Date(b.Y(),0,1);return Math.round((a-c)/864E5)},W:function(){var a=new Date(b.Y(),b.n()-1,b.j()-b.N()+3),c=new Date(a.getFullYear(),0,4);return h(1+Math.round((a-c)/864E5/7),2)},F:function(){return f[6+b.n()]},m:function(){return h(b.n(),2)},M:function(){return b.F().slice(0,3)},n:function(){return d.getMonth()+1},t:function(){return(new Date(b.Y(),b.n(),0)).getDate()},
L:function(){var a=b.Y();return 0===a%4&0!==a%100|0===a%400},o:function(){var a=b.n(),c=b.W();return b.Y()+(12===a&&9>c?1:1===a&&9<c?-1:0)},Y:function(){return d.getFullYear()},y:function(){return b.Y().toString().slice(-2)},a:function(){return 11<d.getHours()?"pm":"am"},A:function(){return b.a().toUpperCase()},B:function(){var a=3600*d.getUTCHours(),b=60*d.getUTCMinutes(),c=d.getUTCSeconds();return h(Math.floor((a+b+c+3600)/86.4)%1E3,3)},g:function(){return b.G()%12||12},G:function(){return d.getHours()},
h:function(){return h(b.g(),2)},H:function(){return h(b.G(),2)},i:function(){return h(d.getMinutes(),2)},s:function(){return h(d.getSeconds(),2)},u:function(){return h(1E3*d.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)";},I:function(){var a=new Date(b.Y(),0),c=Date.UTC(b.Y(),0),d=new Date(b.Y(),6),e=Date.UTC(b.Y(),6);return a-c!==d-e?1:0},O:function(){var a=d.getTimezoneOffset(),b=Math.abs(a);return(0<a?"-":"+")+h(100*Math.floor(b/
60)+b%60,4)},P:function(){var a=b.O();return a.substr(0,3)+":"+a.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-d.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(g,e)},r:function(){return"D, d M Y H:i:s O".replace(g,e)},U:function(){return d/1E3|0}};this.date=function(a,b){d=void 0===b?new Date:b instanceof Date?new Date(b):new Date(1E3*b);return a.replace(g,e)};return this.date(a,c)}
function escapeHtml(a){var c=document.createElement("div");c.appendChild(document.createTextNode(a));return c.innerHTML}function unescapeHtml(a){var c=document.createElement("div");c.innerHTML=a;return(a=c.childNodes[0])?a.nodeValue:""}
telepath.ds={get:function(a,c,d,b,f){$.ajax({type:"POST",url:telepath.controllerPath+a,data:c,flag:f,success:function(a){a.logout?window.location.reload(!0):(a.eval&&eval(a.eval),a.console&&console.log(a.console),a.success?"function"==typeof d&&d(a,this.flag):("function"==typeof b&&b(a),"string"==typeof b&&console.log(b)))},error:function(a,c,d){"function"==typeof b&&b(c);"string"==typeof b&&console.log(b)},dataType:"json"})}};
telepath.dsync={get:function(a,c,d,b){$.ajax({type:"POST",url:telepath.controllerPath+a,data:c,async:!1,success:function(a){a.logout?window.location.reload(!0):(a.eval&&eval(a.eval),a.console&&console.log(a.console),a.success?"function"==typeof d&&d(a):("function"==typeof b&&b(a),"string"==typeof b&&console.log(b)))},error:function(a,c,d){"function"==typeof b&&b(c);"string"==typeof b&&console.log(b)},dataType:"json"})}};
$.widget("tele.infoblock",{options:{icon:"person",title:"Andy Keren",subtitle:"Developer @ HybridSec",avatar:"img/avatar.png",score:95,social:{facebook:"https://www.facebook.com/andy.keren",twitter:"https://twitter.com/NASA_Johnson/",linkedin:"www.linkedin.com/groups/Web-Fraud-Prevention-4066554"},details:{"Last Seen":"Now and again",Phone:"555-555-555",Email:"ndkeren@gmail.com",Address:"Somewhere 555 st, Let-Viva, Israel"}},_create:function(){this.element.addClass("tele-infoblock");this._update()},
_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){this.element.empty();var a=$("<div>").addClass("tele-infoblock-smalltitle").html("Client Details"),c=$("<div>").addClass("tele-infoblock-imagewrap"),d=$("<div>").addClass("tele-infoblock-score"),b=$("<img>").addClass("tele-infoblock-image").attr("src",this.options.avatar),f=$("<div>").addClass("tele-infoblock-title").html(this.options.title),g=$("<div>").addClass("tele-infoblock-subtitle").html(this.options.subtitle),e=
$("<ul>").addClass("tele-infoblock-social"),h=$("<table>").addClass("tele-infoblock-details");c.append(d).append(b);$.each(this.options.social,function(a,b){var c=$("<li>"),d=$("<a>").attr("href",b).addClass("tele-icon").addClass("tele-icon-"+a);c.append(d);e.append(c)});$.each(this.options.details,function(a,b){var c=$("<tr>"),d=$("<td>").html(a+":"),e=$("<td>").html("<b>"+b+"</b>");c.append(d).append(e);h.append(c)});this.element.append(a).append(c).append(f).append(g).append(e).append(h)}});
$.widget("tele.popup",{options:{bindTo:!1},_create:function(){this.element.addClass("tele-popup");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){if(this.options.bindTo){this.element.empty();var a=this.options.bindTo.offset().top,c=$(window).width()-this.element.width()-100;this.element.css({top:a,left:c})}}});
telepath.countries={a2n:function(a){return"undefined"!==typeof this.map[a]?this.map[a]:"Unknown"},n2a:function(a){for(x in this.map)if(this.map[x].toLowerCase()==a.toLowerCase())return x;return"00"},map:{AP:"Asia/Pacific ",AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",A1:"Anonymous Proxy",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BJ:"Benin",
BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia/Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"Indian Ocean",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Rep.",TD:"Chad",CL:"Chile",CN:"China",CO:"Colombia",KM:"Comoros",CD:"Congo",CG:"Congo",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curacao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",
DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",EU:"Europe",FK:"Falkland Islands",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GW:"Guinea-Bissau",GN:"Guinea",GY:"Guyana",HT:"Haiti",
VA:"Holy See",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea",KR:"Republic of Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macau",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",
ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",MP:"Mariana Islands",NO:"Norway",KP:"North Korea",OM:"Oman",O1:"Other",PK:"Pakistan",PW:"Palau",PS:"Palestine",PA:"Panama",
PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn Islands",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russia",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre",VC:"Saint Vincent",WS:"Samoa",SM:"San Marino",ST:"Sao Tome",A2:"Satellite Provider",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Saint Maarten",SK:"Slovakia",
SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia",KR:"South Korea",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syria",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",
UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Vietnam",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe","00":"Unknown"}};
$.widget("tele.teleDropdown",{options:{title:"Select",options:[],selected:0,updatesTitle:!1,icon:!1,callback:function(){},height:150,width:100},_create:function(){this.element.addClass("tele-dropdown");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;this.icon&&(this.dropdownIcon=$("<a>").attr("href","#").addClass("tele-icon").addClass("tele-icon-"+this.options.icon),this.dropdownIcon.hover(function(){a.hoverIn()},function(){a.hoverOut()}).click(function(){a.click()}),
this.element.append(this.dropdownIcon));this.dropdownValue=$("<a>").attr("href","#").addClass("tele-dropdown-value").html(this.options.value);this.dropdownArrow=$("<a>").attr("href","#").addClass("tele-dropdown-arrow").html("&nbsp;");this.element.append(this.dropdownValue).append(this.dropdownArrow);this.dropdownValue.hover(function(){a.hoverIn()},function(){a.hoverOut()}).click(function(){a.click()});this.dropdownArrow.hover(function(){a.hoverIn()},function(){a.hoverOut()}).click(function(){a.click()})},
hoverIn:function(){this.dropdownIcon&&this.dropdownIcon.addClass("hover");this.dropdownValue.addClass("hover");this.dropdownArrow.addClass("hover")},hoverOut:function(){this.dropdownIcon&&this.dropdownIcon.removeClass("hover");this.dropdownValue.removeClass("hover");this.dropdownArrow.removeClass("hover")},click:function(){if("block"==$(".tele-dd-popup").css("display"))$(".tele-dd-popup").fadeOut(),$(".tele-dd-popup").remove();else{$(".tele-dd-popup").remove();this.popup=$("<div>").addClass("tele-popup").addClass("tele-dd-popup").hide();
$(this.element).append(this.popup);$(this.element).offset();$(this.element).height();$(this.element).offset();$(this.element).width();this.popup.css({height:this.options.height,width:this.options.width}).fadeIn();this.list=$("<div>").addClass("tele-dd-list").css({height:this.options.height-30,overflow:"auto"});for(x in this.options.options){var a={key:this.options.options[x].key,label:this.options.options[x].label,inputFirst:!0,checked:!1},c=$("<div>").addClass("tele-dd-item").html(a.label);c.hover(function(){this.addClass("hover")},
function(){this.removeClass("hover")}).click(function(){this.options.callback(a)});this.list.append(c)}this.popup.append(this.list);this.options.callback&&this.options.callback()}}});
$.widget("tele.radios",{options:{items:[],selected:"time",title:"",tip:!1},_create:function(){this.element.addClass("tele-radios");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;this.element.empty();var c=$("<div>").addClass("tele-radios-title").html(this.options.title);this.element.append(c);$.each(this.options.items,function(c,b){var f=$("<div>").addClass("tele-radio");b.tip&&f.attr("alt",b.tip).attr("title",b.tip);var g=$("<div>").addClass("tele-radio-title").html(b.title),
e=$("<div>").addClass("tele-icon").addClass("tele-icon-"+b.icon);f.hover(function(){$(".tele-radio-title, .tele-icon",this).addClass("hover")},function(){$(".tele-radio-title, .tele-icon",this).removeClass("hover")});b.id==a.options.selected&&(g.addClass("selected"),e.addClass("selected"));f.append(e).append(g);a.element.append(f);f.click(function(){a._setOption("selected",b.id);a.options.callback&&a.options.callback(a,b.id)})})}});
$.widget("tele.btn",{options:{icon:!1,text:!1},_create:function(){this.element.addClass("tele-button");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;!1!==this.options.icon&&(this.iconEl=$("<span>").addClass("tele-icon tele-icon-"+this.options.icon),this.element.append(this.iconEl),this.iconEl.hover(function(){a.hoverIn()},function(){a.hoverOut()}).click(function(){a.click()}));!1!==this.options.text&&(this.textEl=$("<span>").addClass("tele-button-text").html(this.options.text),
this.textEl.hover(function(){a.hoverIn()},function(){a.hoverOut()}).click(function(){a.click()}),this.element.append(this.textEl))},hoverIn:function(){this.textEl&&this.textEl.addClass("hover");this.iconEl&&this.iconEl.addClass("hover")},hoverOut:function(){this.textEl&&this.textEl.removeClass("hover");this.iconEl&&this.iconEl.removeClass("hover")},click:function(){this.options.callback&&this.options.callback(this,this.element)}});
$.widget("tele.cb",{options:{icon:"checkbox",checked:!1},_create:function(){this.element.addClass("tele-checkbox");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;"checkbox"!=this.options.icon&&this.element.addClass("tele-checkbox-"+this.options.icon);this.element.click(function(){a.options.checked?$(this).removeClass("checked"):$(this).addClass("checked");a.options.checked=!a.options.checked;a.options.callback&&a.options.callback(a)})}});
telepath.search={results:{},defaults:{application:!0,pages:!0,attributes:!0,requests:!0,suspects:!0,alerts:!0,cases:!0,request_data:!0,users:!1},sort:"date",dir:!1,options:!1,searchTypes:[{id:"cases",label:"Request Data",desc:"Search Cases"},{id:"alerts",label:"Applications",desc:"Search Alerts"},{id:"suspects",label:"Request Data",desc:"Search suspects"},{id:"requests",label:"Requests",desc:"Search Requests"},{id:"request_data",label:"Request Data",desc:"Search request data"},{id:"application",label:"Applications",
desc:"Search domain names"},{id:"pages",label:"Applications",desc:"Search application page names"},{id:"attributes",label:"Applications",desc:"Search attribute names"},{id:"users",label:"Request Data",desc:"Search web application users"},{id:"users",label:"Request Data",desc:"Search in countries and cities"}],printTypes:function(a){var c=this;!1===this.options&&(this.options=this.defaults);$.each(c.searchTypes,function(d,b){var f=$("<div>").addClass("tele-search-filter").attr("id","tele-search-filter-"+
b.id),g=$("<div>").addClass("tele-search-filter").teleCheckbox({label:b.desc,checked:c.options[b.id]?c.options[b.id]:!1,callback:function(a){c.options[b.id]=a.options.checked}});f.append(g);a.append(f)});c.buttonsEl=$("<div>").addClass("tele-form-buttons");c.applyBtn=$('<a href="#" class="tele-button tele-button-apply">Apply</a>');c.cancelBtn=$('<a href="#" class="tele-button tele-button-cancel">Cancel</a>');c.buttonsEl.append(c.applyBtn).append(c.cancelBtn);a.append(c.buttonsEl);c.applyBtn.click(function(){$(".tele-search-filters").remove()});
c.cancelBtn.click(function(){c.options=c.defaults;$(".tele-search-filters").remove()})},searchStr:"",init:function(a){this.searchStr=a;telepath.header.configCmd.removeClass("active");$(".tele-nav a.active").removeClass("active");$(".tele-panel").empty().hide().removeClass("active");$("#file-upload").hide();$(".tele-panel-search").show().addClass("active");this.container=$(".tele-panel-search");this.container.empty();this.initPanel()},initPanel:function(){var a=this;this.panelTopBar=$("<div>").addClass("tele-panel-topbar");
this.panelTitle=$("<div>").addClass("tele-panel-title");this.panelTopBar.append(this.panelTitle);this.panelTitle.html("Search results");this.container.append(this.panelTopBar);this.panelSubBar=$("<div>").addClass("tele-panel-subtitle");this.panelTopBarRight=$("<div>").addClass("tele-panel-topbar-right");this.panelTopBar.append(this.panelTopBarRight);this.container.append(this.panelSubBar);var c=$("<div>").radios({title:"Sort By",items:[{id:"date",icon:"time",tip:"Time"},{id:"count",icon:"bars",tip:"Count"}],
selected:this.sort,callback:function(b,c){a.sort==c&&(a.dir=!a.dir);a.sort=c;telepath.search.refresh(function(){})}}),d=$("<div>").daterange({start:telepath.range.start,end:telepath.range.end,change:function(a,b){telepath.range.start=a;telepath.range.end=b;$(".tele-search-tab span").html("0");telepath.search.refresh(function(){})}}),b=$("<div>").appSelect({callback:function(a){$(".tele-icon-application",b).removeClass("tele-icon-application").addClass("tele-icon-loader");telepath.search.refresh(function(){$(".tele-icon-loader",
b).removeClass("tele-icon-loader").addClass("tele-icon-application")})}});this.panelTopBarRight.append(c).append('<div class="tele-navsep"></div>').append(d).append('<div class="tele-navsep"></div>').append(b);this.tabsEl=$("<div>").addClass("tabs");this.tabsUl=$("<ul>");this.tabsEl.append(this.tabsUl);c=[{id:"alerts",text:"Alerts"},{id:"cases",text:"Cases"},{id:"suspects",text:"Suspects"},{id:"requests",text:"Normal"}];for(x in c){var f=c[x],d=$("<div>").attr("id","tele-search-"+f.id),g=$("<li>"),
e=$("<span>").html("0"),f=$("<a>").attr("href","#tele-search-"+f.id).append(f.text+"&nbsp;(").append(e).append(")").attr("rel",f.id).addClass("tele-search-tab");g.append(f);this.tabsUl.append(g);this.tabsEl.append(d)}this.container.append(this.tabsEl);this.tabsEl.height($(window).height()-$(".tele-header").height()-$(".tele-panel-topbar").height()-$(".tele-panel-subtitle").height()-60);this.tabsEl.tabs({heightStyle:"fill",autoHeight:!1,animate:!1,activate:function(b,c){var d=c.newPanel.selector.split("-")[2];
a.container=$(c.newPanel.selector);$(c.newPanel.selector+" .tele-block").remove();switch(d){case "cases":a.showCasesTab(c.newPanel.selector);break;case "alerts":a.showAlertsTab(c.newPanel.selector);break;case "suspects":a.showSuspectsTab(c.newPanel.selector);break;case "requests":a.showRequestsTab(c.newPanel.selector)}},create:function(a,b){}});this.tabsEl.tabs({collapsible:!0,active:!1});this.panelSubBar.append(this.tabsUl);this.refresh()},refresh:function(){if(!this.searchStr)return $.each(["alerts",
"cases","suspects","requests"],function(a,b){var c=$("#tele-search-"+b);c.empty();c.append($("<p>").text("No search string defined"))}),this.tabsEl.tabs({collapsible:!1}),!1;$(".ui-tabs").append(telepath.loader);var a=this;this.results={};!1===this.options&&(this.options=this.defaults);"00"!=telepath.countries.n2a(this.searchStr)?(this.searchStr=telepath.countries.n2a(this.searchStr),$(".tele-search-input").val(this.searchStr),this.countryFlag=!0):this.countryFlag=!1;var c={search:this.searchStr,
options:this.options,range:telepath.range,apps:telepath.appFilter,is_country:this.countryFlag,sort:this.sort,dir:this.dir};a.count=0;$.each(["alerts","cases","suspects","requests"],function(d,b){if(a.options[b])telepath.ds.get("/search/"+b,c,function(c){a.count++;a.container=$("#tele-search-"+b);a.container.empty();c.items&&0!=c.items.length?(a.results[b]=c.items,$('.tele-search-tab[rel="'+b+'"] span').html(c.total)):(c=$("<p>").text("No results"),a.container.append(c));4==a.count&&a.selectTab()},
function(c){a.count++;4==a.count&&a.selectTab();a.container=$("#tele-search-"+b);a.container.empty();c=$("<p>").text(c.error);a.container.append(c)});else{a.count++;4==a.count&&a.selectTab();a.container=$("#tele-search-"+b);a.container.empty();var f=$("<p>").text("No select option "+b);a.container.append(f)}})},selectTab:function(){var a=this;a.tabsEl.children(".tele-loader").remove();var c=!1;$.each(["alerts","cases","suspects","requests"],function(d,b){if(!c&&a.results[b]&&0<a.results[b].length){var f;
switch(b){case "alerts":f=0;a.showAlertsTab();break;case "cases":f=1;a.showCasesTab();break;case "suspects":f=2;a.showSuspectsTab();break;case "requests":f=3,a.showRequestsTab()}a.tabsEl.tabs({active:f});c=!0}});a.tabsEl.tabs({collapsible:!1})},showCasesTab:function(){this.list=$("<div>").addClass("tele-cases-block");$("#tele-search-cases").append(this.list);this.list.teleList({data:this.results.cases,searchkey:this.searchStr,formatter:function(a){a._source&&(a=a._source);a.checkable||(a.checkable=
!1);a.favorites||(a.favorites=!1,a.favorite=!1);var c="";$.each(a.cases_names,function(a,b){c=c+b.key+" ,"});c=c.substr(0,c.length-2);return{raw:a,checkable:!1,favorites:!1,favorite:!1,itemID:a.sid,icon:"case",title:c,count:a.count,details:[{key:"IP",value:a.ip_orig},{key:"country",value:a.country},{key:"city",value:a.city},{key:"host",value:grabNames(a.host)},{key:"alerts",value:a.alerts_count},{key:"actions",value:a.actions_count}]}}})},showAlertsTab:function(){this.results.alerts&&(this.list=$("<div>").addClass("tele-alerts-block"),
$("#tele-search-alerts").append(this.list),this.list.teleList({data:this.results.alerts,searchkey:this.searchStr,formatter:function(a){return telepath.alert.rowFormatter(a)}}))},showSuspectsTab:function(){this.results.suspects&&(this.list=$("<div>").addClass("tele-suspects-block"),$("#tele-search-suspects").append(this.list),this.list.teleList({data:this.results.suspects,searchkey:this.searchStr,formatter:function(a){return telepath.suspects.rowFormatter(a)}}))},showRequestsTab:function(){this.results.requests&&
(this.list=$("<div>").addClass("tele-requests-block"),$("#tele-search-requests").append(this.list),this.list.teleList({data:this.results.requests,searchkey:this.searchStr,formatter:function(a){return telepath.suspects.rowFormatter(a)}}))}};
$.widget("tele.listitem",{options:{itemID:0,checkable:!1,checked:!1,favorites:!1,favorite:!1,favoriteCallBack:!1,count:!1,time:!1,timeFormat:"d/m/y g:i A",timeLabel:"",progbar:!1,progbarValue:0,progbarBig:!1,popup:!1,icon:"alert",title:"",description:"",details:[],offset:30,raw:[]},_resize:function(){var a=this.options.offset;$(".tele-checkbox",this.element).each(function(){a+=$(this).outerWidth(!0)});30>a&&(a+=20);var c=$(this.element).width()-a;$(".tele-listitem-inner",this.element).width(c-15);
a=15;this.options.progbar&&(a=this.options.progbarBig?a+$(".tele-listitem-bigprogbar",this.element).outerWidth()+55:a+$(".tele-listitem-progbar",this.element).outerWidth()+25);this.options.icon&&(a+=$(".tele-listitem-icon",this.element).outerWidth());var d=c-a;$(".tele-listitem-info",this.element).css({width:d});var b=30;800>$(".tele-listitem-info").width()?$("ul li").filter("[class*=tele-listitem-]").css({"padding-right":"5%"}):$("ul li").filter("[class*=tele-listitem-]").css({"padding-right":"10%"});
$(".tele-listitem-info li",this.element).each(function(){$(this).show();$(this).prev().css({borderRightWidth:1});b+=$(this).outerWidth();if(b>d)if($(this).hasClass("tele-list-hosts")){var a=$(this).width(),c=b-d;$(this).width(a-c).css({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",height:"15px"});a=$("b",this).text();c=a.split(",");1<c.length&&(c=$("<a>View all "+c.length+" hosts</a>"),$("b",this).html(c),$(".tele-list-hosts a").tipsy({fallback:a,gravity:"sw",trigger:"hover"}));
b+=$(this).outerWidth();b>d&&($(this).hide(),$(this).prev().css({borderRightWidth:0}))}else $(this).hide(),$(this).prev().css({borderRightWidth:0});else $(this).hasClass("tele-list-hosts")&&$(this).css({width:"auto"})})},_create:function(){this.element.addClass("tele-listitem");this._update()},_setOption:function(a,c){this.options[a]=c;"checked"==a?c?this.checkEl.teleCheckbox({checked:!0}):this.checkEl.teleCheckbox({checked:!1}):this._update()},_update:function(){var a=this;this.element.empty();this.options.checkable&&
(this.checkEl=$("<a>").teleCheckbox({checked:this.options.checked,callback:function(b){a.options.checked=b.options.checked}}),this.element.append(this.checkEl));this.options.favorites&&(this.favEl=$("<a>").teleCheckbox({icon:"favorites",checked:this.options.favorite,callback:function(b){a.options.favorite=b.options.checked;"function"==typeof a.options.favoriteCallBack&&a.options.favoriteCallBack(a)}}),this.element.append(this.favEl));var c=$("<div>").addClass("tele-listitem-inner");this.element.append(c);
if(this.options.icon){var d=$("<div>").addClass("tele-listitem-icon").addClass("tele-icon-"+this.options.icon);c.append(d)}this.options.count&&(d=$("<div>").addClass("tele-listitem-count").html(this.options.count),c.append(d),999<parseInt(this.options.count)&&d.css({fontSize:"12px",left:"30px"}));if(this.options.progbar){d=$("<div>");this.options.progbarBig?d.addClass("tele-listitem-bigprogbar"):d.addClass("tele-listitem-progbar");this.options.progbarValue=parseFloat(this.options.progbarValue);0<
this.options.progbarValue&&(this.options.progbarValue=1>=this.options.progbarValue?100*this.options.progbarValue:parseInt(this.options.progbarValue));var b=$("<div>").addClass("tele-listitem-progbar-inner").css({width:this.options.progbarValue+"%"});d.append(b);c.append(d)}this.options.title&&(d=$("<div>").addClass("tele-listitem-title").html(this.options.title).attr("title",this.options.title),c.append(d));this.options.updating&&(d=$("<div>").addClass("tele-listitem-updating tele-icon-ring").html("Update in progress").attr("title",
"Update in progress"),c.append(d));this.options.description&&(d=$("<div>").addClass("tele-title-2").html(this.options.description),c.append(d));if(this.options.details&&0<this.options.details.length){var f=$("<ul>").addClass("tele-listitem-info");this.options.title||f.addClass("no-title");$.each(this.options.details,function(a,b){if(b.key||b.value){var c=$("<li>");switch(b.key){case "Active":var d=$("<span>"),m=$("<span>");b.value?(d.addClass("tele-icon-active"),m.text("Active")):(d.addClass("tele-icon-inactive"),
m.text("Inactive"));c.append(d).append(m);break;case "city":b.key&&"city"==b.key&&b.value&&"Unknown"!=b.value?c.append(b.key).append(":&nbsp;").append("<b>"+escapeHtml(b.value)+"</b>"):c=!1;break;case "user":b.key&&"user"==b.key&&b.value&&""!=b.value?(d=$("<div>").addClass("tele-listitem-user-name"),c.append(d).append("&nbsp&nbsp;").append(escapeHtml(b.value))):c=!1;break;case "Email":d=$("<a>").attr("href","mailto:"+escapeHtml(b.value)).text(escapeHtml(b.value));c.append(d);break;case "country":2==
b.value.length?(c.append('<span class="flag flag-'+escapeHtml(b.value)+'"></span>'),c.append('<span class="tele-country">'+telepath.countries.a2n(b.value)+"</span>")):(c.append(b.key),b.value&&c.append(":&nbsp;"),c.append("<b>"+escapeHtml(b.value)+"</b>"));break;case "alerts":0<parseInt(b.value)?(d=$("<div>").addClass("tele-listitem-icon").addClass("tele-icon-alert"),m=$("<div>").addClass("tele-listitem-count").html(escapeHtml(b.value)),c.addClass("tele-listitem-alerts-count"),c.append(d).append(m)):
c=!1;break;case "actions":0<parseInt(b.value)?(d=$("<div>").addClass("tele-listitem-icon").addClass("tele-icon-actions"),m=$("<div>").addClass("tele-listitem-count").html(escapeHtml(b.value)),c.addClass("tele-listitem-actions-count"),c.append(d).append(m)):c=!1;break;case "cases":0<parseInt(b.value)?(d=$("<div>").addClass("tele-listitem-icon tele-icon-case"),m=$("<div>").addClass("tele-listitem-count").html(escapeHtml(b.value)),c.addClass("tele-listitem-cases-count"),c.append(d).append(m)):c=!1;break;
default:b.key&&(c.append(b.key),b.value&&c.append(":&nbsp;")),b.value&&c.append("<b>"+escapeHtml(b.value)+"</b>")}!1!==c&&f.append(c)}});c.append(f)}!1!==this.options.time&&(d=$("<div>").addClass("tele-listitem-time").html(date_format(this.options.timeFormat,this.options.time)),this.options.timeLabel&&d.prepend("<label>"+this.options.timeLabel+"</label>"),c.append(d));this._resize();$(window).resize(function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){a._resize()},50)});c.hover(function(){$(this).addClass("hover")},
function(){$(this).removeClass("hover")}).click(function(){a.options.callback&&a.options.callback(a)})},bindPopup:function(){this.element.hover(function(){},function(){})}});telepath.listitem||(telepath.listitem={});
telepath.listitem.generic={formatter_dashboard:function(a){return telepath.listitem.generic.formatter(a,"dashboard")},formatter:function(a,c){return result="dashboard"==c?{raw:a,icon:"suspect",time:a.ts,progbar:!0,itemID:a.sid,progbarBig:a.progbarBig,checkable:a.checkable,checked:a.checked,count:a.count,progbarValue:a.ip_score,time:a.date,details:[{key:"country",value:a.country},{key:"IP",value:a.ip_orig},{key:"host",value:grabNames(a.host)}]}:{raw:a,icon:"suspect",time:a.ts,progbar:!0,itemID:a.sid,
progbarBig:a.progbarBig,checkable:a.checkable,checked:a.checked,count:a.count,progbarValue:a.ip_score,time:a.date,details:[{key:"country",value:a.country},{key:"IP",value:a.ip_orig},{key:"city",value:a.city},{key:"host",value:grabNames(a.host)},{key:"alerts",value:a.alerts_count},{key:"actions",value:a.actions_count},{key:"cases",value:row.cases_count},{key:"user",value:a.user}]}},callbacks:{click:function(a){$(".popover").remove();setTimeout(function(){$(".popover").remove()},1E3);var c=a.element.parent().parent();
telepath.sessionflow.init(a.options.itemID,a.options.raw.ip_orig,c,a.options.icon,a.options.raw.alerts_names?a.options.raw.alerts_names:[],a.options.raw.searchkey)},hover_in:function(a,c){if(c){telepath.generic_popover_timer&&clearTimeout(telepath.generic_popover_timer);$(".popover").remove();telepath.generic_popover&&telepath.generic_popover.remove();telepath.generic_popover=$("<div>");$("body").append(telepath.generic_popover);if($(a).hasClass("tele-icon-alert")&&c.raw.alerts_count&&0<c.raw.alerts_count&&
c.raw.alerts_names&&0<c.raw.alerts_names.length){var d=$("<div>").addClass("popover-content");$.each(c.raw.alerts_names,function(a,b){var c=$("<div>").addClass("tele-popover-row").append($("<div>").addClass("tele-icon").addClass("tele-icon-alert")).append($("<div>").addClass("tele-count").text(b.doc_count)).append($("<div>").addClass("tele-popover-subtitle").html(b.key));d.append(c)});$(telepath.generic_popover).css({position:"absolute",top:$(a).offset().top-45,left:$(a).offset().left+40}).fadeIn().popover({title:"Alerts",
html:!0}).popover("show");$(".popover").append(d);var b=$(".popover").height()/2;b&&$(".popover").css({position:"absolute",top:$(a).offset().top-b,left:$(a).offset().left+40})}if($(a).hasClass("tele-icon-actions")&&c.raw.actions_count&&0<c.raw.actions_count&&c.raw.actions_names&&0<c.raw.actions_names.length){var f=$("<div>").addClass("popover-content");$.each(c.raw.actions_names,function(a,b){var c=$("<div>").addClass("tele-popover-row").append($("<div>").addClass("tele-icon").addClass("tele-icon-actions")).append($("<div>").addClass("tele-count").text(b.doc_count)).append($("<div>").addClass("tele-popover-subtitle").html(b.key));
f.append(c)});$(telepath.generic_popover).css({position:"absolute",top:$(a).offset().top-45,left:$(a).offset().left+40}).fadeIn().popover({title:"Actions",html:!0}).popover("show");$(".popover").append(f);(b=$(".popover").height()/2)&&$(".popover").css({position:"absolute",top:$(a).offset().top-b,left:$(a).offset().left+40})}if($(a).hasClass("tele-icon-case")&&c.raw.cases_count&&0<c.raw.cases_count&&c.raw.cases_names&&0<c.raw.cases_names.length){var g=$("<div>").addClass("popover-content");$.each(c.raw.cases_names,
function(a,b){var c=$("<div>").addClass("tele-popover-row").append($("<div>").addClass("tele-icon").addClass("tele-icon-case")).append($("<div>").addClass("tele-count").text(b.doc_count)).append($("<div>").addClass("tele-popover-subtitle").html(b.key));g.append(c)});$(telepath.generic_popover).css({position:"absolute",top:$(a).offset().top-45,left:$(a).offset().left+40}).fadeIn().popover({title:"Cases",html:!0}).popover("show");$(".popover").append(g);(b=$(".popover").height()/2)&&$(".popover").css({position:"absolute",
top:$(a).offset().top-b,left:$(a).offset().left+40})}$(a).hasClass("tele-listitem-progbar")&&($(telepath.generic_popover).css({position:"absolute",top:$(a).offset().top-2,left:$(a).offset().left+100}).fadeIn().popover({title:"Loading anomaly scores..",html:!0,content:telepath.loader}).popover("show"),telepath.ds.get("/sessionflow/get_session_stats",{sid:c.itemID},function(a){$(".popover-title:first").html("Anomaly Scores");$(".popover-content .tele-loader").after($("<div>").anomalyScore({request:a.items})).remove()}))}},
hover_out:function(a,c){telepath.generic_popover_timer=setTimeout(function(){$(".popover").fadeOut(function(){$(".popover").remove()})},500)},favorite:function(a){telepath.ds.get("/cases/set_case_fav",{cid:a.options.dataID,favorite:a.options.favorite},function(a){})}},callbacks_case:{click:function(a){telepath.access.admin||telepath.access.perm.Cases_get?($(".tele-nav-cases a").click(),$(".popover").remove(),telepath.casePanel.init(a.options.dataID)):telepath.dialog({msg:"Access denied. No permissions to view Cases details."})},
hover_in:function(a,c){var d=c.dataID;$(".popover").remove();telepath.cases.pop&&telepath.cases.pop.remove();telepath.cases.pop=$("<div>").css({position:"absolute",top:$(a).offset().top,left:$(a).offset().left+70});$("body").append(telepath.cases.pop);$(telepath.cases.pop).popover({title:"Loading Data",html:!0,content:telepath.loader}).popover("show");telepath.ds.get("/cases/get_case_stat",{cid:d},function(a){a=[{label:"Sessions",data:a.items,color:"#FC3D3D"}];var c=$("<div>").addClass("case-popover-graph");
$(".popover-title").html("Case Activity");$(".popover-content").empty().append(c);c.flotGraph({data:a,options:{legend:{show:!1},series:{lines:{show:!0,fill:!0},points:{show:!0,fillColor:"#446077"}},yaxis:{alignTicksWithAxis:!0,labelWidth:30,ticks:5,color:"#446077",font:{family:"Arial",color:"#cccccc",size:11,weight:"normal"}},selection:{mode:"x"},xaxis:{alignTicksWithAxis:!0,tickColor:"#cccccc",tickLength:7,font:{family:"Arial",color:"#cccccc",size:11,weight:"normal"},mode:"time",timezone:"browser",
timeformat:"%d/%m"},grid:{borderColor:"#446077",borderWidth:1}}})})},hover_out:function(a,c){telepath.cases.timeout&&clearTimeout(telepath.cases.timeout);telepath.cases.pop&&telepath.cases.pop.remove()},favorite:function(a){telepath.ds.get("/cases/set_case_fav",{cid:a.options.title,favorite:a.options.favorite},function(a){})}}};
$.widget("tele.toggleFlip",{options:{left_value:"On",right_value:"Off",flipped:!1,flip:!1,disabled:!1},_create:function(){this.element.addClass("tele-mini-toggle");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this,c=$("<div>").addClass("tele-mini-toggle-left").html(this.options.left_value),d=$("<div>").addClass("tele-mini-toggle-right").html(this.options.right_value),b=$("<div>").addClass("tele-mini-toggle-middle"),f=$("<a>").attr("href","#").addClass("tele-mini-toggle-knob").html("&nbsp;");
b.append(f);this.element.empty().append(c).append(b).append(d);this.options.flipped&&(f.addClass("active"),f.css({marginLeft:20}));this.options.disabled?this.element.css({opacity:.3}):f.click(function(b){b.preventDefault();a.options.flipped?($(this).removeClass("active"),$(this).animate({marginLeft:0},300)):($(this).addClass("active"),$(this).animate({marginLeft:20},300));a.options.flipped=!a.options.flipped;"function"==typeof a.options.flip&&a.options.flip(a.options.flipped)})}});
$.widget("tele.daterange",{options:{start:(new Date).getTime(),end:(new Date).getTime(),change:!1,state:""},_create:function(){this.element.addClass("tele-daterange");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_displayPopup:function(){function a(a){var b=a.val();if(""==b)return a.val(""),0;b=b.split(":");if(2==b.length)return 36E5*parseInt(b[0])+6E4*parseInt(b[1]);a.val("");return 0}var c=this;0==$(".tele-daterange-popup").size()&&$("body").append(telepath.templates["popup-daterange"]);
if("block"==$(".tele-daterange-popup").css("display"))$(".tele-daterange-popup").fadeOut();else{var d=$(".tele-daterange:last").offset().top+$(".tele-daterange:last").height()+20,b=$(".tele-daterange:last").offset().left+$(".tele-daterange:last").width()/2-$(".tele-daterange-popup").width()/2;$(".tele-daterange-popup").css({top:d,left:b});$(".tele-daterange-popup").fadeIn();$.datepicker._defaults.dateFormat="dd/mm/yy";$(".tele-daterange-calendar").datepicker({numberOfMonths:[1,2],beforeShowDay:function(a){var b=
$.datepicker.parseDate($.datepicker._defaults.dateFormat,$(".tele-daterange-from").val()),c=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$(".tele-daterange-to").val());return[!0,b&&(a.getTime()==b.getTime()||c&&a>=b&&a<=c)?"dp-highlight":""]},onSelect:function(a,b){var c=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$(".tele-daterange-from").val()),d=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$(".tele-daterange-to").val()),l=$.datepicker.parseDate($.datepicker._defaults.dateFormat,
a);!c||d?($(".tele-daterange-from").val(a),$(".tele-daterange-from-hour").val("00:00"),$(".tele-daterange-to").val(""),$(".tele-daterange-to-hour").val("23:59")):l<c?($(".tele-daterange-to").val($(".tele-daterange-from").val()),$(".tele-daterange-to-hour").val($(".tele-daterange-from-hours").val()),$(".tele-daterange-from").val(a),$(".tele-daterange-from-hour").val("00:00")):($(".tele-daterange-to").val(a),$(".tele-daterange-to-hour").val("23:59"));$(this).datepicker()}});$(".tele-daterange-period a").click(function(){$(".tele-daterange-period a.active").removeClass("active");
c.options.state=$(this).attr("class").split("-")[3];$(this).addClass("active");c.setPeriod()});$(".tele-daterange-buttons .tele-button-apply").click(function(){$(".tele-daterange-popup").fadeOut();if("function"==typeof c.options.change)if($(".tele-daterange-period a.active").length&&(telepath.range.state=$(".tele-daterange-period a.active").attr("class").split(/-| /)[3]),"range"==telepath.range.state){var b=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$(".tele-daterange-from").val()),
d=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$(".tele-daterange-to").val()),e=a($(".tele-daterange-from-hour")),h=a($(".tele-daterange-to-hour"));telepath.range.start=parseInt((b.getTime()+e)/1E3);telepath.range.end=parseInt((d.getTime()+h)/1E3);telepath.ds.get("/telepath/set_time_range",{state:telepath.range.state,start:telepath.range.start,end:telepath.range.end},function(a){c.options.change(telepath.range.start,telepath.range.end);c.options.state=telepath.range.state;c.options.start=
telepath.range.start;c.options.end=telepath.range.end;c._update()})}else telepath.ds.get("/telepath/set_time_range",{state:telepath.range.state},function(a){c.options.state=telepath.range.state;a=new Date;switch(c.options.state){case "data":telepath.range.start=telepath.fullRangeStart;break;case "year":a.setFullYear(a.getFullYear()-1);break;case "month":a.setMonth(a.getMonth()-1);break;case "week":a.setDate(a.getDate()-7);break;case "day":a.setDate(a.getDate()-1);break;case "hour":a.setHours(a.getHours()-
1)}"data"!=c.options.state&&(telepath.range.start=parseInt(a.getTime()/1E3));telepath.range.end=parseInt((new Date).getTime()/1E3);c.options.start=telepath.range.start;c.options.end=telepath.range.end;c.options.change(telepath.range.start,telepath.range.end);c._update()})});$(".tele-daterange-buttons .tele-button-cancel").click(function(){$(".tele-daterange-popup").fadeOut()});this.updateUI()}},_update:function(){this.updateUI()},setPeriod:function(){var a=this;$(".tele-darerange-container").addClass("disabled");
"range"==a.options.state&&($(".tele-darerange-container").removeClass("disabled"),telepath.ds.get("/telepath/set_full_time_range",{},function(c){telepath.range.start=c.items.start;telepath.range.end=c.items.end;a.options.start=telepath.range.start;a.options.end=telepath.range.end}));$(".tele-daterange-to").val(date_format("d/m/Y",telepath.range.end));$(".tele-daterange-to-hour").val(date_format("H:i",telepath.range.end));$(".tele-daterange-from").val(date_format("d/m/Y",telepath.range.start));$(".tele-daterange-from-hour").val(date_format("H:i",
telepath.range.start))},updateUI:function(){var a=this;this.button&&this.button.remove();$(".tele-daterange-period a.active").removeClass("active");$(".tele-daterange-period a").each(function(){$(this).attr("class").split("-")[3]==telepath.range.state&&$(this).addClass("active")});$(".tele-darerange-container").addClass("disabled");if("range"==telepath.range.state){var c=date_format("d/m/Y",this.options.start)+" - "+date_format("d/m/Y",this.options.end);$(".tele-darerange-container").removeClass("disabled")}else c=
"data"==telepath.range.state?"All Data":"Last "+telepath.range.state[0].toUpperCase()+telepath.range.state.slice(1);this.button=$("<a>").attr("href","#").btn({icon:"daterange",text:c,callback:function(){a._displayPopup(this)}});this.element.append(this.button);$(".tele-daterange-from").val(date_format("d/m/Y",this.options.start));$(".tele-daterange-from-hour").val(date_format("H:i",this.options.start));$(".tele-daterange-to").val(date_format("d/m/Y",this.options.end));$(".tele-daterange-to-hour").val(date_format("H:i",
this.options.end))}});
$.widget("tele.flotGraph",{options:{data:[],options:[],dashboard:!1,title:!1},_create:function(){this.element.addClass("tele-graph");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;this.canvasOuter=$("<div>").addClass("tele-graph-canvas-outer");this.canvasInner=$("<div>").addClass("tele-graph-canvas");this.element.empty();if(this.options.title){var c=$("<div>").addClass("tele-graph-title").html(this.options.title);this.element.append(c)}this.canvasOuter.append(this.canvasInner);this.element.append(this.canvasOuter);
if(this.options.dashboard){this.filterTypes=[{type:"noncase-alerts",label:"Alerts",count:0,active:!0,suffix:"Tx"},{type:"case-alerts",label:"Cases",count:0,active:!0,suffix:"Tx"},{type:"suspicions",label:"Suspects",count:0,active:!0,suffix:"Tx"},{type:"other-sessions",label:"Normal",count:0,active:!0,suffix:"Tx"}];var d=0;$.each(a.filterTypes,function(b,c){$.each(a.options.data,function(a,b){b.label==c.label&&(c.count=0,$.each(b.data,function(a,b){c.count+=parseInt(b[1]);d+=parseInt(b[1])}))})});
this.dashboardGraphFilters=$("<div>").addClass("tele-dashboard-graph-filters");$(".tele-graph-canvas-outer").append(this.dashboardGraphFilters);$.each(this.filterTypes,function(b,c){var g=$("<div>").addClass("tele-dashboard-graph-filter").addClass("tele-graph-filter-"+c.type),e=$("<a>").attr("href","#").addClass("tele-graph-filter-toggle").html("&nbsp;"),h=$("<div>").addClass("tele-graph-filter-title").text(c.label),l=$("<div>").addClass("tele-graph-filter-percent").text((0<d?parseFloat(c.count/d*
100).toFixed(2):0)+"%"),m=$("<div>").addClass("tele-graph-filter-count").text(c.count+" "+c.suffix);g.append(e).append(h).append(l).append(m);a.dashboardGraphFilters.append(g);l.css({marginRight:160-h.width()});m.css({marginRight:160-h.width()});c.active&&e.addClass("active");e.click(function(){$(this).hasClass("active")?($(this).removeClass("active"),a.filterTypes[b].active=!1):($(this).addClass("active"),a.filterTypes[b].active=!0);a.updateFilters()})});this.resize();this.dashboardGraphFilters.resize(function(){a.resize()});
this.updateFilters()}this.printData=this.options.data;this.plot()},updateFilters:function(){var a=this;this.printData=[];$.each(a.filterTypes,function(c,d){d.active&&$.each(a.options.data,function(b,c){c.label==d.label&&a.printData.push(c)})});this.plot()},plot:function(){this.plotObj=$.plot(this.canvasInner,this.printData,this.options.options)},resize:function(){var a=this.dashboardGraphFilters.width();$(".tele-dashboard-graph-filter").css({margin:0});var c=$(".tele-dashboard-graph-filter").outerWidth(),
c=Math.floor(Math.floor(a-c*this.filterTypes.length)/this.filterTypes.length)-1;$(".tele-dashboard-graph-filter").css({marginRight:c});$(".tele-graph-filter-title").css({fontSize:800>a?"16px":"20px"})}});
$.widget("tele.vMap",{options:{data:[],title:!1},_create:function(){this.element.addClass("tele-map");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){this.element.empty();if(this.options.title){var a=$("<div>").addClass("tele-graph-title").html(this.options.title);this.element.append(a)}var c=0,d=0;$.each(this.options.data,function(a,b){"00"!==a&&b>c&&(c=b);d+=b});this.scaleWrap=$("<div>").addClass("tele-scale-wrap");this.scaleLeft=$("<div>").addClass("tele-scale-left").html("0");
this.scaleGrad=$("<div>").addClass("tele-scale-grad");this.scaleRight=$("<div>").addClass("tele-scale-right").html(c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" ("+d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+")");this.scaleWrap.append(this.scaleLeft).append(this.scaleGrad).append(this.scaleRight);this.vectorMap=$("<div>").css({clear:"both",height:300,padding:"15px 0px 0px 0px"});this.element.append(this.scaleWrap);this.element.append(this.vectorMap);var b=[];$.each(this.options.data,function(a,
c){b[a.toLowerCase()]=c});this.vectorMap.vectorMap({map:"world_en",backgroundColor:"#304F68",color:"#C4E8B2",hoverOpacity:.7,selectedColor:"#666666",enableZoom:!0,showTooltip:!0,values:b,scaleColors:["#C4E8B2","#60BB3C"],normalizeFunction:"polynomial",onRegionClick:function(a,b){telepath.alerts.searchString="country_code:"+b.toUpperCase();$(".tele-nav-alerts a").click();setTimeout(function(){$(".tele-panel-alerts .tele-search-input").val(telepath.alerts.searchString);$(".jqvmap-label").remove()},
100)},onLabelShow:function(a,b,c){a=$("<div>").addClass("tele-popover-row");var d=$("<div>").addClass("tele-icon tele-icon-alert"),l=$("<div>").addClass("tele-count").html(telepath.dashboard.data.items.map[c.toUpperCase()]?telepath.dashboard.data.items.map[c.toUpperCase()]:0);c=$("<span>").addClass("tele-popover-subtitle").html(telepath.countries.a2n(c.toUpperCase()));a.append(d).append(l).append(c);b.empty();b.append(a)}})}});
$.widget("tele.anomalyScore",{options:{request:[]},_create:function(){this.element.addClass("tele-anomaly-score");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;this.options.speed=this.options.request.score_landing;this.options.direction=this.options.request.score_flow;this.options.query=this.options.request.score_query;this.options.location=this.options.request.score_geo;$.each(["speed","direction","query","location"],function(c,d){var b=
parseInt(100*a.options[d]),f=$("<div>").addClass("tele-anomaly-wrap"),g=$("<div>").addClass("tele-anomaly-icon").addClass("tele-icon-"+d),e=$("<div>").addClass("tele-anomaly-text").html(d.charAt(0).toUpperCase()+d.slice(1)),h=$("<div>").addClass("tele-anomaly-value").html(b+"%");f.append(g).append(e).append(h);25<b&&(g.addClass("active"),e.addClass("active"),h.addClass("active"));a.element.append(f)})}});
$.widget("tele.anomalyScore",{options:{request:[]},_create:function(){this.element.addClass("tele-anomaly-score");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;this.options.speed=this.options.request.score_landing;this.options.direction=this.options.request.score_flow;this.options.query=this.options.request.score_query;this.options.location=this.options.request.score_geo;$.each(["speed","direction","query","location"],function(c,d){var b=
parseInt(100*a.options[d]),f=$("<div>").addClass("tele-anomaly-wrap"),g=$("<div>").addClass("tele-anomaly-icon").addClass("tele-icon-"+d),e=$("<div>").addClass("tele-anomaly-text").html(d.charAt(0).toUpperCase()+d.slice(1)),h=$("<div>").addClass("tele-anomaly-value").html(b+"%");f.append(g).append(e).append(h);25<b&&(g.addClass("active"),e.addClass("active"),h.addClass("active"));a.element.append(f)})}});
$.widget("tele.anomalyScore",{options:{request:[]},_create:function(){this.element.addClass("tele-anomaly-score");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;this.options.speed=this.options.request.score_landing;this.options.direction=this.options.request.score_flow;this.options.query=this.options.request.score_query;this.options.location=this.options.request.score_geo;$.each(["speed","direction","query","location"],function(c,d){var b=
parseInt(100*a.options[d]),f=$("<div>").addClass("tele-anomaly-wrap"),g=$("<div>").addClass("tele-anomaly-icon").addClass("tele-icon-"+d),e=$("<div>").addClass("tele-anomaly-text").html(d.charAt(0).toUpperCase()+d.slice(1)),h=$("<div>").addClass("tele-anomaly-value").html(b+"%");f.append(g).append(e).append(h);25<b&&(g.addClass("active"),e.addClass("active"),h.addClass("active"));a.element.append(f)})}});
$.widget("tele.notifications",{options:{interval:1E4},toShow:[],indexes:!1,showNotifications:function(){$.each(this.toShow,function(a,c){$.pnotify(c)});this.toShow=[];this.count.html(0)},_create:function(){this.element.addClass("tele-notify");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;telepath.ds.get("/notifications/get_syslog",{},function(a){a.items&&0<a.items.length&&$.each(a.items,function(a,b){"CMD"==b.substr(0,3)?eval(b.substr(4)):
console.log("SYSLOG:: "+b)})});telepath.ds.get("/notifications/get_indexes",{time:this.time},function(c){a.indexes?($.each(a.indexes,function(d,b){$.each(c.items,function(c,g){if(d==c&&g>b)switch(d){case "requests":a.indexes[d]=g}})}),a.count&&a.count.html(a.toShow.length)):a.indexes=c.items})}});
$.widget("tele.notifications",{options:{interval:1E4},toShow:[],indexes:!1,showNotifications:function(){$.each(this.toShow,function(a,c){$.pnotify(c)});this.toShow=[];this.count.html(0)},_create:function(){this.element.addClass("tele-notify");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_update:function(){var a=this;telepath.ds.get("/notifications/get_syslog",{},function(a){a.items&&0<a.items.length&&$.each(a.items,function(a,b){"CMD"==b.substr(0,3)?eval(b.substr(4)):
console.log("SYSLOG:: "+b)})});telepath.ds.get("/notifications/get_indexes",{time:this.time},function(c){a.indexes?($.each(a.indexes,function(d,b){$.each(c.items,function(c,g){if(d==c&&g>b)switch(d){case "requests":a.indexes[d]=g}})}),a.count&&a.count.html(a.toShow.length)):a.indexes=c.items})}});
telepath.overlay={resize:function(){var a=$(".tele-overlay").height()-$(".tele-overlay-header").height();0<this.minheight&&this.minheight>a&&(a=this.minheight);$(".tele-overlay-content").height(a);$(".tele-overlay").css({marginTop:-1*($(".tele-overlay").height()/2)})},keydownHandler:function(a){27==a.keyCode&&telepath.overlay.destroy()},destroy:function(){$(".tele-overlay, .tele-overlay-mask").remove();$(document).unbind("keydown",telepath.overlay.keydownHandler)},init:function(a,c,d,b){telepath.overlay.destroy();
this.maskEl=$("<div>").addClass("tele-overlay-mask");this.overlayEl=$("<div>").addClass("tele-overlay").addClass("tele-overlay-"+a);this.iconEl=$("<div>").addClass("tele-overlay-icon").addClass("tele-icon").addClass("tele-icon-"+a);this.headerEl=$("<div>").addClass("tele-overlay-header");this.contentEl=$("<div>").addClass("tele-overlay-content");this.titleEl=$("<div>").addClass("tele-overlay-title").html(c);this.closeEl=$("<a>").attr("href","#").addClass("tele-overlay-close").addClass("tele-icon").addClass("tele-icon-close");
this.minheight="undefined"!==typeof b?b:0;$("body").append(this.maskEl);$("body").append(this.overlayEl);this.overlayEl.append(this.iconEl).append(this.headerEl).append(this.contentEl);this.headerEl.append(this.titleEl).append(this.closeEl);this.closeEl.click(function(){telepath.overlay.destroy()}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});$(document).bind("keydown",telepath.overlay.keydownHandler);d&&(a=$(window).height()-100,0<this.minheight&&this.minheight>
a&&(a=this.minheight),c=$(window).width()-100,$(".tele-overlay").css({height:a,width:c,marginLeft:-1*parseInt(c/2),marginTop:-1*parseInt(a/2)}));$(".tele-overlay").resize(function(){telepath.overlay.resize()});telepath.overlay.resize();$(this.overlayEl).draggable({handle:this.headerEl})}};
$.widget("tele.pagination",{options:{count:0,name:"Alert",current:0,callback:function(){}},_create:function(){this.element.addClass("tele-pagination");this._update()},_setOption:function(a,c){this.options[a]=c;this._update()},_destroy:function(){$(document).unbind("keydown",this.keyDown)},_update:function(){var a=this;telepath.pagination=this;this.element.empty();var c=1<this.options.count?this.options.name+"s":this.options.name,d=this.options.current+1+"/"+this.options.count;this.titleEl=$("<div>").addClass("tele-pagination-title").html(d+
"&nbsp;"+c);this.prevEl=$("<div>").addClass("tele-pagination-prev").addClass("tele-icon").addClass("tele-icon-prev");this.nextEl=$("<div>").addClass("tele-pagination-next").addClass("tele-icon").addClass("tele-icon-next");this.prevEl.hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});this.nextEl.hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});this.element.append(this.prevEl,this.titleEl,this.nextEl);this.prevEl.click(function(){a.scrollPrev()});
this.nextEl.click(function(){a.scrollNext()});this._constrain();this.titleEl.attr("unselectable","on").css("user-select","none").on("selectstart",!1);$(document).unbind("keydown",this.keyDown);$(document).bind("keydown",this.keyDown)},_constrain:function(){0==this.options.current?this.prevEl.css({visibility:"hidden"}):this.prevEl.css({visibility:"visible"});this.options.current==this.options.count-1?this.nextEl.css({visibility:"hidden"}):this.nextEl.css({visibility:"visible"})},scrollPrev:function(){0<
this.options.current&&(this.options.current--,this._update(),this.options.callback(this.options.current))},scrollNext:function(){this.options.current<this.options.count-1&&(this.options.current++,this._update(),this.options.callback(this.options.current))},keyDown:function(a){"37"==a.keyCode&&telepath.pagination.scrollPrev();"39"==a.keyCode&&telepath.pagination.scrollNext()}});
telepath.config={loaded:!1,init:function(){this.outerContainer=$(".tele-panel-config");this.initTabs()},initTabs:function(){var a=this;$("canvas").remove();this.panelTopBar=$("<div>").addClass("tele-panel-topbar");this.outerContainer.append(this.panelTopBar);this.tabs=[];telepath.access.admin&&this.tabs.push({icon:"accounts",text:"Telepath Users"});(telepath.access.admin||telepath.access.perm.Applications_get)&&this.tabs.push({icon:"applications",text:"Applications"});(telepath.access.admin||telepath.access.perm.Rules_get)&&
this.tabs.push({icon:"rules",text:"Rules"});(telepath.access.admin||telepath.access.perm.Workflow_get)&&this.tabs.push({icon:"actions",text:"Business Actions"});(telepath.access.admin||telepath.access.perm.Config_get)&&this.tabs.push({icon:"system",text:"Advanced"});for(x in this.tabs){var c=this.tabs[x];c.callback=function(c){$(".tele-config-tab .active").removeClass("active");$(".tele-icon",c.element).addClass("active");$(".tele-button-text",c.element).addClass("active");var b=c.options.icon;a.currentPanel=
b;a.container.empty();$("#file-upload").hide();telepath.config[b].container=a.container;telepath.config[b].initLayout=a.initLayout;telepath.config[b].resizeLayout=a.resizeLayout;telepath.config[b].initLayout();telepath.config[b].resizeLayout();telepath.config[b].init();$(window).resize(function(){telepath.config[b].resizeLayout()})};c=$("<div>").btn(c).addClass("tele-config-tab");this.panelTopBar.append(c);this.panelTopBar.append('<div class="tele-navsep"></div>')}$(".tele-navsep:last",this.panelTopBar).remove();
this.container=$("<div>").addClass("tele-panel-config-inner");this.outerContainer.append(this.container);this.container.append(telepath.loader);telepath.config.load()},load:function(a){this.start()},start:function(){var a=this;setTimeout(function(){a.container.empty();$(".tele-button.tele-config-tab:nth-child(1) .tele-button-text").trigger("click")},500)},initLayout:function(){this.barEl=$("<div>").addClass("tele-config-bar").addClass("tele-panel-subtitle");this.barLeft=$("<div>").addClass("tele-config-bar-left");
this.barRight=$("<div>").addClass("tele-config-bar-right");this.contentEl=$("<div>").addClass("tele-config-content");this.contentLeft=$("<div>").addClass("tele-config-content-left");this.contentRight=$("<div>").addClass("tele-config-content-right");this.barEl.append(this.barLeft).append(this.barRight);this.contentEl.append(this.contentLeft).append(this.contentRight);this.container.append(this.barEl).append(this.contentEl)},resizeLayout:function(){this.barEl.css({height:40,width:"100%",background:"#333333"});
var a=$(window).height(),c=$(window).width();1200>c?1024>c?$(".tele-config-tab").css({margin:"5px 10px 0px 10px"}):$(".tele-config-tab").css({margin:"5px 20px 0px 20px"}):$(".tele-config-tab").css({margin:"5px 30px 0px 30px"});$(".tele-body").css({height:a});a=a-$(".tele-header").outerHeight()-$(".tele-panel-topbar").outerHeight()-$(".tele-panel-subtitle").outerHeight();$(".tele-block").height(a-20);$(".tele-block .tele-list").height(a-50);$(".tele-list").mCustomScrollbar("update");this.contentEl.css({height:a});
if(this.contentRight.hasClass("tele-stacked"))this.contentLeft.width(c),this.contentRight.width(c),this.contentRight.css({height:a-this.contentLeft.outerHeight()-20});else{var d=520;this.contentLeft.width(d);this.contentRight.width(c-d-20);this.contentLeft.css({height:a});$(".tele-tree",this.contentLeft).css({height:a}).mCustomScrollbar("update");this.contentRight.css({height:a})}this.barLeft.width(d);this.barRight.width(c-d-20)},startsWith2:function(a,c){if(a.length<c.length)return!1;for(var d=c.length-
1;0<=d&&a[d]===c[d];--d);return 0>d}};
telepath.dashboard={divs:0,data:{items:{}},sort:"count",dir:!1,refreshTimer:!1,refreshInterval:5,reloadFlag:Date.now(),loading:!1,map_mode:!1,getData:function(){this.loading=!0;$(".tele-panel-dashboard-refresh-button").hide();$(".tele-panel-dashboard-refresh").css("paddingRight","+=47px");setTimeout(function(){telepath.dashboard.loading=!1;$(".tele-panel-dashboard-refresh-button").fadeIn();$(".tele-panel-dashboard-refresh").css("paddingRight","-=47px")},5E3);telepath.ds.get("/dashboard/get_map",{},
function(a,c){c&&telepath.dashboard.reloadFlag&&c!=telepath.dashboard.reloadFlag||(telepath.dashboard.map_mode=a.items.map_mode,$(".tele-panel-dashboard .tele-panel-subtitle-right .tele-mini-toggle").toggleFlip({flipped:"traffic"==a.items.map_mode}),telepath.dashboard.data.items.map=a.items.map,telepath.dashboard.map.vMap({data:telepath.dashboard.data.items.map,title:"traffic"==a.items.map_mode?"Traffic over time":"Alerts over time"}),$(window).trigger("resize"))},null,telepath.dashboard.reloadFlag);
telepath.ds.get("/dashboard/get_chart",{},function(a,c){c&&telepath.dashboard.reloadFlag&&c!=telepath.dashboard.reloadFlag||(telepath.dashboard.data.items.chart=a.items.chart,telepath.dashboard.drawGraph(),$(window).trigger("resize"))},null,telepath.dashboard.reloadFlag);telepath.ds.get("/dashboard/get_suspects",{sort:this.sort,dir:this.dir},function(a,c){c&&telepath.dashboard.reloadFlag&&c!=telepath.dashboard.reloadFlag||(telepath.dashboard.data.items.suspects=a.items.suspects,telepath.dashboard.initSuspects(),
$(window).trigger("resize"))},null,telepath.dashboard.reloadFlag);telepath.ds.get("/dashboard/get_alerts",{sort:this.sort,dir:this.dir},function(a,c){c&&telepath.dashboard.reloadFlag&&c!=telepath.dashboard.reloadFlag||(telepath.dashboard.data.items.alerts=a.items.alerts,telepath.dashboard.initAlerts(),$(window).trigger("resize"))},null,telepath.dashboard.reloadFlag);telepath.ds.get("/dashboard/get_cases",{},function(a,c){if(!c||!telepath.dashboard.reloadFlag||c==telepath.dashboard.reloadFlag){var d=
[],b,f=a.items.cases?a.items.cases.length:0;for(b=0;b<f;++b)d.push(a.items.cases[b]);telepath.dashboard.data.items.cases=d;telepath.dashboard.initCases();$(window).trigger("resize")}},null,telepath.dashboard.reloadFlag)},initCases:function(){if(telepath.access.admin||telepath.access.perm.Cases_get)this.divs+=1,this.casesList=$("<div>").addClass("tele-dashboard-block"),$(".tele-panel-dashboard").append(this.casesList),this.casesList.teleList({title:"Recent Cases",titleCallback:function(){$(".tele-nav-cases a").click()},
data:this.data.items.cases,formatter:function(a){return telepath["case"].rowFormatter(a,"dashboard")},callbacks:telepath.listitem.generic.callbacks_case})},initAlerts:function(){if(telepath.access.admin||telepath.access.perm.Alerts_get)this.divs+=1,this.alertsList=$("<div>").addClass("tele-dashboard-block"),$(".tele-panel-dashboard").append(this.alertsList),this.alertsList.teleList({title:"Recent Alerts",titleCallback:function(){$(".tele-nav-alerts a").click()},data:this.data.items.alerts.items,formatter:function(a){a.checkable=
!1;return telepath.alert.rowFormatter(a,"dashboard")}})},initSuspects:function(){if(telepath.access.admin||telepath.access.perm.Suspects_get)this.divs+=1,this.suspectsList=$("<div>").addClass("tele-dashboard-block"),$(".tele-panel-dashboard").append(this.suspectsList),this.suspectsList.teleList({title:"Top Suspects",titleCallback:function(){$(".tele-nav-suspects a").click()},data:this.data.items.suspects.items,formatter:function(a){a.checkable=!1;return telepath.suspects.rowFormatter(a,"dashboard")}})},
refresh:function(a){this.init()},init:function(){var a=this;this.getData();this.resetContainer();this.showFilters();this.resize();0<$(".tele-panel-dashboard").size()&&$(window).resize(function(){a.resize()})},drawGraph:function(){this.graph.flotGraph({data:[{label:"Alerts",data:this.data.items.chart.alerts,color:"#64a5bc"},{label:"Normal",data:this.data.items.chart.sessions,color:"#986da0"},{label:"Cases",data:this.data.items.chart.cases,color:"#ff850b"},{label:"Suspects",data:this.data.items.chart.suspects,
color:"#6ab789"}],options:{legend:{show:!1},series:{lines:{show:!0,fill:!0},points:{show:!0,fillColor:"#446077"}},yaxis:{alignTicksWithAxis:!0,labelWidth:30,ticks:5,color:"#446077",font:{family:"Arial",color:"#cccccc",size:11,weight:"normal"}},selection:{mode:"x"},xaxis:{alignTicksWithAxis:!0,tickColor:"#cccccc",tickLength:7,font:{family:"Arial",color:"#cccccc",size:11,weight:"normal"},mode:"time",timezone:"browser",timeformat:48<(telepath.range.end-telepath.range.start)/3600?"%d/%m/%y":"%d/%m %h:%M:%S"},
grid:{borderColor:"#446077",borderWidth:1,hoverable:!0,clickable:!0},tooltip:!0,tooltipOpts:{content:"%s | date & time: %x | sessions: %y"}},dashboard:!0,title:"Overall Transactions"})},resetContainer:function(a){this.divs=0;var c=this;$(".tele-panel-dashboard .tele-panel-subtitle-right .tele-mini-toggle").toggleFlip({flipped:"traffic"==telepath.dashboard.data.items.map});var d=$(".tele-panel-dashboard");d.empty();d.append('<div class="tele-panel-topbar"><div class="tele-panel-title">Dashboard</div><div class="tele-panel-topbar-right"></div></div>');
if(a)d.append(telepath.loader);else{d.append('<div class="tele-panel-subtitle"><div class="tele-panel-subtitle-text">Traffic and Alerts Trends</div><div class="tele-panel-subtitle-right"></div></div>');a=$("<div>").toggleFlip({left_value:"Alerts",right_value:"Traffic",flipped:"traffic"==c.map_mode,flip:function(a,b){c.map.empty();c.map.append(telepath.loader);a?telepath.ds.get("/dashboard",{mode:"map_traffic"},function(a){telepath.dashboard.data.items.map=a.items.traffic;c.map.vMap({data:a.items.traffic,
title:"Traffic over time"})}):telepath.ds.get("/dashboard",{mode:"map_alerts"},function(a){telepath.dashboard.data.items.map=a.items.map;c.map.vMap({data:a.items.map,title:"Alerts over time"})})}});var b=$("<div>").toggleFlip({left_value:"Static",right_value:"Realtime",flip:function(a,b){a?(c.graph.hide(),c.graph_realtime.show(),telepath.realtime.start(c.graph_realtime),$(".tele-panel-subtitle-text").html("Realtime Monitor")):(c.graph.show(),c.graph_realtime.hide(),telepath.realtime.stop(),$(".tele-panel-subtitle-text").html("Traffic and Alerts Trends"))}}).hide();
$(".tele-panel-dashboard .tele-panel-subtitle-right").append(b);$(".tele-panel-dashboard .tele-panel-subtitle-right").append(a);a=$("<div>").css("background-color","#304f68").css("width","100%");b=$("<div>").css("clear","both");this.map=$("<div>");this.graph=$("<div>");a.append(this.map);a.append(this.graph);a.append(b);d.append(a);this.graph_realtime=$("<div>").addClass("tele-graph-realtime");d.append(this.graph_realtime)}},resize:function(){if(0!=$(".tele-panel-dashboard").children().size()){var a=
$(window).width(),c=parseInt(100/this.divs);1025>a?($(".tele-map").width("100%"),$(".tele-graph").width("100%"),$(".tele-dashboard-block").width("100%")):($(".tele-map").width("33%"),$(".tele-graph").width("67%"),$(".tele-dashboard-block").width(c+"%"))}},updateRefreshInterval:function(a){a&&(this.refreshInterval=a);this.cmdRefreshValue.html(this.refreshInterval+"m");this.refreshTimer&&clearInterval(this.refreshTimer);this.refreshTimer=setInterval(function(){telepath.dashboard.refresh()},6E4*this.refreshInterval)},
showFilters:function(){var a=this,c=$(".tele-panel-dashboard .tele-panel-topbar-right");c.empty();var d=$("<div>").appSelect({callback:function(a){$(".tele-icon-application",d).removeClass("tele-icon-application").addClass("tele-icon-loader");telepath.dashboard.refresh(function(){$(".tele-icon-loader",d).addClass("tele-icon-application").removeClass("tele-icon-loader")})}}),b=$("<div>").addClass("tele-panel-dashboard-refresh"),f=$("<a>").attr("href","#").addClass("tele-panel-dashboard-refresh-text").html("Refresh Rate");
this.cmdRefreshValue=$("<a>").attr("href","#").addClass("tele-panel-dashboard-refresh-value").html(this.refreshInterval+"m");var g=$("<a>").attr("href","#").addClass("tele-panel-dashboard-refresh-button").html("&nbsp;");b.append(f).append(this.cmdRefreshValue).append(g);g.click(function(){if(!telepath.dashboard.loading){$(this).addClass("loader");var a=this;telepath.dashboard.refresh(function(){$(a).removeClass("loader")})}});var f=$("<div>").daterange({start:telepath.range.start,end:telepath.range.end,
change:function(a,b){telepath.dashboard.reloadFlag=Date.now();g.addClass("loader");telepath.dashboard.refresh(function(){g.removeClass("loader")})}}),e=$("<div>").radios({title:"Sort By",items:[{id:"date",icon:"time",tip:"Time"},{id:"count",icon:"bars",tip:"Count"}],selected:this.sort,callback:function(b,c){a.sort==c&&(a.dir=!a.dir);a.sort=c;a.refresh()}});c.append(e).append('<div class="tele-navsep"></div>').append(f).append('<div class="tele-navsep"></div>').append(d).append('<div class="tele-navsep"></div>').append(b);
$(".tele-panel-dashboard-refresh-value").click(function(){$("body").append('<div class="tele-popup tele-refreshrate-popup"><input class="tele-refreshrate-slider" /></div>');if("block"==$(".tele-refreshrate-popup").css("display"))$(".tele-refreshrate-popup").fadeOut("fast",function(){$(this).remove()});else{var b=$(this).offset().top+$(this).height()+20,c=$(this).offset().left+$(this).width()/2-$(".tele-daterange-popup").width()/2-150;$(".tele-refreshrate-popup").css({top:b,left:c});$(".tele-refreshrate-popup").fadeIn();
a.refresh_slider=$(".tele-refreshrate-slider").slider({orientation:"horizontal",max:60,min:1,value:parseInt(telepath.dashboard.refreshInterval)}).on("slide",function(a){a=telepath.dashboard.refresh_slider.val();telepath.dashboard.updateRefreshInterval(a)})}})}};
telepath.realtime={container:!1,timer:!1,count:0,options:{legend:{show:!0,color:"yellow",labelBoxBorderColor:"white",position:"sw",backgroundColor:"white",backgroundOpacity:1,margin:10},series:{lines:{show:!0,fill:!0},points:{show:!0,fillColor:"#446077"},color:"yellow"},xaxis:{mode:"time",tickFormatter:function(a,c){var d=new Date(a),b=10>d.getHours()?"0"+d.getHours():d.getHours(),f=10>d.getMinutes()?"0"+d.getMinutes():d.getMinutes(),d=10>d.getSeconds()?"0"+d.getSeconds():d.getSeconds();return b+
":"+f+":"+d},axisLabel:"Time",axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Verdana, Arial",axisLabelPadding:10},yaxes:[{axisLabel:"Dropped",axisLabelUseCanvas:!0,axisLabelFontColor:"#cecece",font:{family:"Arial",color:"white",size:11,weight:"normal"},axisLabelPadding:6,min:0},{position:"right",axisLabel:"Requests",axisLabelUseCanvas:!0,axisLabelFontColor:"#cecece",font:{family:"Arial",color:"white",size:11,weight:"normal"},axisLabelPadding:6},{position:"right",axisLabel:"Packets",
axisLabelUseCanvas:!0,axisLabelFontColor:"#cecece",font:{family:"Arial",color:"white",size:11,weight:"normal"},axisLabelPadding:14}],grid:{borderColor:"#446077",borderWidth:1}},offsets:{init:!1,packets:0,loss:0,requests:0},start:function(a){this.container=a;a=(new Date).getTime()-6E4;this.data={packets:[],loss:[],requests:[]};for(var c=0;60>c;c++){var d=[a+=1E3,0];this.data.packets.push(d);this.data.loss.push(d);this.data.requests.push(d)}a=[{label:"Packets:",data:this.data.packets,lines:{fill:!0,
lineWidth:1.2},color:"#6ab789"},{label:"Dropped:",data:this.data.loss,lines:{lineWidth:1.2},color:"#64a5bc",yaxis:3},{label:"Requests:",data:this.data.requests,color:"#986da0",bars:{show:!0},yaxis:2}];$.plot($(this.container),a,this.options);this.timer=setInterval(this.getData,1E3)},stop:function(){clearInterval(this.timer);this.container.empty()},tick:function(){telepath.realtime.count+=1},getData:function(){$.ajaxSetup({cache:!1});$.ajax({url:telepath.controllerPath+"/realtime/index",dataType:"json",
success:function(a){a["capture.kernel_packets"]=parseInt(a["capture.kernel_packets"]);a["capture.kernel_drops"]=parseInt(a["capture.kernel_drops"]);if(telepath.realtime.offsets.init){telepath.realtime.data.packets.shift();telepath.realtime.data.loss.shift();telepath.realtime.data.requests.shift();var c=(new Date).getTime();telepath.realtime.data.packets.push([c,a["capture.kernel_packets"]-telepath.realtime.offsets.packets]);telepath.realtime.data.loss.push([c,a["capture.kernel_drops"]-telepath.realtime.offsets.loss]);
telepath.realtime.data.requests.push([c,a.cmd_set-telepath.realtime.offsets.requests]);c=[{label:"Dropped",data:telepath.realtime.data.loss,lines:{lineWidth:1.2},color:"#640000"},{label:"Packets",data:telepath.realtime.data.packets,lines:{fill:!0,lineWidth:1.2},color:"#986da0",yaxis:3},{label:"Requests",data:telepath.realtime.data.requests,color:"#6ab789",yaxis:2}];$.plot($(telepath.realtime.container),c,telepath.realtime.options);telepath.realtime.offsets.packets=a["capture.kernel_packets"];telepath.realtime.offsets.loss=
a["capture.kernel_drops"];telepath.realtime.offsets.requests=a.cmd_set}else telepath.realtime.offsets.packets=a["capture.kernel_packets"],telepath.realtime.offsets.loss=a["capture.kernel_drops"],telepath.realtime.offsets.requests=a.cmd_set,telepath.realtime.offsets.init=!0},error:function(){}});$.ajaxSetup({cache:!0})}};
telepath["case"]={rowFormatter:function(a,c){a._source&&(a=a._source);a.data=a.case_data.details;var d=[];$.each(a.data,function(a,c){d.push({key:c.type,value:telepath.formatConditionBrief(!1,c)})});a.checkable||(a.checkable=!1);a.favorites||(a.favorites=!1,a.favorite=!1);return"dashboard"==c?{details:d,dataID:a.name,icon:"case",title:a.name,count:a.count,time:a.last_time,favorite:a.favorite}:{checkable:a.checkable,favorites:a.favorites,favorite:a.favorite,dataID:a.name,icon:"case",title:a.name,count:a.count,
updating:a.case_data.updating,details:d,time:a.last_time}}};
telepath.caseOverlay={addCase:function(){this.initUI({id:"new",case_data:{case_name:"New Case",details:[]}})},editCase:function(a){this.initUI(a)},initUI:function(a){var c=this;this.data=a;telepath.overlay.init("case-edit",a.case_data.case_name);$(".tele-overlay").height(860).trigger("resize");var d=$("<div>").teleInput({label:"Name",value:"new"==a.id?"":a.case_data.case_name,disabled:"new"==a.id?!1:!0});telepath.overlay.contentEl.append(d);var b=$("<div>").addClass("tele-title-1").text("Traffic matching following conditions will be aggregated into this case");
telepath.overlay.contentEl.append(b);var f=$("<div>").conditionList({data:a.case_data.details});telepath.overlay.contentEl.append(f);a=$("<div>").addClass("tele-button-container");var b=$('<a href="#" class="tele-button tele-button-apply">Save</a>'),g=$('<a href="#" class="tele-button tele-button-cancel">Cancel</a>');a.append(b).append(g);telepath.overlay.contentEl.append(a);b.click(function(){var a=f.data("tele-conditionList").getJSON(),b=d.data("tele-teleInput").input.val();d.removeClass("error");
0==b.length||32<b.length?d.addClass("error"):0==a.length?telepath.dialog({title:"Case Editor",msg:"Must have at least one condition"}):($(".tele-icon-case-edit").append(telepath.loader).css({backgroundColor:"#555"}),"new"==c.data.id?telepath.ds.get("/cases/add_case",{name:b,case_data:JSON.stringify(a)},function(a){a.items.existing?telepath.dialog({title:"Case Editor",msg:"Already have a case with this name"}):(telepath.overlay.destroy(),telepath.cases.refresh(function(){}),telepath.ds.get("/cases/flag_requests_by_cases",
{"case":[b],range:!1,method:"add"},function(a){telepath.cases.refresh(function(){})}))}):telepath.ds.get("/cases/set_case",{name:b,case_data:JSON.stringify(a)},function(a){a.existing?telepath.dialog({title:"Case Editor",msg:"Already have a case with this name"}):(telepath.overlay.destroy(),telepath.cases.refresh(function(){}),telepath.ds.get("/cases/flag_requests_by_cases",{"case":[b],range:!1,method:"update"},function(a){telepath.cases.refresh(function(){})}))}))});g.click(function(){telepath.overlay.destroy()})}};
telepath.casePanel={data:{},sort:"date",dir:!1,init:function(a){$(".tele-panel-case").remove();this.container=$("<div>").addClass("tele-panel-case");$(".tele-panel-cases").append(this.container);$(".tele-panel-cases-inner").hide();this.panelTopBar=$("<div>").addClass("tele-panel-topbar");this.panelTitle=$("<div>").addClass("tele-panel-title");this.panelTopBar.append(this.panelTitle);this.panelTitle.html("Loading Case # "+a);this.container.append(this.panelTopBar);this.container.append('<img class="loader" src="img/loader.gif">');
this.getData(a)},refresh:function(a){telepath.ds.get("/cases/get_case",{start:telepath.range.start,end:telepath.range.end,apps:telepath.appFilter,sort:this.sort,dir:this.dir,cid:this.caseID},function(c){telepath.casePanel.loadData(c);"function"==typeof a&&a()})},getData:function(a){this.caseID=a;this.refresh()},loadData:function(a){var c=this;this.data=a;$(".loader",this.container).remove();$(".tele-case-graph, .tele-wrapper, .tele-panel-subtitle, .tele-infoblock, .mCustomScrollbar",this.container).remove();
this.panelTopBar.empty();this.panelTitle=$("<div>").addClass("tele-panel-title");this.panelTopBar.append(this.panelTitle);this.panelTitle.html(this.data["case"].case_data.case_name+" | "+this.data.count+" Sessions");this.favEl=$("<a>").cb({icon:"favorites",checked:"1"==a["case"].favorite,callback:function(a){telepath.ds.get("/cases/set_case_fav",{cid:c.caseID,favorite:a.options.checked},function(a){})}});this.panelTopBar.prepend(this.favEl);this.caseDesc=$("<div>").addClass("tele-panel-description");
$.each(a["case"].case_data.details,function(a,b){var d=$("<span>").html(b.type+":&nbsp;"),f=$("<span>").html(telepath.formatConditionBrief(!1,b));c.caseDesc.append(d).append(f).append("<span>&nbsp;|&nbsp;</span>")});$("span:last",c.caseDesc).remove();this.goBack=$("<a>").attr("href","#").addClass("tele-panel-case-close").html("|&nbsp;Back to all cases");this.panelTopBar.append(this.goBack);this.editCase=$("<div>").btn({icon:"caseConfig",text:"Edit Case",callback:function(){telepath.caseOverlay.editCase(c.data["case"])}});
this.panelTopBar.append(this.editCase);a=$("<div>").radios({title:"Sort By",items:[{id:"date",icon:"time",tip:"Time"},{id:"count",icon:"bars",tip:"Count"}],selected:this.sort,callback:function(a,b){c.sort==b&&(c.dir=!c.dir);c.sort=b;c.refresh()}});this.panelTopBar.append('<div class="tele-navsep"></div>');this.panelTopBar.append(a);this.panelTopBar.append(this.caseDesc);this.goBack.click(function(){$(".tele-panel-case").remove();telepath.cases.init()});var d=[{label:"random",data:this.data.chart,
color:"#5191D1"}];a=$("<div>").addClass("tele-case-graph");var b=$("<div>").daterange({start:telepath.range.start,end:telepath.range.end,change:function(a,b){telepath.range.start=a;telepath.range.end=b;c.refresh()}}),f=$("<div>").appSelect({callback:function(a){$(".tele-icon-application",f).removeClass("tele-icon-application").addClass("tele-icon-loader");telepath.cases.refresh(function(){$(".tele-icon-loader",f).removeClass("tele-icon-loader").addClass("tele-icon-application")})}});this.container.append(a);
a.flotGraph({data:d,options:{legend:{show:!1},series:{lines:{show:!0,fill:!0},points:{show:!0,fillColor:"#446077"}},yaxis:{alignTicksWithAxis:!0,labelWidth:30,ticks:5,color:"#446077",font:{family:"Arial",color:"#cccccc",size:11,weight:"normal"}},selection:{mode:"x"},xaxis:{alignTicksWithAxis:!0,tickColor:"#cccccc",tickLength:7,font:{family:"Arial",color:"#cccccc",size:11,weight:"normal"},mode:"time",timezone:"browser",timeformat:"%d/%m"},grid:{borderColor:"#446077",borderWidth:1}}});d=$("<div>").addClass("tele-graph-title").html("Case Sessions");
a.prepend(d).prepend(b).prepend('<div class="tele-navsep"></div>').prepend(f);this.panelSubBar=$("<div>").addClass("tele-panel-subtitle");this.container.append(this.panelSubBar);a=$("<a>").cb({callback:function(a){$(".tele-panel-cases .tele-list li.tele-listitem").listitem("option","checked",a.options.checked)}});this.panelSubBar.append(a);this.list=$("<div>").addClass("tele-case-alerts-block");this.listWrap=$("<div>").addClass("tele-wrapper").append(this.list).css({display:"inline-block"}).width("65%");
this.container.append(this.listWrap);this.list.teleList({data:this.data.items,formatter:function(a){return c.formatter(a)}});this.similarsList=$("<div>").addClass("tele-case-similar-block");this.similarsListWrap=$("<div>").addClass("tele-wrapper").append(this.similarsList).css({display:"inline-block"}).width("35%");this.container.append(this.similarsListWrap);this.similarsList.teleList({title:"Related Sessions",data:this.data.similars.items,formatter:function(a){return c.formatter(a)}});$(window).resize(function(){c._resize()})},
formatter:function(a){var c={};c.title=""!=a.title?a.title:a.display_path;c.progbar=!0;c.time=a.date;c.timeFormat="h:i A";c.offset=20;c.icon="case";c.count=a.count;c.itemID=a.sid;c.details=[{key:"country",value:a.country},{key:"IP",value:a.ip_orig},{key:"city",value:a.city},{key:"user",value:a.user_id},{key:"host",value:grabNames(a.host)},{key:"alerts",value:a.alerts_count},{key:"user",value:a.user}];c.raw=a;var d=0<a.alert_count;c.progbarValue=parseInt(a.avg_score);!1!==d?(c.icon="alert",c.description=
d.name,c.progbarValue=d.numeric_score):85<a.avg_score&&(c.icon="suspect_red");return c},_resize:function(){var a=$(window).height();$(".tele-body").css({height:a});a=a-$(".tele-header").outerHeight()-$(".tele-panel-topbar").outerHeight()-$(".tele-case-graph").outerHeight()-$(".tele-panel-subtitle").outerHeight();$(".tele-panel-case .tele-block").height(a-40);$(".tele-panel-case .tele-block .tele-list").height(a-70);$(".tele-panel-case .tele-case-alerts-block .tele-list").mCustomScrollbar("update");
$(".tele-panel-case .tele-case-similar-block .tele-list").mCustomScrollbar("update")}};
telepath.cases={sort:"date",dir:!1,data:[],searchString:"",init:function(){this.drawUI();this.refresh()},refresh:function(a){var c=this;telepath.ds.get("/cases/get_cases",{search:this.searchString,sort:this.sort,dir:this.dir},function(d){var b=[],f;for(f=0;f<d.items.length;++f)d.items[f].name&&b.push(d.items[f]);c.setData(b);"function"==typeof a&&a()})},setData:function(a){this.container=$(".tele-panel-cases .tele-panel-cases-inner");var c=this;this.data=a;$(".tele-block",this.container).remove();
this.list=$("<div>");this.container.append(this.list);this.list.teleList({data:this.data,formatter:function(a){a.checkable=!0;a.favorites=!0;a.favorite="1"==a.case_data.favorite;return telepath["case"].rowFormatter(a)},callbacks:telepath.listitem.generic.callbacks_case});this.panelTitle.html(this.data.length+" Cases");setTimeout(function(){c._resize()},0);$(window).resize(function(){c._resize()})},_resize:function(){if(0!=$(".tele-panel-cases").children().size()){var a=$(window).height();$(".tele-body").css({height:a});
a=a-$(".tele-header").outerHeight()-$(".tele-panel-topbar").outerHeight()-$(".tele-panel-subtitle").outerHeight();$(".tele-panel-cases .tele-block").height(a-20);$(".tele-panel-cases .tele-block .tele-list").height(a-50);$(".tele-panel-cases .tele-list").mCustomScrollbar("update")}},drawUI:function(){var a=this;$(".tele-panel-cases").empty();var c=$("<div>").addClass("tele-panel-cases-inner");$(".tele-panel-cases").append(c);var d=$("<div>").addClass("tele-panel-topbar"),b=$("<div>").addClass("tele-panel-subtitle"),
f=$("<div>").addClass("tele-panel-title"),g=$("<div>").addClass("tele-panel-topbar-right");d.append(f).append(g);this.panelTitle=f;f=$("<div>").btn({icon:"plus",text:"New Case",callback:function(){telepath.access.admin||telepath.access.perm.Cases_add?telepath.caseOverlay.addCase():telepath.dialog({msg:"Access denied. No permissions to add new Case group."})}});this.panelTitle.after(f);c.append(d);c.append(b);c=$("<a>").teleCheckbox({callback:function(b){a.list&&a.list.data("tele-teleList").toggleAll(b.options.checked)}});
b.append(c);c=$("<div>").btn({icon:"delete",text:"Delete",callback:function(){if(a.list){var b=a.list.data("tele-teleList").getSelected();0==b.length?telepath.dialog({msg:"No Case selected."}):telepath.access.admin||telepath.access.perm.Cases_del?telepath.dialog({type:"dialog",title:"Confirm",msg:"Remove "+b.length+" case(s)?",callback:function(){telepath.ds.get("/cases/del_cases",{cids:b},function(c){a.setData(c.items);telepath.ds.get("/cases/flag_requests_by_cases",{"case":b,range:!1,method:"delete",
repeat:!1},function(a){})})}}):telepath.dialog({msg:"Access denied. No permissions to delete Cases."})}}});b.append(c);var b=$("<div>").radios({title:"Sort By",items:[{id:"date",icon:"time",tip:"Time"},{id:"name",icon:"arrow",tip:"ABC"},{id:"count",icon:"bars",tip:"Count"}],selected:this.sort,callback:function(b,c){a.sort==c&&(a.dir=!a.dir);a.sort=c;a.refresh()}}),c=$(".tele-panel-cases .tele-panel-topbar-right"),d=$("<div>").daterange({start:telepath.range.start,end:telepath.range.end,change:function(a,
b){telepath.range.start=a;telepath.range.end=b;telepath.cases.refresh(function(){})}}),e=$("<div>").appSelect({callback:function(a){$(".tele-icon-application",e).removeClass("tele-icon-application").addClass("tele-icon-loader");telepath.cases.refresh(function(){$(".tele-icon-loader",e).removeClass("tele-icon-loader").addClass("tele-icon-application")})}});c.append(b).append('<div class="tele-navsep"></div>').append(d).append('<div class="tele-navsep"></div>').append(e)}};
telepath.alert={grabNames:function(a){var c="";$.each(a,function(a,b){c=c+b.key+", "});0<c.length&&(c=c.substr(0,c.length-2));return c},rowFormatter:function(a,c){a._source&&(a=a._source);if("dashboard"==c){var d=""!=a.user?{key:"user",value:a.user}:{key:"IP",value:a.ip_orig};return{raw:a,itemID:a.sid,icon:"alert",checkable:a.checkable,count:a.alerts_count,progbar:!0,progbarValue:a.ip_score,time:a.date,title:telepath.alert.grabNames(a.alerts_names),details:[d,{key:"country",value:a.country},{key:"host",
value:telepath.alert.grabNames(a.host)}]}}return{raw:a,itemID:a.sid,icon:"alert",checkable:a.checkable,count:a.alerts_count,progbar:!0,progbarValue:a.ip_score,time:a.date,title:telepath.alert.grabNames(a.alerts_names),details:[{key:"IP",value:a.ip_orig},{key:"country",value:a.country},{key:"city",value:a.city},{key:"host",value:telepath.alert.grabNames(a.host)},{key:"actions",value:a.actions_count},{key:"cases",value:a.cases_count},{key:"user",value:a.user}]}},filters:{H:!0,P:!0,G:!0,J:!0,X:!0},getSeverity:function(a){var c=
$("<div>").addClass("tele-severity");0<a&&70>a&&c.addClass("tele-severity-low").text("Low");70<=a&&90>a&&c.addClass("tele-severity-medium").text("Medium");90<=a&&100>a&&c.addClass("tele-severity-critical").text("Critical");c.append("&nbsp;<span>("+a+")</span>");return c},lookupAction:function(a){for(x in telepath.actionList)if(telepath.actionList[x].id=a)return telepath.actionList[x].name;return"Browsing"},lookupRequest:function(a){for(x in this.data.requests){var c=this.data.requests[x];if(c.RID==
a)return c}return!1},lookupAlert:function(a){for(x in this.data.alerts){var c=this.data.alerts[x];if(c.RID==a)return c}return this.data.alerts[0]},data:[],updateSelected:function(){$(".selected",this.actionsContainer).removeClass("selected");var a=$("li:nth-child("+(this.selectedIndex+1)+")",this.actionsContainer);$(".tele-listitem-inner",a).addClass("selected");a=a.listitem("option","dataID");this.expandRequest(a);$(this.actionsContainer).mCustomScrollbar("scrollTo","li:nth-child("+(this.selectedIndex+
1)+")")},scrollUp:function(){0<this.selectedIndex&&this.selectedIndex--;this.updateSelected()},scrollDown:function(){this.selectedIndex<this.data.requests.length&&this.selectedIndex++;this.updateSelected()},keyDown:function(a){"38"==a.keyCode&&(a.preventDefault(),telepath.alert.scrollUp());"40"==a.keyCode&&(a.preventDefault(),telepath.alert.scrollDown())},destroy:function(){$(document).unbind("overlay_destroy",telepath.alert.destroy);$(document).unbind("keydown",telepath.alert.keyDown)},initTools:function(){this.archiveAlert=
$("<div>").btn({icon:"archive",text:"Archive Alert",callback:function(){}});this.overlay.headerEl.append(this.archiveAlert);this.overlay.headerEl.append('<div class="tele-navsep"></div>');this.moveTo=$("<div>").dropdown({icon:"moveTo",value:"Move To",callback:function(){}});this.overlay.headerEl.append(this.moveTo);this.overlay.headerEl.append('<div class="tele-navsep"></div>');this.editRule=$("<div>").btn({icon:"edit",text:"Edit Rule",callback:function(){}});this.overlay.headerEl.append(this.editRule)},
initSingle:function(a){$(document).unbind("keydown",telepath.alert.keyDown);$(document).bind("keydown",telepath.alert.keyDown);$(document).bind("overlay_destroy",telepath.alert.destroy);telepath.overlay.init("alerts","Loading ...");this.overlay=telepath.overlay;this.initTools();telepath.ds.get("/alerts/get_alert",{RID:a},function(a){telepath.alert.showAlert(a.items)})},init:function(a,c){$(document).unbind("keydown",telepath.alert.keyDown);$(document).bind("keydown",telepath.alert.keyDown);$(document).bind("overlay_destroy",
telepath.alert.destroy);telepath.overlay.init("alerts","Loading ...");this.overlay=telepath.overlay;this.loadAlert(a);this.pagination=$("<div>").pagination({current:c,count:telepath.alerts.data.alerts.length,name:"Alert",callback:function(a){telepath.alert.loadAlert(telepath.alerts.data.alerts[a].id)}});this.overlay.headerEl.append(this.pagination);this.overlay.headerEl.append('<div class="tele-navsep"></div>');this.initTools()},loadAlert:function(a){this.alertID=a;this.overlay.titleEl.html("Loading alert #"+
this.alertID);this.overlay.contentEl.empty().append(telepath.loader);var c=!1;for(x in telepath.alerts.data.alerts)if(telepath.alerts.data.alerts[x].id==a){c=telepath.alerts.data.alerts[x];break}c&&telepath.ds.get("/alerts/get_alert",{SID:c.SID,epoch:c.date},function(a){telepath.alert.showAlert(a.items)})},formatData:function(a){var c=this,d={};d.title=""!=a.title?a.title:a.display_path;d.progbar=!0;d.time=a.date;d.timeFormat="h:i A";d.offset=20;d.icon="suspect";d.dataID=a.sid;$.each(telepath.alert.data.alerts,
function(b,c){c.RID==a.RID&&(d.icon="suspect_red")});d.progbarValue=a.ip_score;d.callback=function(a,d){$(".selected",c.actionsContainer).removeClass("selected");$(".tele-listitem-inner",a.element).addClass("selected");c.expandRequest(a.options.dataID)};return d},showAlert:function(a){var c=this.overlay.contentEl;c.empty();this.selectedIndex=0;telepath.alert.data=a;this.alertLeft=$("<div>").addClass("tele-alert-left");this.alertMid=$("<div>").addClass("tele-alert-mid");this.alertRight=$("<div>").addClass("tele-alert-right");
c.append(this.alertLeft).append(this.alertMid).append(this.alertRight);this.overlay.titleEl.html("Alert #"+this.alertID);var d={All:a.requests.length,Alerts:a.alerts.length,Actions:0};$.each(a.requests,function(a,b){b.business_id&&b.business_status&&"2"==b.business_status&&d.Actions++});var b=$("<div>").addClass("tele-alert-stats");$.each(d,function(a,c){var d=$("<div>").addClass("tele-alert-stat"),e=$("<div>").addClass("tele-alert-stat-key").html(a),f=$("<div>").addClass("tele-alert-stat-value").html(c);
d.append(e).append(f);b.append(d)});this.alertLeft.append(b);var c=$("<div>").addClass("tele-alert-duration"),f=$("<div>").addClass("tele-alert-duration-start"),g=$("<div>").addClass("tele-alert-duration-lbl").html("Started:"),e=$("<div>").addClass("tele-alert-duration-val").html(date_format("d/m/y | h:i A",a.requests[0].date)),h=$("<div>").addClass("tele-alert-duration-end"),l=$("<div>").addClass("tele-alert-duration-lbl").html("Ended:"),m=$("<div>").addClass("tele-alert-duration-val").html(date_format("d/m/y | h:i A",
a.requests[a.requests.length-1].date));f.append(g).append(e);h.append(l).append(m);c.append(f).append(h);this.alertLeft.append(c);this.actionsContainer=$("<div>").addClass("tele-alert-actions");this.alertLeft.append(this.actionsContainer);this.requestDetails=$("<div>").addClass("tele-alert-details").addClass("tele-popup");this.alertMid.prepend(this.requestDetails);this.lastAction=-1;this.printed=0;for(x in a.requests)c=a.requests[x],c.business_id!=this.lastAction&&(this.actionContainer=$("<div>").addClass("tele-alert-action"),
this.actionContainerIcon=$("<div>").addClass("tele-alert-action-icon").addClass("tele-icon").addClass("tele-icon-suspect"),this.actionContainerTitle=$("<div>").addClass("tele-alert-action-title").text(this.lookupAction(c.business_id)),this.newList=$('<ul class="tele-list">'),this.actionContainer.append(this.actionContainerIcon).append(this.actionContainerTitle).append(this.newList),$(this.actionsContainer).append(this.actionContainer),this.lastAction=c.business_id),c=this.formatData(c),f=$("<li>").attr("id",
"alert-item-"+x),this.newList.append(f),f.listitem(c),this.printed++;$(this.actionsContainer).mCustomScrollbar({scrollButtons:{enable:!1},scrollInertia:150,callbacks:{onTotalScrollOffset:50,onTotalScroll:function(){}}});this.updateSelected()},expandRequest:function(a){var c=this;this.requestDetails.empty();this.requestDetails.append(a);this.requestDetails.append(telepath.loader);var d=this.lookupRequest(a);d&&(this.requestInfo=d,telepath.ds.get("/similarities/",{param_type:"request",param_id:a},function(a){c.similaritiesList=
$("<div>");c.similaritiesList.teleList({title:"Similar Requests",titleCallback:function(){},data:a.items,formatter:function(a){return{icon:"suspect",time:a.date,itemID:a.RID,progbar:!0,progbarValue:parseInt(100*a.ip_score),details:[{key:"country",value:a.country},{key:"IP",value:a.IP}]}},callbacks:{click:function(a){},hover_in:function(a,b){},hover_out:function(a,b){}}}).appendTo(c.requestDetails)}),telepath.ds.get("/alerts/get_session_flow_params",{sid:d.SID,rids:a,epoch:d.date},function(a){c.expandRequestData(a)}))},
expandRequestData:function(a){$(".loader",this.requestDetails).remove();this.requestData=a.items;this.printParams()},printParams:function(a){a=this.requestDetails;a.empty();this.printParamsFilters(a);this.printAlertDetails(a);this.printParamsTable(a);this.printAlertInfo(this.alertRight)},printParamsFilters:function(a){var c=this;this.filtersContainer=$("<div>").addClass("tele-alert-filters");a.append(this.filtersContainer);$.each([{type:"H",label:"Headers"},{type:"G",label:"Get"},{type:"P",label:"Post"},
{type:"J",label:"Json"},{type:"X",label:"XML"}],function(a,b){var f=$("<div>").teleCheckbox({checked:telepath.alert.filters[b.type],label:b.label,inputFirst:!0,callback:function(a){telepath.alert.filters[b.type]=a.options.checked;c.printParams()}});c.filtersContainer.append(f)})},printAlertDetails:function(a){this.alertDetails=$("<div>").addClass("tele-alert-details-info");a.append(this.alertDetails);this.alertDetailsTitle=$("<div>").addClass("tele-alert-details-info-title").text(this.lookupAction(this.requestInfo.business_id));
this.alertDetailsTimeWrap=$("<div>").addClass("tele-alert-details-info-time-wrap");this.alertDetailsTimeLabel=$("<div>").addClass("tele-alert-details-info-time-label").text("Request time:");this.alertDetailsTime=$("<div>").addClass("tele-alert-details-info-time").text(date_format("m/d/y | H:i:s",this.requestInfo.date));this.alertDetailsTimeWrap.append(this.alertDetailsTimeLabel).append(this.alertDetailsTime);a=parseInt(100*this.requestData.avg_score)+"%";this.alertSeverityWrap=$("<div>").addClass("tele-alert-severity-wrap");
this.alertSeverityLabel=$("<div>").addClass("tele-alert-severity-label").text("Severity");this.alertSeverityPercent=$("<div>").addClass("tele-alert-severity-percent").text(a);this.alertSeverityProgBar=$("<div>").addClass("tele-alert-severity-progbar");this.alertSeverityProgValue=$("<div>").addClass("tele-alert-severity-progbar-value").css({width:a});this.alertSeverityWrap.append(this.alertSeverityLabel).append(this.alertSeverityPercent).append(this.alertSeverityProgBar);this.alertSeverityProgBar.append(this.alertSeverityProgValue);
this.alertDetails.append(this.alertSeverityWrap).append(this.alertDetailsTitle).append(this.alertDetailsTimeWrap)},printAlertInfo:function(a){function c(a,b){var c=$("<tr>"),d=$("<td>").html(a).addClass("tele-alert-info-key"),l=$("<td>").html(b).addClass("tele-alert-info-value");c.append(d).append(l);return c}a.empty();var d=this.lookupAlert(this.requestInfo.RID);this.alertInfo=$("<div>").addClass("tele-alert-info");this.alertInfoTitle=$("<div>").addClass("tele-alert-info-title").text("Alert Info");
this.alertInfoLabel=$("<div>").addClass("tele-alert-info-label").text("Description:");this.alertInfoDesc=$("<div>").addClass("tele-alert-info-description").text(d.description);var b=this.alertInfoTable=$("<div>").addClass("tele-alert-info-table");b.append(c("Time:",date_format("m/d/y | H:i:s",d.date)));b.append(c("Severity:",this.getSeverity(d.numeric_score)));b.append(c("Applications:",this.requestInfo.app_domain));b.append(c("IP:",d.ip));b.append(c("Location:",'<span class="flag flag-'+this.requestInfo.country+
'"></span><span class="tele-country">'+telepath.countries.a2n(this.requestInfo.country)+"</span>"));d.user&&""!=d.user&&b.append(c("User:",d.user));this.alertInfo.append(this.alertInfoTitle).append(this.alertInfoLabel).append(this.alertInfoDesc).append(this.alertInfoTable);a.append(this.alertInfo)},printParamsTable:function(a){var c=$("<div>").addClass("tele-alert-params-table-wrap"),d=$("<table>").addClass("tele-alert-params-table");$.each(this.requestData.params,function(a,c){if(telepath.alert.filters[c.att_source]){var g=
$("<tr>"),e=$("<td>").addClass("tele-param-name").html(c.att_name),h=$("<td>").addClass("tele-param-data").html(c.data),l=$("<td>").addClass("tele-param-score").html(parseInt(c.attribute_score_normal)+"%");parseInt(c.attribute_score_normal)&&(l.addClass("severe"),h.addClass("severe"));g.append(e).append(h).append(l);d.append(g)}});a.append(c);c.append(d);$(c).mCustomScrollbar()}};
telepath.alerts={sort:"date",dir:!1,data:[],searchString:"",filter:[],init:function(){var a=this,c=$(".tele-panel-alerts");c.empty();this.filter=[];var d=$("<div>").addClass("tele-panel-topbar"),b=$("<div>").addClass("tele-panel-subtitle"),f=$("<div>").addClass("tele-panel-title"),g=$("<div>").addClass("tele-panel-topbar-right");d.append(f).append(g);f.html("Loading Alerts");this.panelTitle=f;c.append(d).append(b).append(telepath.loader);d=$("<div>").radios({title:"Sort By",items:[{id:"date",icon:"time",
tip:"Time"},{id:"count",icon:"bars",tip:"Count"}],selected:this.sort,callback:function(b,c){a.sort==c&&(a.dir=!a.dir);a.sort=c;a.refresh()}});c=$("<div>").teleSearch({callback:function(a,b){telepath.alerts.searchString=b}});$("<a>").addClass("icon-delete-input2").attr("id","remove-button").click(function(){$(".tele-panel-alerts .tele-search-input").val("");telepath.alerts.searchString="";telepath.alerts.refresh()});b.append(c);c=$(".tele-panel-alerts .tele-panel-topbar-right");c.empty();var b=$("<div>").daterange({start:telepath.range.start,
end:telepath.range.end,change:function(a,b){telepath.range.start=a;telepath.range.end=b;telepath.alerts.refresh()}}),e=$("<div>").appSelect({callback:function(a){$(".tele-icon-application",e).removeClass("tele-icon-application").addClass("tele-icon-loader");telepath.alerts.refresh(function(){$(".tele-icon-loader",e).removeClass("tele-icon-loader").addClass("tele-icon-application")})}});c.append(d).append('<div class="tele-navsep"></div>').append(b).append('<div class="tele-navsep"></div>').append(e);
telepath.alerts.refresh();var h;$(".tele-panel-alerts .tele-search-input").keyup("input",function(){clearTimeout(h);$(".tele-panel-alerts .tele-search-input").val()&&(h=setTimeout(function(){telepath.alerts.searchString=$(".tele-panel-alerts .tele-search-input").val();a.input()},1E3))});$("#search-button").on("click",function(b){a.searchString="";$(".tele-panel-alerts .tele-search-input").prop("value",telepath.alerts.searchString);a.input()});telepath.alerts.searchString&&($(".tele-panel-alerts .tele-search-input").prop("value",
telepath.alerts.searchString),a.input())},input:function(){var a=$("#search-button");0<telepath.alerts.searchString.length?a.addClass("icon-delete-input2").removeClass("tele-search-button"):a.removeClass("icon-delete-input2").addClass("tele-search-button");this.refresh()},refresh:function(a){telepath.ds.get("/alerts/index",{sort:this.sort,dir:this.dir,search:this.searchString,filters:this.filter},function(c){telepath.alerts.setData(c.items);a&&"function"==typeof a&&a()})},setData:function(a){telepath.alerts.data=
a;var c=this,d=$(".tele-panel-alerts");this.container=d;$(".tele-alerts-block, .tele-alert-graphs-block, .tele-loader",d).remove();if(0==a.alerts.total)this.panelTitle.html("No Data");else if(this.list=$("<div>").addClass("tele-alerts-block"),this.container.append(this.list),this.list.teleList({data:this.data.alerts.items,searchkey:telepath.alerts.searchString,formatter:function(a){return telepath.alert.rowFormatter(a)},callbacks:{scroll:function(a,b){telepath.ds.get("/alerts/index",{sort:telepath.alerts.sort,
dir:telepath.alerts.dir,search:telepath.alerts.searchString,offset:a,filters:c.filter},function(a){b(a)})}}}),this.panelTitle.html(a.alerts.count+" Sessions"),0!=parseInt(a.alerts.count)){a=$('<div class="tele-alert-graphs-block">').css({marginTop:20});$(d).append(a);var d=$("<div>").addClass("tele-alert-graph-overtime"),b=$("<h2>").html("Alerts over time"),f=$("<div>").addClass("tele-alert-graph-overtime-canvas");d.append(b).append(f);var b=$("<div>").addClass("tele-alert-graph-distribution"),g=
$("<h2>").html("Alert distribution");this.graphDistributionCanvas=$("<div>").addClass("tele-alert-graph-distribution-canvas");var e=$("<div>").attr("id","alert-distribution-showPercent"),h=$("<div>").attr("id","alert-distribution-legend"),l=$("<div>").toggleFlip({left_value:"Type",right_value:"Business Action",flip:function(a){a?($("#alert-distribution-showPercent").empty(),telepath.alerts.show_action_distribution()):($("#alert-distribution-showPercent").empty(),telepath.alerts.show_alert_distribution())}});
b.append(g).append(l).append(e).append(h).append(this.graphDistributionCanvas);a.append(d).append(b);f.flotGraph({data:[{label:"random",data:this.data.time_chart,color:"#FC3D3D"}],options:{legend:{show:!1},series:{lines:{show:!0,fill:!0},points:{show:!0,fillColor:"#fff"}},yaxis:{ticks:5,color:"#D6D6D6",font:{color:"#cccccc",size:11,weight:"bold"}},selection:{mode:"x"},xaxis:{font:{color:"#cccccc",size:11,weight:"bold"},mode:"time",timezone:"browser",timeformat:"%d/%m/%y"},grid:{borderColor:"#D6D6D6",
borderWidth:0,clickable:!0,hoverable:!0,autoHighlight:!0},tooltip:!0,tooltipOpts:{content:"date: %x | alerts: %y"}}});telepath.alerts.show_alert_distribution();$(a).mCustomScrollbar({advanced:{updateOnContentResize:!0},scrollButtons:{enable:!1}});$(window).unbind("resize",c._resize);$(window).bind("resize",c._resize);$(window).trigger("resize")}},show_alert_distribution:function(){function a(a,b,c){c&&(percent=parseFloat(c.series.percent).toFixed(2),$("#alert-distribution-showPercent").html('<span style="font-weight: bold; color: '+
c.series.color+'">'+c.series.label+" ("+percent+"%)</span>"),$(".tele-graph-canvas .flot-overlay").css({cursor:"pointer"}))}function c(a,b,c){c&&(c.series.label&&(f.filter=[],f.filter.push(c.series.label)),f.refresh())}function d(){$(".legend tr").on("click",function(){var a=$(this).children(".legendLabel").text();-1!=$.inArray(a,f.filter)?f.filter.splice($.inArray(a,f.filter),1):f.filter.push(a);f.refresh()})}function b(){$(".legend tr").css({cursor:"pointer"});0<f.filter.length?$.each($(".legend tr"),
function(a,b){-1==$.inArray(b.children[1].innerText,f.filter)&&($(this).children(".legendColorBox").children().html('<div style="width:4px;height:0;border:5px solid #999;overflow:hidden; "></div>'),$(this).css({opacity:"0.5"}))}):$.each(f.data.distribution_chart,function(a,b){f.filter.push(b.label)})}var f=this;this.graphDistributionCanvas.empty();var g=this.data.distribution_chart,e=0;$.each(g,function(a,b){e+=parseInt(b.data)});var h={series:{pie:{show:!0,radius:.5,innerRadius:.4,margin:100,label:{show:!1,
radius:.3,formatter:function(a,b){var c=parseInt(b.data[0][1]),d=parseInt(c/e*100)+"%",f=$("<div>"),g=$("<div>").addClass("tele-pie-label").html(a),d=$("<div>").addClass("tele-pie-percent").html(d).css("color",b.color),c=$("<div>").addClass("tele-pie-count").html(c+" alerts");f.append(g).append(d).append(c);return f.html()}}}},grid:{hoverable:!0,clickable:!0},legend:{show:!0,position:"nw",margin:[50,100],sorted:"ascending"}};setTimeout(function(){telepath.alerts.graphDistributionCanvas.flotGraph({data:g,
options:h});$(".tele-alert-graph-distribution-canvas .tele-graph-canvas").bind("plothover",a);$(".tele-alert-graph-distribution-canvas .tele-graph-canvas").bind("plotclick",c);d();b()},100)},show_action_distribution:function(){function a(a,b,c){c&&(percent=parseFloat(c.series.percent).toFixed(2),$("#alert-distribution-showPercent").html('<span style="font-weight: bold; color: '+c.series.color+'">'+c.series.label+" ("+percent+"%)</span>"),$(".tele-graph-canvas .flot-overlay").css({cursor:"pointer"}))}
function c(a,b,c){c&&(c.series.label&&(that.filter=[],that.filter.push(c.series.label)),that.refresh())}function d(){$(".legend tr").on("click",function(){var a=$(this).children(".legendLabel").text();-1!=$.inArray(a,that.filter)?that.filter.splice($.inArray(a,that.filter),1):that.filter.push(a);that.refresh()})}function b(){$(".legend tr").css({cursor:"pointer"});0<that.filter.length?$.each($(".legend tr"),function(a,b){-1==$.inArray(b.children[1].innerText,that.filter)&&($(this).children(".legendColorBox").children().html('<div style="width:4px;height:0;border:5px solid #999;overflow:hidden; "></div>'),
$(this).css({opacity:"0.5"}))}):$.each(that.data.distribution_chart,function(a,b){that.filter.push(b.label)})}this.graphDistributionCanvas.empty();var f=this.data.action_distribution_chart,g=0;$.each(f,function(a,b){g+=parseInt(b.data)});var e={series:{pie:{show:!0,radius:.5,innerRadius:.4,margin:100,label:{show:!1,radius:.3,formatter:function(a,b){var c=parseInt(b.data[0][1]),d=parseInt(c/g*100)+"%",e=$("<div>"),f=$("<div>").addClass("tele-pie-label").html(a),d=$("<div>").addClass("tele-pie-percent").html(d).css("color",
b.color),c=$("<div>").addClass("tele-pie-count").html(c+" alerts");e.append(f).append(d).append(c);return e.html()}}}},grid:{hoverable:!0,clickable:!0},legend:{show:!0,position:"nw",margin:[50,100],sorted:"ascending"}};setTimeout(function(){telepath.alerts.graphDistributionCanvas.flotGraph({data:f,options:e});$(".tele-alert-graph-distribution-canvas .tele-graph-canvas").bind("plothover",a);$(".tele-alert-graph-distribution-canvas .tele-graph-canvas").bind("plotclick",c);d();b()},100)},_resize:function(){if(0!=
$(".tele-panel-alerts").children().size()){var a=$(window).height(),c=$(window).width()-10;$(".tele-body").css({height:a});var a=a-$(".tele-header").outerHeight()-$(".tele-panel-topbar").outerHeight()-$(".tele-panel-subtitle").outerHeight(),d;d=1200>c?1024>c?300:400:600;$(".tele-panel-alerts .tele-alert-graphs-block",this.list).width(d);$(".tele-panel-alerts .tele-block").width(c-d-15);$(".tele-panel-alerts .tele-block .tele-list").width(c-d-25).height(a-50).mCustomScrollbar("update");$(".tele-panel-alerts .tele-alert-graphs-block").height(a-
50).mCustomScrollbar("update")}}};
telepath.suspects={sort:"date",dir:!1,data:[],total:0,searchString:"",rowFormatter:function(a,c){if("dashboard"==c){var d=""!=a.user?{key:"user",value:a.user}:{key:"IP",value:a.ip_orig};result={raw:a,icon:"suspect",time:a.ts,progbar:!0,itemID:a.sid,progbarBig:a.progbarBig,checkable:a.checkable,checked:a.checked,count:a.count,progbarValue:a.ip_score,time:a.date,details:[{key:"country",value:a.country},{key:"host",value:grabNames(a.host)},d]}}else result={raw:a,icon:"suspect",time:a.ts,progbar:!0,itemID:a.sid,
progbarBig:a.progbarBig,checkable:a.checkable,checked:a.checked,count:a.count,progbarValue:a.ip_score,time:a.date,details:[{key:"country",value:a.country},{key:"IP",value:a.ip_orig},{key:"city",value:a.city},{key:"host",value:grabNames(a.host)},{key:"alerts",value:a.alerts_count},{key:"actions",value:a.actions_count},{key:"cases",value:a.cases_count},{key:"user",value:a.user}]};return result},init:function(){var a=this;this.container=$(".tele-panel-suspects");this.container.empty();this.panelTopBar=
$("<div>").addClass("tele-panel-topbar");this.panelTitle=$("<div>").addClass("tele-panel-title");this.panelTopBar.append(this.panelTitle);this.panelTitle.html("Loading Suspects");this.container.append(this.panelTopBar);this.panelSubBar=$("<div>").addClass("tele-panel-subtitle");this.panelTopBarRight=$("<div>").addClass("tele-panel-topbar-right");this.panelTopBar.append(this.panelTopBarRight);this.container.append(this.panelSubBar);var c=$("<div>").daterange({start:telepath.range.start,end:telepath.range.end,
change:function(a,b){telepath.suspects.refresh(function(){})}}),d=$("<div>").radios({title:"Sort By",items:[{id:"date",icon:"time",tip:"Time"},{id:"count",icon:"bars",tip:"Count"}],selected:this.sort,callback:function(b,c){a.sort==c&&(a.dir=!a.dir);a.sort=c;a.refresh()}});this.panelTopBarRight.append(d).append('<div class="tele-navsep"></div>');var b=$("<div>").appSelect({callback:function(a){$(".tele-icon-application",b).removeClass("tele-icon-application").addClass("tele-icon-loader");telepath.suspects.refresh(function(){$(".tele-icon-loader",
b).removeClass("tele-icon-loader").addClass("tele-icon-application")})}});this.panelTopBarRight.append(c).append('<div class="tele-navsep"></div>').append(b);c=$("<div>").teleSearch({callback:function(a,b){telepath.suspects.searchString=b}});$("<a>").addClass("icon-delete-input2").attr("id","remove-button").click(function(){$(".tele-panel-suspects .tele-search-input").val("");telepath.suspects.searchString="";telepath.suspects.refresh()});this.panelSubBar.append(c);this.refresh();var f;$(".tele-panel-suspects .tele-search-input").keyup("input",
function(){clearTimeout(f);$(".tele-panel-suspects .tele-search-input").val()&&(f=setTimeout(function(){a.searchString=$(".tele-panel-suspects .tele-search-input").val();a.input()},1E3))});$("#search-button").on("click",function(b){a.searchString="";$(".tele-panel-suspects .tele-search-input").prop("value",a.searchString);a.input()});a.searchString&&($(".tele-panel-suspects .tele-search-input").prop("value",a.searchString),a.input())},input:function(){var a=$("#search-button");0<this.searchString.length?
a.addClass("icon-delete-input2").removeClass("tele-search-button"):a.removeClass("icon-delete-input2").addClass("tele-search-button");this.refresh()},refresh:function(a){$(".tele-block, .tele-loader",this.container).remove();this.container.append(telepath.loader);var c=this;telepath.ds.get("/suspects/index",{sort:this.sort,dir:this.dir,search:this.searchString},function(d){c.count=d.count;c.data=d.items;telepath.suspects.loadData();"function"==typeof a&&a()})},_resize:function(){if(0!=$(".tele-panel-suspects").children().size()){var a=
$(window).height();$(".tele-body").css({height:a});a=a-$(".tele-header").outerHeight()-$(".tele-panel-topbar").outerHeight()-$(".tele-panel-subtitle").outerHeight();$(".tele-panel-suspects .tele-block").height(a-20);$(".tele-panel-suspects .tele-block .tele-list").height(a-50);$(".tele-list").mCustomScrollbar("update")}},loadData:function(){var a=this;$(".tele-block, .tele-loader",this.container).remove();this.suspectsList=$("<div>");this.container.append(this.suspectsList);this.suspectsList.teleList({context:"panel",
data:this.data,searchkey:telepath.suspects.searchString,formatter:function(a){return telepath.suspects.rowFormatter(a)},callbacks:{scroll:function(a,d){telepath.ds.get("/suspects/index",{sort:telepath.suspects.sort,dir:telepath.suspects.dir,search:telepath.suspects.searchString,offset:a},function(a){d(a)})}}});this.panelTitle.html(this.count+" Sessions");setTimeout(function(){a._resize()},0);$(window).resize(function(){a._resize()})}};
telepath.reports={init:function(){this.container=$(".tele-panel-reports");this.container.append('<h1 style="padding: 50px; font-size: 24px; font-weight: bold;">Under Construction</h1>')}};
